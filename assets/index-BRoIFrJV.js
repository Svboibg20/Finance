function II(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function P_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cf={exports:{}},ll={},df={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function SI(){if(Ny)return Oe;Ny=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),E=Symbol.iterator;function I(z){return z===null||typeof z!="object"?null:(z=E&&z[E]||z["@@iterator"],typeof z=="function"?z:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,b={};function A(z,G,ie){this.props=z,this.context=G,this.refs=b,this.updater=ie||T}A.prototype.isReactComponent={},A.prototype.setState=function(z,G){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,G,"setState")},A.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function j(){}j.prototype=A.prototype;function q(z,G,ie){this.props=z,this.context=G,this.refs=b,this.updater=ie||T}var Q=q.prototype=new j;Q.constructor=q,O(Q,A.prototype),Q.isPureReactComponent=!0;var te=Array.isArray,ce=Object.prototype.hasOwnProperty,le={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function R(z,G,ie){var me,Ee={},Pe=null,Se=null;if(G!=null)for(me in G.ref!==void 0&&(Se=G.ref),G.key!==void 0&&(Pe=""+G.key),G)ce.call(G,me)&&!D.hasOwnProperty(me)&&(Ee[me]=G[me]);var Me=arguments.length-2;if(Me===1)Ee.children=ie;else if(1<Me){for(var We=Array(Me),rt=0;rt<Me;rt++)We[rt]=arguments[rt+2];Ee.children=We}if(z&&z.defaultProps)for(me in Me=z.defaultProps,Me)Ee[me]===void 0&&(Ee[me]=Me[me]);return{$$typeof:n,type:z,key:Pe,ref:Se,props:Ee,_owner:le.current}}function k(z,G){return{$$typeof:n,type:z.type,key:G,ref:z.ref,props:z.props,_owner:z._owner}}function L(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function F(z){var G={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ie){return G[ie]})}var M=/\/+/g;function N(z,G){return typeof z=="object"&&z!==null&&z.key!=null?F(""+z.key):G.toString(36)}function Be(z,G,ie,me,Ee){var Pe=typeof z;(Pe==="undefined"||Pe==="boolean")&&(z=null);var Se=!1;if(z===null)Se=!0;else switch(Pe){case"string":case"number":Se=!0;break;case"object":switch(z.$$typeof){case n:case e:Se=!0}}if(Se)return Se=z,Ee=Ee(Se),z=me===""?"."+N(Se,0):me,te(Ee)?(ie="",z!=null&&(ie=z.replace(M,"$&/")+"/"),Be(Ee,G,ie,"",function(rt){return rt})):Ee!=null&&(L(Ee)&&(Ee=k(Ee,ie+(!Ee.key||Se&&Se.key===Ee.key?"":(""+Ee.key).replace(M,"$&/")+"/")+z)),G.push(Ee)),1;if(Se=0,me=me===""?".":me+":",te(z))for(var Me=0;Me<z.length;Me++){Pe=z[Me];var We=me+N(Pe,Me);Se+=Be(Pe,G,ie,We,Ee)}else if(We=I(z),typeof We=="function")for(z=We.call(z),Me=0;!(Pe=z.next()).done;)Pe=Pe.value,We=me+N(Pe,Me++),Se+=Be(Pe,G,ie,We,Ee);else if(Pe==="object")throw G=String(z),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return Se}function at(z,G,ie){if(z==null)return z;var me=[],Ee=0;return Be(z,me,"","",function(Pe){return G.call(ie,Pe,Ee++)}),me}function Ke(z){if(z._status===-1){var G=z._result;G=G(),G.then(function(ie){(z._status===0||z._status===-1)&&(z._status=1,z._result=ie)},function(ie){(z._status===0||z._status===-1)&&(z._status=2,z._result=ie)}),z._status===-1&&(z._status=0,z._result=G)}if(z._status===1)return z._result.default;throw z._result}var be={current:null},se={transition:null},ne={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:se,ReactCurrentOwner:le};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:at,forEach:function(z,G,ie){at(z,function(){G.apply(this,arguments)},ie)},count:function(z){var G=0;return at(z,function(){G++}),G},toArray:function(z){return at(z,function(G){return G})||[]},only:function(z){if(!L(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Oe.Component=A,Oe.Fragment=t,Oe.Profiler=o,Oe.PureComponent=q,Oe.StrictMode=i,Oe.Suspense=f,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,Oe.act=oe,Oe.cloneElement=function(z,G,ie){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var me=O({},z.props),Ee=z.key,Pe=z.ref,Se=z._owner;if(G!=null){if(G.ref!==void 0&&(Pe=G.ref,Se=le.current),G.key!==void 0&&(Ee=""+G.key),z.type&&z.type.defaultProps)var Me=z.type.defaultProps;for(We in G)ce.call(G,We)&&!D.hasOwnProperty(We)&&(me[We]=G[We]===void 0&&Me!==void 0?Me[We]:G[We])}var We=arguments.length-2;if(We===1)me.children=ie;else if(1<We){Me=Array(We);for(var rt=0;rt<We;rt++)Me[rt]=arguments[rt+2];me.children=Me}return{$$typeof:n,type:z.type,key:Ee,ref:Pe,props:me,_owner:Se}},Oe.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Oe.createElement=R,Oe.createFactory=function(z){var G=R.bind(null,z);return G.type=z,G},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(z){return{$$typeof:h,render:z}},Oe.isValidElement=L,Oe.lazy=function(z){return{$$typeof:_,_payload:{_status:-1,_result:z},_init:Ke}},Oe.memo=function(z,G){return{$$typeof:m,type:z,compare:G===void 0?null:G}},Oe.startTransition=function(z){var G=se.transition;se.transition={};try{z()}finally{se.transition=G}},Oe.unstable_act=oe,Oe.useCallback=function(z,G){return be.current.useCallback(z,G)},Oe.useContext=function(z){return be.current.useContext(z)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(z){return be.current.useDeferredValue(z)},Oe.useEffect=function(z,G){return be.current.useEffect(z,G)},Oe.useId=function(){return be.current.useId()},Oe.useImperativeHandle=function(z,G,ie){return be.current.useImperativeHandle(z,G,ie)},Oe.useInsertionEffect=function(z,G){return be.current.useInsertionEffect(z,G)},Oe.useLayoutEffect=function(z,G){return be.current.useLayoutEffect(z,G)},Oe.useMemo=function(z,G){return be.current.useMemo(z,G)},Oe.useReducer=function(z,G,ie){return be.current.useReducer(z,G,ie)},Oe.useRef=function(z){return be.current.useRef(z)},Oe.useState=function(z){return be.current.useState(z)},Oe.useSyncExternalStore=function(z,G,ie){return be.current.useSyncExternalStore(z,G,ie)},Oe.useTransition=function(){return be.current.useTransition()},Oe.version="18.3.1",Oe}var Dy;function gp(){return Dy||(Dy=1,df.exports=SI()),df.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function xI(){if(Oy)return ll;Oy=1;var n=gp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,f,m){var _,E={},I=null,T=null;m!==void 0&&(I=""+m),f.key!==void 0&&(I=""+f.key),f.ref!==void 0&&(T=f.ref);for(_ in f)i.call(f,_)&&!a.hasOwnProperty(_)&&(E[_]=f[_]);if(h&&h.defaultProps)for(_ in f=h.defaultProps,f)E[_]===void 0&&(E[_]=f[_]);return{$$typeof:e,type:h,key:I,ref:T,props:E,_owner:o.current}}return ll.Fragment=t,ll.jsx=c,ll.jsxs=c,ll}var Ly;function CI(){return Ly||(Ly=1,cf.exports=xI()),cf.exports}var C=CI(),x=gp();const ue=P_(x),RI=II({__proto__:null,default:ue},[x]);var pc={},hf={exports:{}},pn={},ff={exports:{}},pf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function AI(){return Vy||(Vy=1,function(n){function e(se,ne){var oe=se.length;se.push(ne);e:for(;0<oe;){var z=oe-1>>>1,G=se[z];if(0<o(G,ne))se[z]=ne,se[oe]=G,oe=z;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var ne=se[0],oe=se.pop();if(oe!==ne){se[0]=oe;e:for(var z=0,G=se.length,ie=G>>>1;z<ie;){var me=2*(z+1)-1,Ee=se[me],Pe=me+1,Se=se[Pe];if(0>o(Ee,oe))Pe<G&&0>o(Se,Ee)?(se[z]=Se,se[Pe]=oe,z=Pe):(se[z]=Ee,se[me]=oe,z=me);else if(Pe<G&&0>o(Se,oe))se[z]=Se,se[Pe]=oe,z=Pe;else break e}}return ne}function o(se,ne){var oe=se.sortIndex-ne.sortIndex;return oe!==0?oe:se.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],_=1,E=null,I=3,T=!1,O=!1,b=!1,A=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(se){for(var ne=t(m);ne!==null;){if(ne.callback===null)i(m);else if(ne.startTime<=se)i(m),ne.sortIndex=ne.expirationTime,e(f,ne);else break;ne=t(m)}}function te(se){if(b=!1,Q(se),!O)if(t(f)!==null)O=!0,Ke(ce);else{var ne=t(m);ne!==null&&be(te,ne.startTime-se)}}function ce(se,ne){O=!1,b&&(b=!1,j(R),R=-1),T=!0;var oe=I;try{for(Q(ne),E=t(f);E!==null&&(!(E.expirationTime>ne)||se&&!F());){var z=E.callback;if(typeof z=="function"){E.callback=null,I=E.priorityLevel;var G=z(E.expirationTime<=ne);ne=n.unstable_now(),typeof G=="function"?E.callback=G:E===t(f)&&i(f),Q(ne)}else i(f);E=t(f)}if(E!==null)var ie=!0;else{var me=t(m);me!==null&&be(te,me.startTime-ne),ie=!1}return ie}finally{E=null,I=oe,T=!1}}var le=!1,D=null,R=-1,k=5,L=-1;function F(){return!(n.unstable_now()-L<k)}function M(){if(D!==null){var se=n.unstable_now();L=se;var ne=!0;try{ne=D(!0,se)}finally{ne?N():(le=!1,D=null)}}else le=!1}var N;if(typeof q=="function")N=function(){q(M)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,at=Be.port2;Be.port1.onmessage=M,N=function(){at.postMessage(null)}}else N=function(){A(M,0)};function Ke(se){D=se,le||(le=!0,N())}function be(se,ne){R=A(function(){se(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){O||T||(O=!0,Ke(ce))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(se){switch(I){case 1:case 2:case 3:var ne=3;break;default:ne=I}var oe=I;I=ne;try{return se()}finally{I=oe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,ne){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var oe=I;I=se;try{return ne()}finally{I=oe}},n.unstable_scheduleCallback=function(se,ne,oe){var z=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?z+oe:z):oe=z,se){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=oe+G,se={id:_++,callback:ne,priorityLevel:se,startTime:oe,expirationTime:G,sortIndex:-1},oe>z?(se.sortIndex=oe,e(m,se),t(f)===null&&se===t(m)&&(b?(j(R),R=-1):b=!0,be(te,oe-z))):(se.sortIndex=G,e(f,se),O||T||(O=!0,Ke(ce))),se},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(se){var ne=I;return function(){var oe=I;I=ne;try{return se.apply(this,arguments)}finally{I=oe}}}}(pf)),pf}var My;function kI(){return My||(My=1,ff.exports=AI()),ff.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function PI(){if(Fy)return pn;Fy=1;var n=gp(),e=kI();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},E={};function I(r){return f.call(E,r)?!0:f.call(_,r)?!1:m.test(r)?E[r]=!0:(_[r]=!0,!1)}function T(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function O(r,s,l,d){if(s===null||typeof s>"u"||T(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function b(r,s,l,d,p,y,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=p,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=w}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){A[r]=new b(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];A[s]=new b(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){A[r]=new b(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){A[r]=new b(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){A[r]=new b(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){A[r]=new b(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){A[r]=new b(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){A[r]=new b(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){A[r]=new b(r,5,!1,r.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function q(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(j,q);A[s]=new b(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(j,q);A[s]=new b(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(j,q);A[s]=new b(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){A[r]=new b(r,1,!1,r.toLowerCase(),null,!1,!1)}),A.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){A[r]=new b(r,1,!1,r.toLowerCase(),null,!0,!0)});function Q(r,s,l,d){var p=A.hasOwnProperty(s)?A[s]:null;(p!==null?p.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,l,p,d)&&(l=null),d||p===null?I(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):p.mustUseProperty?r[p.propertyName]=l===null?p.type===3?!1:"":l:(s=p.attributeName,d=p.attributeNamespace,l===null?r.removeAttribute(s):(p=p.type,l=p===3||p===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var te=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ce=Symbol.for("react.element"),le=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),F=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),at=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),se=Symbol.iterator;function ne(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var oe=Object.assign,z;function G(r){if(z===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);z=s&&s[1]||""}return`
`+z+r}var ie=!1;function me(r,s){if(!r||ie)return"";ie=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(H){var d=H}Reflect.construct(r,[],s)}else{try{s.call()}catch(H){d=H}r.call(s.prototype)}else{try{throw Error()}catch(H){d=H}r()}}catch(H){if(H&&d&&typeof H.stack=="string"){for(var p=H.stack.split(`
`),y=d.stack.split(`
`),w=p.length-1,P=y.length-1;1<=w&&0<=P&&p[w]!==y[P];)P--;for(;1<=w&&0<=P;w--,P--)if(p[w]!==y[P]){if(w!==1||P!==1)do if(w--,P--,0>P||p[w]!==y[P]){var V=`
`+p[w].replace(" at new "," at ");return r.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",r.displayName)),V}while(1<=w&&0<=P);break}}}finally{ie=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?G(r):""}function Ee(r){switch(r.tag){case 5:return G(r.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return r=me(r.type,!1),r;case 11:return r=me(r.type.render,!1),r;case 1:return r=me(r.type,!0),r;default:return""}}function Pe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case le:return"Portal";case k:return"Profiler";case R:return"StrictMode";case N:return"Suspense";case Be:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case F:return(r.displayName||"Context")+".Consumer";case L:return(r._context.displayName||"Context")+".Provider";case M:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case at:return s=r.displayName||null,s!==null?s:Pe(r.type)||"Memo";case Ke:s=r._payload,r=r._init;try{return Pe(r(s))}catch{}}return null}function Se(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(s);case 8:return s===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Me(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function We(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function rt(r){var s=We(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(w){d=""+w,y.call(this,w)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Zt(r){r._valueTracker||(r._valueTracker=rt(r))}function ci(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=We(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function qn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Dr(r,s){var l=s.checked;return oe({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function fr(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Me(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function fs(r,s){s=s.checked,s!=null&&Q(r,"checked",s,!1)}function di(r,s){fs(r,s);var l=Me(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Lr(r,s.type,l):s.hasOwnProperty("defaultValue")&&Lr(r,s.type,Me(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Or(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Lr(r,s,l){(s!=="number"||qn(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Bt=Array.isArray;function Hn(r,s,l,d){if(r=r.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=s.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Me(l),s=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,d&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function ps(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return oe({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function It(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(t(92));if(Bt(l)){if(1<l.length)throw Error(t(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Me(l)}}function wn(r,s){var l=Me(s.value),d=Me(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function ms(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function pt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function it(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?pt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Gn,Vr=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,p){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,p)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Gn=Gn||document.createElement("div"),Gn.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Gn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function en(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var pr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bn=["Webkit","ms","Moz","O"];Object.keys(pr).forEach(function(r){bn.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),pr[s]=pr[r]})});function hi(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||pr.hasOwnProperty(r)&&pr[r]?(""+s).trim():s+"px"}function gs(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,p=hi(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,p):r[l]=p}}var fi=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pi(r,s){if(s){if(fi[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function ys(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kn=null;function tn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var mi=null,_e=null,De=null;function He(r){if(r=Ga(r)){if(typeof mi!="function")throw Error(t(280));var s=r.stateNode;s&&(s=ku(s),mi(r.stateNode,r.type,s))}}function ht(r){_e?De?De.push(r):De=[r]:_e=r}function $t(){if(_e){var r=_e,s=De;if(De=_e=null,He(r),s)for(r=0;r<s.length;r++)He(s[r])}}function Nn(r,s){return r(s)}function vs(){}var Mr=!1;function Ca(r,s,l){if(Mr)return r(s,l);Mr=!0;try{return Nn(r,s,l)}finally{Mr=!1,(_e!==null||De!==null)&&(vs(),$t())}}function mt(r,s){var l=r.stateNode;if(l===null)return null;var d=ku(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,s,typeof l));return l}var ro=!1;if(h)try{var Qn={};Object.defineProperty(Qn,"passive",{get:function(){ro=!0}}),window.addEventListener("test",Qn,Qn),window.removeEventListener("test",Qn,Qn)}catch{ro=!1}function _s(r,s,l,d,p,y,w,P,V){var H=Array.prototype.slice.call(arguments,3);try{s.apply(l,H)}catch(Z){this.onError(Z)}}var ws=!1,io=null,Yn=!1,Ra=null,Md={onError:function(r){ws=!0,io=r}};function so(r,s,l,d,p,y,w,P,V){ws=!1,io=null,_s.apply(Md,arguments)}function eu(r,s,l,d,p,y,w,P,V){if(so.apply(this,arguments),ws){if(ws){var H=io;ws=!1,io=null}else throw Error(t(198));Yn||(Yn=!0,Ra=H)}}function Xn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Es(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Jn(r){if(Xn(r)!==r)throw Error(t(188))}function tu(r){var s=r.alternate;if(!s){if(s=Xn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var l=r,d=s;;){var p=l.return;if(p===null)break;var y=p.alternate;if(y===null){if(d=p.return,d!==null){l=d;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===l)return Jn(p),r;if(y===d)return Jn(p),s;y=y.sibling}throw Error(t(188))}if(l.return!==d.return)l=p,d=y;else{for(var w=!1,P=p.child;P;){if(P===l){w=!0,l=p,d=y;break}if(P===d){w=!0,d=p,l=y;break}P=P.sibling}if(!w){for(P=y.child;P;){if(P===l){w=!0,l=y,d=p;break}if(P===d){w=!0,d=y,l=p;break}P=P.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:s}function Aa(r){return r=tu(r),r!==null?oo(r):null}function oo(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=oo(r);if(s!==null)return s;r=r.sibling}return null}var ao=e.unstable_scheduleCallback,ka=e.unstable_cancelCallback,nu=e.unstable_shouldYield,Fd=e.unstable_requestPaint,Xe=e.unstable_now,ru=e.unstable_getCurrentPriorityLevel,Ts=e.unstable_ImmediatePriority,gi=e.unstable_UserBlockingPriority,Dn=e.unstable_NormalPriority,Pa=e.unstable_LowPriority,iu=e.unstable_IdlePriority,Is=null,En=null;function su(r){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(Is,r,void 0,(r.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:au,ba=Math.log,ou=Math.LN2;function au(r){return r>>>=0,r===0?32:31-(ba(r)/ou|0)|0}var lo=64,uo=4194304;function yi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Ss(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,p=r.suspendedLanes,y=r.pingedLanes,w=l&268435455;if(w!==0){var P=w&~p;P!==0?d=yi(P):(y&=w,y!==0&&(d=yi(y)))}else w=l&~p,w!==0?d=yi(w):y!==0&&(d=yi(y));if(d===0)return 0;if(s!==0&&s!==d&&!(s&p)&&(p=d&-d,y=s&-s,p>=y||p===16&&(y&4194240)!==0))return s;if(d&4&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-nn(s),p=1<<l,d|=r[l],s&=~p;return d}function jd(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var w=31-nn(y),P=1<<w,V=p[w];V===-1?(!(P&l)||P&d)&&(p[w]=jd(P,s)):V<=s&&(r.expiredLanes|=P),y&=~P}}function Tn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function xs(){var r=lo;return lo<<=1,!(lo&4194240)&&(lo=64),r}function vi(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function _i(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-nn(s),r[s]=l}function Ye(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var p=31-nn(l),y=1<<p;s[p]=0,d[p]=-1,r[p]=-1,l&=~y}}function wi(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-nn(l),p=1<<d;p&s|r[d]&s&&(r[d]|=s),l&=~p}}var Fe=0;function Ei(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var lu,co,uu,cu,du,Na=!1,mr=[],Ot=null,Zn=null,er=null,Ti=new Map,On=new Map,gr=[],Ud="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hu(r,s){switch(r){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":Ti.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":On.delete(s.pointerId)}}function an(r,s,l,d,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Ga(s),s!==null&&co(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function zd(r,s,l,d,p){switch(s){case"focusin":return Ot=an(Ot,r,s,l,d,p),!0;case"dragenter":return Zn=an(Zn,r,s,l,d,p),!0;case"mouseover":return er=an(er,r,s,l,d,p),!0;case"pointerover":var y=p.pointerId;return Ti.set(y,an(Ti.get(y)||null,r,s,l,d,p)),!0;case"gotpointercapture":return y=p.pointerId,On.set(y,an(On.get(y)||null,r,s,l,d,p)),!0}return!1}function fu(r){var s=Ps(r.target);if(s!==null){var l=Xn(s);if(l!==null){if(s=l.tag,s===13){if(s=Es(l),s!==null){r.blockedOn=s,du(r.priority,function(){uu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function jr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=ho(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Kn=d,l.target.dispatchEvent(d),Kn=null}else return s=Ga(l),s!==null&&co(s),r.blockedOn=l,!1;s.shift()}return!0}function Cs(r,s,l){jr(r)&&l.delete(s)}function pu(){Na=!1,Ot!==null&&jr(Ot)&&(Ot=null),Zn!==null&&jr(Zn)&&(Zn=null),er!==null&&jr(er)&&(er=null),Ti.forEach(Cs),On.forEach(Cs)}function tr(r,s){r.blockedOn===s&&(r.blockedOn=null,Na||(Na=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,pu)))}function nr(r){function s(p){return tr(p,r)}if(0<mr.length){tr(mr[0],r);for(var l=1;l<mr.length;l++){var d=mr[l];d.blockedOn===r&&(d.blockedOn=null)}}for(Ot!==null&&tr(Ot,r),Zn!==null&&tr(Zn,r),er!==null&&tr(er,r),Ti.forEach(s),On.forEach(s),l=0;l<gr.length;l++)d=gr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<gr.length&&(l=gr[0],l.blockedOn===null);)fu(l),l.blockedOn===null&&gr.shift()}var Ur=te.ReactCurrentBatchConfig,Ii=!0;function st(r,s,l,d){var p=Fe,y=Ur.transition;Ur.transition=null;try{Fe=1,Da(r,s,l,d)}finally{Fe=p,Ur.transition=y}}function Bd(r,s,l,d){var p=Fe,y=Ur.transition;Ur.transition=null;try{Fe=4,Da(r,s,l,d)}finally{Fe=p,Ur.transition=y}}function Da(r,s,l,d){if(Ii){var p=ho(r,s,l,d);if(p===null)Zd(r,s,d,Rs,l),hu(r,d);else if(zd(p,r,s,l,d))d.stopPropagation();else if(hu(r,d),s&4&&-1<Ud.indexOf(r)){for(;p!==null;){var y=Ga(p);if(y!==null&&lu(y),y=ho(r,s,l,d),y===null&&Zd(r,s,d,Rs,l),y===p)break;p=y}p!==null&&d.stopPropagation()}else Zd(r,s,d,null,l)}}var Rs=null;function ho(r,s,l,d){if(Rs=null,r=tn(d),r=Ps(r),r!==null)if(s=Xn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Es(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Rs=r,null}function Oa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ru()){case Ts:return 1;case gi:return 4;case Dn:case Pa:return 16;case iu:return 536870912;default:return 16}default:return 16}}var In=null,fo=null,ln=null;function La(){if(ln)return ln;var r,s=fo,l=s.length,d,p="value"in In?In.value:In.textContent,y=p.length;for(r=0;r<l&&s[r]===p[r];r++);var w=l-r;for(d=1;d<=w&&s[l-d]===p[y-d];d++);return ln=p.slice(r,1<d?1-d:void 0)}function po(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function yr(){return!0}function Va(){return!1}function Lt(r){function s(l,d,p,y,w){this._reactName=l,this._targetInst=p,this.type=d,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var P in r)r.hasOwnProperty(P)&&(l=r[P],this[P]=l?l(y):y[P]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?yr:Va,this.isPropagationStopped=Va,this}return oe(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),s}var rr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=Lt(rr),vr=oe({},rr,{view:0,detail:0}),$d=Lt(vr),go,zr,Si,As=oe({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Si&&(Si&&r.type==="mousemove"?(go=r.screenX-Si.screenX,zr=r.screenY-Si.screenY):zr=go=0,Si=r),go)},movementY:function(r){return"movementY"in r?r.movementY:zr}}),yo=Lt(As),Ma=oe({},As,{dataTransfer:0}),mu=Lt(Ma),vo=oe({},vr,{relatedTarget:0}),_o=Lt(vo),gu=oe({},rr,{animationName:0,elapsedTime:0,pseudoElement:0}),Br=Lt(gu),yu=oe({},rr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),vu=Lt(yu),_u=oe({},rr,{data:0}),Fa=Lt(_u),wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=wu[r])?!!s[r]:!1}function _r(){return Eu}var u=oe({},vr,{key:function(r){if(r.key){var s=wo[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=po(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?rn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(r){return r.type==="keypress"?po(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?po(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=Lt(u),v=oe({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=Lt(v),B=oe({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),K=Lt(B),ae=oe({},rr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qe=Lt(ae),St=oe({},As,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ue=Lt(St),kt=[9,13,27,32],vt=h&&"CompositionEvent"in window,Ln=null;h&&"documentMode"in document&&(Ln=document.documentMode);var Sn=h&&"TextEvent"in window&&!Ln,ks=h&&(!vt||Ln&&8<Ln&&11>=Ln),Eo=" ",Cm=!1;function Rm(r,s){switch(r){case"keyup":return kt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Am(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var To=!1;function ET(r,s){switch(r){case"compositionend":return Am(s);case"keypress":return s.which!==32?null:(Cm=!0,Eo);case"textInput":return r=s.data,r===Eo&&Cm?null:r;default:return null}}function TT(r,s){if(To)return r==="compositionend"||!vt&&Rm(r,s)?(r=La(),ln=fo=In=null,To=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ks&&s.locale!=="ko"?null:s.data;default:return null}}var IT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function km(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!IT[r.type]:s==="textarea"}function Pm(r,s,l,d){ht(d),s=Cu(s,"onChange"),0<s.length&&(l=new mo("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var ja=null,Ua=null;function ST(r){Km(r,0)}function Tu(r){var s=Ro(r);if(ci(s))return r}function xT(r,s){if(r==="change")return s}var bm=!1;if(h){var Wd;if(h){var qd="oninput"in document;if(!qd){var Nm=document.createElement("div");Nm.setAttribute("oninput","return;"),qd=typeof Nm.oninput=="function"}Wd=qd}else Wd=!1;bm=Wd&&(!document.documentMode||9<document.documentMode)}function Dm(){ja&&(ja.detachEvent("onpropertychange",Om),Ua=ja=null)}function Om(r){if(r.propertyName==="value"&&Tu(Ua)){var s=[];Pm(s,Ua,r,tn(r)),Ca(ST,s)}}function CT(r,s,l){r==="focusin"?(Dm(),ja=s,Ua=l,ja.attachEvent("onpropertychange",Om)):r==="focusout"&&Dm()}function RT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Tu(Ua)}function AT(r,s){if(r==="click")return Tu(s)}function kT(r,s){if(r==="input"||r==="change")return Tu(s)}function PT(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var ir=typeof Object.is=="function"?Object.is:PT;function za(r,s){if(ir(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var p=l[d];if(!f.call(s,p)||!ir(r[p],s[p]))return!1}return!0}function Lm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Vm(r,s){var l=Lm(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Lm(l)}}function Mm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Mm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Fm(){for(var r=window,s=qn();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=qn(r.document)}return s}function Hd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function bT(r){var s=Fm(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Mm(l.ownerDocument.documentElement,l)){if(d!==null&&Hd(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var p=l.textContent.length,y=Math.min(d.start,p);d=d.end===void 0?y:Math.min(d.end,p),!r.extend&&y>d&&(p=d,d=y,y=p),p=Vm(l,y);var w=Vm(l,d);p&&w&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(p.node,p.offset),r.removeAllRanges(),y>d?(r.addRange(s),r.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var NT=h&&"documentMode"in document&&11>=document.documentMode,Io=null,Gd=null,Ba=null,Kd=!1;function jm(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Kd||Io==null||Io!==qn(d)||(d=Io,"selectionStart"in d&&Hd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ba&&za(Ba,d)||(Ba=d,d=Cu(Gd,"onSelect"),0<d.length&&(s=new mo("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=Io)))}function Iu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var So={animationend:Iu("Animation","AnimationEnd"),animationiteration:Iu("Animation","AnimationIteration"),animationstart:Iu("Animation","AnimationStart"),transitionend:Iu("Transition","TransitionEnd")},Qd={},Um={};h&&(Um=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Su(r){if(Qd[r])return Qd[r];if(!So[r])return r;var s=So[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in Um)return Qd[r]=s[l];return r}var zm=Su("animationend"),Bm=Su("animationiteration"),$m=Su("animationstart"),Wm=Su("transitionend"),qm=new Map,Hm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(r,s){qm.set(r,s),a(s,[r])}for(var Yd=0;Yd<Hm.length;Yd++){var Xd=Hm[Yd],DT=Xd.toLowerCase(),OT=Xd[0].toUpperCase()+Xd.slice(1);xi(DT,"on"+OT)}xi(zm,"onAnimationEnd"),xi(Bm,"onAnimationIteration"),xi($m,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(Wm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LT=new Set("cancel close invalid load scroll toggle".split(" ").concat($a));function Gm(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,eu(d,s,void 0,r),r.currentTarget=null}function Km(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],p=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var w=d.length-1;0<=w;w--){var P=d[w],V=P.instance,H=P.currentTarget;if(P=P.listener,V!==y&&p.isPropagationStopped())break e;Gm(p,P,H),y=V}else for(w=0;w<d.length;w++){if(P=d[w],V=P.instance,H=P.currentTarget,P=P.listener,V!==y&&p.isPropagationStopped())break e;Gm(p,P,H),y=V}}}if(Yn)throw r=Ra,Yn=!1,Ra=null,r}function Ze(r,s){var l=s[sh];l===void 0&&(l=s[sh]=new Set);var d=r+"__bubble";l.has(d)||(Qm(s,r,2,!1),l.add(d))}function Jd(r,s,l){var d=0;s&&(d|=4),Qm(l,r,d,s)}var xu="_reactListening"+Math.random().toString(36).slice(2);function Wa(r){if(!r[xu]){r[xu]=!0,i.forEach(function(l){l!=="selectionchange"&&(LT.has(l)||Jd(l,!1,r),Jd(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[xu]||(s[xu]=!0,Jd("selectionchange",!1,s))}}function Qm(r,s,l,d){switch(Oa(s)){case 1:var p=st;break;case 4:p=Bd;break;default:p=Da}l=p.bind(null,s,l,r),p=void 0,!ro||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),d?p!==void 0?r.addEventListener(s,l,{capture:!0,passive:p}):r.addEventListener(s,l,!0):p!==void 0?r.addEventListener(s,l,{passive:p}):r.addEventListener(s,l,!1)}function Zd(r,s,l,d,p){var y=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var P=d.stateNode.containerInfo;if(P===p||P.nodeType===8&&P.parentNode===p)break;if(w===4)for(w=d.return;w!==null;){var V=w.tag;if((V===3||V===4)&&(V=w.stateNode.containerInfo,V===p||V.nodeType===8&&V.parentNode===p))return;w=w.return}for(;P!==null;){if(w=Ps(P),w===null)return;if(V=w.tag,V===5||V===6){d=y=w;continue e}P=P.parentNode}}d=d.return}Ca(function(){var H=y,Z=tn(l),ee=[];e:{var J=qm.get(r);if(J!==void 0){var de=mo,ge=r;switch(r){case"keypress":if(po(l)===0)break e;case"keydown":case"keyup":de=g;break;case"focusin":ge="focus",de=_o;break;case"focusout":ge="blur",de=_o;break;case"beforeblur":case"afterblur":de=_o;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=yo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=K;break;case zm:case Bm:case $m:de=Br;break;case Wm:de=Qe;break;case"scroll":de=$d;break;case"wheel":de=Ue;break;case"copy":case"cut":case"paste":de=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=S}var ye=(s&4)!==0,gt=!ye&&r==="scroll",$=ye?J!==null?J+"Capture":null:J;ye=[];for(var U=H,W;U!==null;){W=U;var re=W.stateNode;if(W.tag===5&&re!==null&&(W=re,$!==null&&(re=mt(U,$),re!=null&&ye.push(qa(U,re,W)))),gt)break;U=U.return}0<ye.length&&(J=new de(J,ge,null,l,Z),ee.push({event:J,listeners:ye}))}}if(!(s&7)){e:{if(J=r==="mouseover"||r==="pointerover",de=r==="mouseout"||r==="pointerout",J&&l!==Kn&&(ge=l.relatedTarget||l.fromElement)&&(Ps(ge)||ge[$r]))break e;if((de||J)&&(J=Z.window===Z?Z:(J=Z.ownerDocument)?J.defaultView||J.parentWindow:window,de?(ge=l.relatedTarget||l.toElement,de=H,ge=ge?Ps(ge):null,ge!==null&&(gt=Xn(ge),ge!==gt||ge.tag!==5&&ge.tag!==6)&&(ge=null)):(de=null,ge=H),de!==ge)){if(ye=yo,re="onMouseLeave",$="onMouseEnter",U="mouse",(r==="pointerout"||r==="pointerover")&&(ye=S,re="onPointerLeave",$="onPointerEnter",U="pointer"),gt=de==null?J:Ro(de),W=ge==null?J:Ro(ge),J=new ye(re,U+"leave",de,l,Z),J.target=gt,J.relatedTarget=W,re=null,Ps(Z)===H&&(ye=new ye($,U+"enter",ge,l,Z),ye.target=W,ye.relatedTarget=gt,re=ye),gt=re,de&&ge)t:{for(ye=de,$=ge,U=0,W=ye;W;W=xo(W))U++;for(W=0,re=$;re;re=xo(re))W++;for(;0<U-W;)ye=xo(ye),U--;for(;0<W-U;)$=xo($),W--;for(;U--;){if(ye===$||$!==null&&ye===$.alternate)break t;ye=xo(ye),$=xo($)}ye=null}else ye=null;de!==null&&Ym(ee,J,de,ye,!1),ge!==null&&gt!==null&&Ym(ee,gt,ge,ye,!0)}}e:{if(J=H?Ro(H):window,de=J.nodeName&&J.nodeName.toLowerCase(),de==="select"||de==="input"&&J.type==="file")var ve=xT;else if(km(J))if(bm)ve=kT;else{ve=RT;var Te=CT}else(de=J.nodeName)&&de.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ve=AT);if(ve&&(ve=ve(r,H))){Pm(ee,ve,l,Z);break e}Te&&Te(r,J,H),r==="focusout"&&(Te=J._wrapperState)&&Te.controlled&&J.type==="number"&&Lr(J,"number",J.value)}switch(Te=H?Ro(H):window,r){case"focusin":(km(Te)||Te.contentEditable==="true")&&(Io=Te,Gd=H,Ba=null);break;case"focusout":Ba=Gd=Io=null;break;case"mousedown":Kd=!0;break;case"contextmenu":case"mouseup":case"dragend":Kd=!1,jm(ee,l,Z);break;case"selectionchange":if(NT)break;case"keydown":case"keyup":jm(ee,l,Z)}var Ie;if(vt)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else To?Rm(r,l)&&(xe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(xe="onCompositionStart");xe&&(ks&&l.locale!=="ko"&&(To||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&To&&(Ie=La()):(In=Z,fo="value"in In?In.value:In.textContent,To=!0)),Te=Cu(H,xe),0<Te.length&&(xe=new Fa(xe,r,null,l,Z),ee.push({event:xe,listeners:Te}),Ie?xe.data=Ie:(Ie=Am(l),Ie!==null&&(xe.data=Ie)))),(Ie=Sn?ET(r,l):TT(r,l))&&(H=Cu(H,"onBeforeInput"),0<H.length&&(Z=new Fa("onBeforeInput","beforeinput",null,l,Z),ee.push({event:Z,listeners:H}),Z.data=Ie))}Km(ee,s)})}function qa(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Cu(r,s){for(var l=s+"Capture",d=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=mt(r,l),y!=null&&d.unshift(qa(r,y,p)),y=mt(r,s),y!=null&&d.push(qa(r,y,p))),r=r.return}return d}function xo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Ym(r,s,l,d,p){for(var y=s._reactName,w=[];l!==null&&l!==d;){var P=l,V=P.alternate,H=P.stateNode;if(V!==null&&V===d)break;P.tag===5&&H!==null&&(P=H,p?(V=mt(l,y),V!=null&&w.unshift(qa(l,V,P))):p||(V=mt(l,y),V!=null&&w.push(qa(l,V,P)))),l=l.return}w.length!==0&&r.push({event:s,listeners:w})}var VT=/\r\n?/g,MT=/\u0000|\uFFFD/g;function Xm(r){return(typeof r=="string"?r:""+r).replace(VT,`
`).replace(MT,"")}function Ru(r,s,l){if(s=Xm(s),Xm(r)!==s&&l)throw Error(t(425))}function Au(){}var eh=null,th=null;function nh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var rh=typeof setTimeout=="function"?setTimeout:void 0,FT=typeof clearTimeout=="function"?clearTimeout:void 0,Jm=typeof Promise=="function"?Promise:void 0,jT=typeof queueMicrotask=="function"?queueMicrotask:typeof Jm<"u"?function(r){return Jm.resolve(null).then(r).catch(UT)}:rh;function UT(r){setTimeout(function(){throw r})}function ih(r,s){var l=s,d=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"){if(d===0){r.removeChild(p),nr(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=p}while(l);nr(s)}function Ci(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Zm(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var Co=Math.random().toString(36).slice(2),wr="__reactFiber$"+Co,Ha="__reactProps$"+Co,$r="__reactContainer$"+Co,sh="__reactEvents$"+Co,zT="__reactListeners$"+Co,BT="__reactHandles$"+Co;function Ps(r){var s=r[wr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[$r]||l[wr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Zm(r);r!==null;){if(l=r[wr])return l;r=Zm(r)}return s}r=l,l=r.parentNode}return null}function Ga(r){return r=r[wr]||r[$r],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ro(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function ku(r){return r[Ha]||null}var oh=[],Ao=-1;function Ri(r){return{current:r}}function et(r){0>Ao||(r.current=oh[Ao],oh[Ao]=null,Ao--)}function Je(r,s){Ao++,oh[Ao]=r.current,r.current=s}var Ai={},Wt=Ri(Ai),un=Ri(!1),bs=Ai;function ko(r,s){var l=r.type.contextTypes;if(!l)return Ai;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in l)p[y]=s[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=p),p}function cn(r){return r=r.childContextTypes,r!=null}function Pu(){et(un),et(Wt)}function eg(r,s,l){if(Wt.current!==Ai)throw Error(t(168));Je(Wt,s),Je(un,l)}function tg(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var p in d)if(!(p in s))throw Error(t(108,Se(r)||"Unknown",p));return oe({},l,d)}function bu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ai,bs=Wt.current,Je(Wt,r),Je(un,un.current),!0}function ng(r,s,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=tg(r,s,bs),d.__reactInternalMemoizedMergedChildContext=r,et(un),et(Wt),Je(Wt,r)):et(un),Je(un,l)}var Wr=null,Nu=!1,ah=!1;function rg(r){Wr===null?Wr=[r]:Wr.push(r)}function $T(r){Nu=!0,rg(r)}function ki(){if(!ah&&Wr!==null){ah=!0;var r=0,s=Fe;try{var l=Wr;for(Fe=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Wr=null,Nu=!1}catch(p){throw Wr!==null&&(Wr=Wr.slice(r+1)),ao(Ts,ki),p}finally{Fe=s,ah=!1}}return null}var Po=[],bo=0,Du=null,Ou=0,Vn=[],Mn=0,Ns=null,qr=1,Hr="";function Ds(r,s){Po[bo++]=Ou,Po[bo++]=Du,Du=r,Ou=s}function ig(r,s,l){Vn[Mn++]=qr,Vn[Mn++]=Hr,Vn[Mn++]=Ns,Ns=r;var d=qr;r=Hr;var p=32-nn(d)-1;d&=~(1<<p),l+=1;var y=32-nn(s)+p;if(30<y){var w=p-p%5;y=(d&(1<<w)-1).toString(32),d>>=w,p-=w,qr=1<<32-nn(s)+p|l<<p|d,Hr=y+r}else qr=1<<y|l<<p|d,Hr=r}function lh(r){r.return!==null&&(Ds(r,1),ig(r,1,0))}function uh(r){for(;r===Du;)Du=Po[--bo],Po[bo]=null,Ou=Po[--bo],Po[bo]=null;for(;r===Ns;)Ns=Vn[--Mn],Vn[Mn]=null,Hr=Vn[--Mn],Vn[Mn]=null,qr=Vn[--Mn],Vn[Mn]=null}var xn=null,Cn=null,ot=!1,sr=null;function sg(r,s){var l=zn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function og(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,xn=r,Cn=Ci(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,xn=r,Cn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ns!==null?{id:qr,overflow:Hr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=zn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,xn=r,Cn=null,!0):!1;default:return!1}}function ch(r){return(r.mode&1)!==0&&(r.flags&128)===0}function dh(r){if(ot){var s=Cn;if(s){var l=s;if(!og(r,s)){if(ch(r))throw Error(t(418));s=Ci(l.nextSibling);var d=xn;s&&og(r,s)?sg(d,l):(r.flags=r.flags&-4097|2,ot=!1,xn=r)}}else{if(ch(r))throw Error(t(418));r.flags=r.flags&-4097|2,ot=!1,xn=r}}}function ag(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;xn=r}function Lu(r){if(r!==xn)return!1;if(!ot)return ag(r),ot=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!nh(r.type,r.memoizedProps)),s&&(s=Cn)){if(ch(r))throw lg(),Error(t(418));for(;s;)sg(r,s),s=Ci(s.nextSibling)}if(ag(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){Cn=Ci(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}Cn=null}}else Cn=xn?Ci(r.stateNode.nextSibling):null;return!0}function lg(){for(var r=Cn;r;)r=Ci(r.nextSibling)}function No(){Cn=xn=null,ot=!1}function hh(r){sr===null?sr=[r]:sr.push(r)}var WT=te.ReactCurrentBatchConfig;function Ka(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var p=d,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(w){var P=p.refs;w===null?delete P[y]:P[y]=w},s._stringRef=y,s)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function Vu(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function ug(r){var s=r._init;return s(r._payload)}function cg(r){function s($,U){if(r){var W=$.deletions;W===null?($.deletions=[U],$.flags|=16):W.push(U)}}function l($,U){if(!r)return null;for(;U!==null;)s($,U),U=U.sibling;return null}function d($,U){for($=new Map;U!==null;)U.key!==null?$.set(U.key,U):$.set(U.index,U),U=U.sibling;return $}function p($,U){return $=Mi($,U),$.index=0,$.sibling=null,$}function y($,U,W){return $.index=W,r?(W=$.alternate,W!==null?(W=W.index,W<U?($.flags|=2,U):W):($.flags|=2,U)):($.flags|=1048576,U)}function w($){return r&&$.alternate===null&&($.flags|=2),$}function P($,U,W,re){return U===null||U.tag!==6?(U=rf(W,$.mode,re),U.return=$,U):(U=p(U,W),U.return=$,U)}function V($,U,W,re){var ve=W.type;return ve===D?Z($,U,W.props.children,re,W.key):U!==null&&(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Ke&&ug(ve)===U.type)?(re=p(U,W.props),re.ref=Ka($,U,W),re.return=$,re):(re=oc(W.type,W.key,W.props,null,$.mode,re),re.ref=Ka($,U,W),re.return=$,re)}function H($,U,W,re){return U===null||U.tag!==4||U.stateNode.containerInfo!==W.containerInfo||U.stateNode.implementation!==W.implementation?(U=sf(W,$.mode,re),U.return=$,U):(U=p(U,W.children||[]),U.return=$,U)}function Z($,U,W,re,ve){return U===null||U.tag!==7?(U=zs(W,$.mode,re,ve),U.return=$,U):(U=p(U,W),U.return=$,U)}function ee($,U,W){if(typeof U=="string"&&U!==""||typeof U=="number")return U=rf(""+U,$.mode,W),U.return=$,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ce:return W=oc(U.type,U.key,U.props,null,$.mode,W),W.ref=Ka($,null,U),W.return=$,W;case le:return U=sf(U,$.mode,W),U.return=$,U;case Ke:var re=U._init;return ee($,re(U._payload),W)}if(Bt(U)||ne(U))return U=zs(U,$.mode,W,null),U.return=$,U;Vu($,U)}return null}function J($,U,W,re){var ve=U!==null?U.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return ve!==null?null:P($,U,""+W,re);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case ce:return W.key===ve?V($,U,W,re):null;case le:return W.key===ve?H($,U,W,re):null;case Ke:return ve=W._init,J($,U,ve(W._payload),re)}if(Bt(W)||ne(W))return ve!==null?null:Z($,U,W,re,null);Vu($,W)}return null}function de($,U,W,re,ve){if(typeof re=="string"&&re!==""||typeof re=="number")return $=$.get(W)||null,P(U,$,""+re,ve);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case ce:return $=$.get(re.key===null?W:re.key)||null,V(U,$,re,ve);case le:return $=$.get(re.key===null?W:re.key)||null,H(U,$,re,ve);case Ke:var Te=re._init;return de($,U,W,Te(re._payload),ve)}if(Bt(re)||ne(re))return $=$.get(W)||null,Z(U,$,re,ve,null);Vu(U,re)}return null}function ge($,U,W,re){for(var ve=null,Te=null,Ie=U,xe=U=0,Nt=null;Ie!==null&&xe<W.length;xe++){Ie.index>xe?(Nt=Ie,Ie=null):Nt=Ie.sibling;var qe=J($,Ie,W[xe],re);if(qe===null){Ie===null&&(Ie=Nt);break}r&&Ie&&qe.alternate===null&&s($,Ie),U=y(qe,U,xe),Te===null?ve=qe:Te.sibling=qe,Te=qe,Ie=Nt}if(xe===W.length)return l($,Ie),ot&&Ds($,xe),ve;if(Ie===null){for(;xe<W.length;xe++)Ie=ee($,W[xe],re),Ie!==null&&(U=y(Ie,U,xe),Te===null?ve=Ie:Te.sibling=Ie,Te=Ie);return ot&&Ds($,xe),ve}for(Ie=d($,Ie);xe<W.length;xe++)Nt=de(Ie,$,xe,W[xe],re),Nt!==null&&(r&&Nt.alternate!==null&&Ie.delete(Nt.key===null?xe:Nt.key),U=y(Nt,U,xe),Te===null?ve=Nt:Te.sibling=Nt,Te=Nt);return r&&Ie.forEach(function(Fi){return s($,Fi)}),ot&&Ds($,xe),ve}function ye($,U,W,re){var ve=ne(W);if(typeof ve!="function")throw Error(t(150));if(W=ve.call(W),W==null)throw Error(t(151));for(var Te=ve=null,Ie=U,xe=U=0,Nt=null,qe=W.next();Ie!==null&&!qe.done;xe++,qe=W.next()){Ie.index>xe?(Nt=Ie,Ie=null):Nt=Ie.sibling;var Fi=J($,Ie,qe.value,re);if(Fi===null){Ie===null&&(Ie=Nt);break}r&&Ie&&Fi.alternate===null&&s($,Ie),U=y(Fi,U,xe),Te===null?ve=Fi:Te.sibling=Fi,Te=Fi,Ie=Nt}if(qe.done)return l($,Ie),ot&&Ds($,xe),ve;if(Ie===null){for(;!qe.done;xe++,qe=W.next())qe=ee($,qe.value,re),qe!==null&&(U=y(qe,U,xe),Te===null?ve=qe:Te.sibling=qe,Te=qe);return ot&&Ds($,xe),ve}for(Ie=d($,Ie);!qe.done;xe++,qe=W.next())qe=de(Ie,$,xe,qe.value,re),qe!==null&&(r&&qe.alternate!==null&&Ie.delete(qe.key===null?xe:qe.key),U=y(qe,U,xe),Te===null?ve=qe:Te.sibling=qe,Te=qe);return r&&Ie.forEach(function(TI){return s($,TI)}),ot&&Ds($,xe),ve}function gt($,U,W,re){if(typeof W=="object"&&W!==null&&W.type===D&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case ce:e:{for(var ve=W.key,Te=U;Te!==null;){if(Te.key===ve){if(ve=W.type,ve===D){if(Te.tag===7){l($,Te.sibling),U=p(Te,W.props.children),U.return=$,$=U;break e}}else if(Te.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===Ke&&ug(ve)===Te.type){l($,Te.sibling),U=p(Te,W.props),U.ref=Ka($,Te,W),U.return=$,$=U;break e}l($,Te);break}else s($,Te);Te=Te.sibling}W.type===D?(U=zs(W.props.children,$.mode,re,W.key),U.return=$,$=U):(re=oc(W.type,W.key,W.props,null,$.mode,re),re.ref=Ka($,U,W),re.return=$,$=re)}return w($);case le:e:{for(Te=W.key;U!==null;){if(U.key===Te)if(U.tag===4&&U.stateNode.containerInfo===W.containerInfo&&U.stateNode.implementation===W.implementation){l($,U.sibling),U=p(U,W.children||[]),U.return=$,$=U;break e}else{l($,U);break}else s($,U);U=U.sibling}U=sf(W,$.mode,re),U.return=$,$=U}return w($);case Ke:return Te=W._init,gt($,U,Te(W._payload),re)}if(Bt(W))return ge($,U,W,re);if(ne(W))return ye($,U,W,re);Vu($,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,U!==null&&U.tag===6?(l($,U.sibling),U=p(U,W),U.return=$,$=U):(l($,U),U=rf(W,$.mode,re),U.return=$,$=U),w($)):l($,U)}return gt}var Do=cg(!0),dg=cg(!1),Mu=Ri(null),Fu=null,Oo=null,fh=null;function ph(){fh=Oo=Fu=null}function mh(r){var s=Mu.current;et(Mu),r._currentValue=s}function gh(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function Lo(r,s){Fu=r,fh=Oo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(dn=!0),r.firstContext=null)}function Fn(r){var s=r._currentValue;if(fh!==r)if(r={context:r,memoizedValue:s,next:null},Oo===null){if(Fu===null)throw Error(t(308));Oo=r,Fu.dependencies={lanes:0,firstContext:r}}else Oo=Oo.next=r;return s}var Os=null;function yh(r){Os===null?Os=[r]:Os.push(r)}function hg(r,s,l,d){var p=s.interleaved;return p===null?(l.next=l,yh(s)):(l.next=p.next,p.next=l),s.interleaved=l,Gr(r,d)}function Gr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var Pi=!1;function vh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Kr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function bi(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,$e&2){var p=d.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),d.pending=s,Gr(r,l)}return p=d.interleaved,p===null?(s.next=s,yh(d)):(s.next=p.next,p.next=s),d.interleaved=s,Gr(r,l)}function ju(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,wi(r,l)}}function pg(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var p=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?p=y=w:y=y.next=w,l=l.next}while(l!==null);y===null?p=y=s:y=y.next=s}else p=y=s;l={baseState:d.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Uu(r,s,l,d){var p=r.updateQueue;Pi=!1;var y=p.firstBaseUpdate,w=p.lastBaseUpdate,P=p.shared.pending;if(P!==null){p.shared.pending=null;var V=P,H=V.next;V.next=null,w===null?y=H:w.next=H,w=V;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,P=Z.lastBaseUpdate,P!==w&&(P===null?Z.firstBaseUpdate=H:P.next=H,Z.lastBaseUpdate=V))}if(y!==null){var ee=p.baseState;w=0,Z=H=V=null,P=y;do{var J=P.lane,de=P.eventTime;if((d&J)===J){Z!==null&&(Z=Z.next={eventTime:de,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var ge=r,ye=P;switch(J=s,de=l,ye.tag){case 1:if(ge=ye.payload,typeof ge=="function"){ee=ge.call(de,ee,J);break e}ee=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=ye.payload,J=typeof ge=="function"?ge.call(de,ee,J):ge,J==null)break e;ee=oe({},ee,J);break e;case 2:Pi=!0}}P.callback!==null&&P.lane!==0&&(r.flags|=64,J=p.effects,J===null?p.effects=[P]:J.push(P))}else de={eventTime:de,lane:J,tag:P.tag,payload:P.payload,callback:P.callback,next:null},Z===null?(H=Z=de,V=ee):Z=Z.next=de,w|=J;if(P=P.next,P===null){if(P=p.shared.pending,P===null)break;J=P,P=J.next,J.next=null,p.lastBaseUpdate=J,p.shared.pending=null}}while(!0);if(Z===null&&(V=ee),p.baseState=V,p.firstBaseUpdate=H,p.lastBaseUpdate=Z,s=p.shared.interleaved,s!==null){p=s;do w|=p.lane,p=p.next;while(p!==s)}else y===null&&(p.shared.lanes=0);Ms|=w,r.lanes=w,r.memoizedState=ee}}function mg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],p=d.callback;if(p!==null){if(d.callback=null,d=l,typeof p!="function")throw Error(t(191,p));p.call(d)}}}var Qa={},Er=Ri(Qa),Ya=Ri(Qa),Xa=Ri(Qa);function Ls(r){if(r===Qa)throw Error(t(174));return r}function _h(r,s){switch(Je(Xa,s),Je(Ya,r),Je(Er,Qa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:it(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=it(s,r)}et(Er),Je(Er,s)}function Vo(){et(Er),et(Ya),et(Xa)}function gg(r){Ls(Xa.current);var s=Ls(Er.current),l=it(s,r.type);s!==l&&(Je(Ya,r),Je(Er,l))}function wh(r){Ya.current===r&&(et(Er),et(Ya))}var lt=Ri(0);function zu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Eh=[];function Th(){for(var r=0;r<Eh.length;r++)Eh[r]._workInProgressVersionPrimary=null;Eh.length=0}var Bu=te.ReactCurrentDispatcher,Ih=te.ReactCurrentBatchConfig,Vs=0,ut=null,xt=null,Pt=null,$u=!1,Ja=!1,Za=0,qT=0;function qt(){throw Error(t(321))}function Sh(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!ir(r[l],s[l]))return!1;return!0}function xh(r,s,l,d,p,y){if(Vs=y,ut=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Bu.current=r===null||r.memoizedState===null?QT:YT,r=l(d,p),Ja){y=0;do{if(Ja=!1,Za=0,25<=y)throw Error(t(301));y+=1,Pt=xt=null,s.updateQueue=null,Bu.current=XT,r=l(d,p)}while(Ja)}if(Bu.current=Hu,s=xt!==null&&xt.next!==null,Vs=0,Pt=xt=ut=null,$u=!1,s)throw Error(t(300));return r}function Ch(){var r=Za!==0;return Za=0,r}function Tr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?ut.memoizedState=Pt=r:Pt=Pt.next=r,Pt}function jn(){if(xt===null){var r=ut.alternate;r=r!==null?r.memoizedState:null}else r=xt.next;var s=Pt===null?ut.memoizedState:Pt.next;if(s!==null)Pt=s,xt=r;else{if(r===null)throw Error(t(310));xt=r,r={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Pt===null?ut.memoizedState=Pt=r:Pt=Pt.next=r}return Pt}function el(r,s){return typeof s=="function"?s(r):s}function Rh(r){var s=jn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=xt,p=d.baseQueue,y=l.pending;if(y!==null){if(p!==null){var w=p.next;p.next=y.next,y.next=w}d.baseQueue=p=y,l.pending=null}if(p!==null){y=p.next,d=d.baseState;var P=w=null,V=null,H=y;do{var Z=H.lane;if((Vs&Z)===Z)V!==null&&(V=V.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),d=H.hasEagerState?H.eagerState:r(d,H.action);else{var ee={lane:Z,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};V===null?(P=V=ee,w=d):V=V.next=ee,ut.lanes|=Z,Ms|=Z}H=H.next}while(H!==null&&H!==y);V===null?w=d:V.next=P,ir(d,s.memoizedState)||(dn=!0),s.memoizedState=d,s.baseState=w,s.baseQueue=V,l.lastRenderedState=d}if(r=l.interleaved,r!==null){p=r;do y=p.lane,ut.lanes|=y,Ms|=y,p=p.next;while(p!==r)}else p===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function Ah(r){var s=jn(),l=s.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,p=l.pending,y=s.memoizedState;if(p!==null){l.pending=null;var w=p=p.next;do y=r(y,w.action),w=w.next;while(w!==p);ir(y,s.memoizedState)||(dn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function yg(){}function vg(r,s){var l=ut,d=jn(),p=s(),y=!ir(d.memoizedState,p);if(y&&(d.memoizedState=p,dn=!0),d=d.queue,kh(Eg.bind(null,l,d,r),[r]),d.getSnapshot!==s||y||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,tl(9,wg.bind(null,l,d,p,s),void 0,null),bt===null)throw Error(t(349));Vs&30||_g(l,s,p)}return p}function _g(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function wg(r,s,l,d){s.value=l,s.getSnapshot=d,Tg(s)&&Ig(r)}function Eg(r,s,l){return l(function(){Tg(s)&&Ig(r)})}function Tg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!ir(r,l)}catch{return!0}}function Ig(r){var s=Gr(r,1);s!==null&&ur(s,r,1,-1)}function Sg(r){var s=Tr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:r},s.queue=r,r=r.dispatch=KT.bind(null,ut,r),[s.memoizedState,r]}function tl(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=ut.updateQueue,s===null?(s={lastEffect:null,stores:null},ut.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function xg(){return jn().memoizedState}function Wu(r,s,l,d){var p=Tr();ut.flags|=r,p.memoizedState=tl(1|s,l,void 0,d===void 0?null:d)}function qu(r,s,l,d){var p=jn();d=d===void 0?null:d;var y=void 0;if(xt!==null){var w=xt.memoizedState;if(y=w.destroy,d!==null&&Sh(d,w.deps)){p.memoizedState=tl(s,l,y,d);return}}ut.flags|=r,p.memoizedState=tl(1|s,l,y,d)}function Cg(r,s){return Wu(8390656,8,r,s)}function kh(r,s){return qu(2048,8,r,s)}function Rg(r,s){return qu(4,2,r,s)}function Ag(r,s){return qu(4,4,r,s)}function kg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Pg(r,s,l){return l=l!=null?l.concat([r]):null,qu(4,4,kg.bind(null,s,r),l)}function Ph(){}function bg(r,s){var l=jn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Sh(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function Ng(r,s){var l=jn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&Sh(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function Dg(r,s,l){return Vs&21?(ir(l,s)||(l=xs(),ut.lanes|=l,Ms|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,dn=!0),r.memoizedState=l)}function HT(r,s){var l=Fe;Fe=l!==0&&4>l?l:4,r(!0);var d=Ih.transition;Ih.transition={};try{r(!1),s()}finally{Fe=l,Ih.transition=d}}function Og(){return jn().memoizedState}function GT(r,s,l){var d=Li(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Lg(r))Vg(s,l);else if(l=hg(r,s,l,d),l!==null){var p=on();ur(l,r,d,p),Mg(l,s,d)}}function KT(r,s,l){var d=Li(r),p={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Lg(r))Vg(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var w=s.lastRenderedState,P=y(w,l);if(p.hasEagerState=!0,p.eagerState=P,ir(P,w)){var V=s.interleaved;V===null?(p.next=p,yh(s)):(p.next=V.next,V.next=p),s.interleaved=p;return}}catch{}finally{}l=hg(r,s,p,d),l!==null&&(p=on(),ur(l,r,d,p),Mg(l,s,d))}}function Lg(r){var s=r.alternate;return r===ut||s!==null&&s===ut}function Vg(r,s){Ja=$u=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Mg(r,s,l){if(l&4194240){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,wi(r,l)}}var Hu={readContext:Fn,useCallback:qt,useContext:qt,useEffect:qt,useImperativeHandle:qt,useInsertionEffect:qt,useLayoutEffect:qt,useMemo:qt,useReducer:qt,useRef:qt,useState:qt,useDebugValue:qt,useDeferredValue:qt,useTransition:qt,useMutableSource:qt,useSyncExternalStore:qt,useId:qt,unstable_isNewReconciler:!1},QT={readContext:Fn,useCallback:function(r,s){return Tr().memoizedState=[r,s===void 0?null:s],r},useContext:Fn,useEffect:Cg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Wu(4194308,4,kg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Wu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Wu(4,2,r,s)},useMemo:function(r,s){var l=Tr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=Tr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=GT.bind(null,ut,r),[d.memoizedState,r]},useRef:function(r){var s=Tr();return r={current:r},s.memoizedState=r},useState:Sg,useDebugValue:Ph,useDeferredValue:function(r){return Tr().memoizedState=r},useTransition:function(){var r=Sg(!1),s=r[0];return r=HT.bind(null,r[1]),Tr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=ut,p=Tr();if(ot){if(l===void 0)throw Error(t(407));l=l()}else{if(l=s(),bt===null)throw Error(t(349));Vs&30||_g(d,s,l)}p.memoizedState=l;var y={value:l,getSnapshot:s};return p.queue=y,Cg(Eg.bind(null,d,y,r),[r]),d.flags|=2048,tl(9,wg.bind(null,d,y,l,s),void 0,null),l},useId:function(){var r=Tr(),s=bt.identifierPrefix;if(ot){var l=Hr,d=qr;l=(d&~(1<<32-nn(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=Za++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=qT++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},YT={readContext:Fn,useCallback:bg,useContext:Fn,useEffect:kh,useImperativeHandle:Pg,useInsertionEffect:Rg,useLayoutEffect:Ag,useMemo:Ng,useReducer:Rh,useRef:xg,useState:function(){return Rh(el)},useDebugValue:Ph,useDeferredValue:function(r){var s=jn();return Dg(s,xt.memoizedState,r)},useTransition:function(){var r=Rh(el)[0],s=jn().memoizedState;return[r,s]},useMutableSource:yg,useSyncExternalStore:vg,useId:Og,unstable_isNewReconciler:!1},XT={readContext:Fn,useCallback:bg,useContext:Fn,useEffect:kh,useImperativeHandle:Pg,useInsertionEffect:Rg,useLayoutEffect:Ag,useMemo:Ng,useReducer:Ah,useRef:xg,useState:function(){return Ah(el)},useDebugValue:Ph,useDeferredValue:function(r){var s=jn();return xt===null?s.memoizedState=r:Dg(s,xt.memoizedState,r)},useTransition:function(){var r=Ah(el)[0],s=jn().memoizedState;return[r,s]},useMutableSource:yg,useSyncExternalStore:vg,useId:Og,unstable_isNewReconciler:!1};function or(r,s){if(r&&r.defaultProps){s=oe({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function bh(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:oe({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Gu={isMounted:function(r){return(r=r._reactInternals)?Xn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=on(),p=Li(r),y=Kr(d,p);y.payload=s,l!=null&&(y.callback=l),s=bi(r,y,p),s!==null&&(ur(s,r,p,d),ju(s,r,p))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=on(),p=Li(r),y=Kr(d,p);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=bi(r,y,p),s!==null&&(ur(s,r,p,d),ju(s,r,p))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=on(),d=Li(r),p=Kr(l,d);p.tag=2,s!=null&&(p.callback=s),s=bi(r,p,d),s!==null&&(ur(s,r,d,l),ju(s,r,d))}};function Fg(r,s,l,d,p,y,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,w):s.prototype&&s.prototype.isPureReactComponent?!za(l,d)||!za(p,y):!0}function jg(r,s,l){var d=!1,p=Ai,y=s.contextType;return typeof y=="object"&&y!==null?y=Fn(y):(p=cn(s)?bs:Wt.current,d=s.contextTypes,y=(d=d!=null)?ko(r,p):Ai),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Gu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),s}function Ug(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Gu.enqueueReplaceState(s,s.state,null)}function Nh(r,s,l,d){var p=r.stateNode;p.props=l,p.state=r.memoizedState,p.refs={},vh(r);var y=s.contextType;typeof y=="object"&&y!==null?p.context=Fn(y):(y=cn(s)?bs:Wt.current,p.context=ko(r,y)),p.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(bh(r,s,y,l),p.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(s=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),s!==p.state&&Gu.enqueueReplaceState(p,p.state,null),Uu(r,l,p,d),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function Mo(r,s){try{var l="",d=s;do l+=Ee(d),d=d.return;while(d);var p=l}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:p,digest:null}}function Dh(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Oh(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var JT=typeof WeakMap=="function"?WeakMap:Map;function zg(r,s,l){l=Kr(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){ec||(ec=!0,Qh=d),Oh(r,s)},l}function Bg(r,s,l){l=Kr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;l.payload=function(){return d(p)},l.callback=function(){Oh(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Oh(r,s),typeof d!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),l}function $g(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new JT;var p=new Set;d.set(s,p)}else p=d.get(s),p===void 0&&(p=new Set,d.set(s,p));p.has(l)||(p.add(l),r=hI.bind(null,r,s,l),s.then(r,r))}function Wg(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function qg(r,s,l,d,p){return r.mode&1?(r.flags|=65536,r.lanes=p,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Kr(-1,1),s.tag=2,bi(l,s,1))),l.lanes|=1),r)}var ZT=te.ReactCurrentOwner,dn=!1;function sn(r,s,l,d){s.child=r===null?dg(s,null,l,d):Do(s,r.child,l,d)}function Hg(r,s,l,d,p){l=l.render;var y=s.ref;return Lo(s,p),d=xh(r,s,l,d,y,p),l=Ch(),r!==null&&!dn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Qr(r,s,p)):(ot&&l&&lh(s),s.flags|=1,sn(r,s,d,p),s.child)}function Gg(r,s,l,d,p){if(r===null){var y=l.type;return typeof y=="function"&&!nf(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,Kg(r,s,y,d,p)):(r=oc(l.type,null,d,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!(r.lanes&p)){var w=y.memoizedProps;if(l=l.compare,l=l!==null?l:za,l(w,d)&&r.ref===s.ref)return Qr(r,s,p)}return s.flags|=1,r=Mi(y,d),r.ref=s.ref,r.return=s,s.child=r}function Kg(r,s,l,d,p){if(r!==null){var y=r.memoizedProps;if(za(y,d)&&r.ref===s.ref)if(dn=!1,s.pendingProps=d=y,(r.lanes&p)!==0)r.flags&131072&&(dn=!0);else return s.lanes=r.lanes,Qr(r,s,p)}return Lh(r,s,l,d,p)}function Qg(r,s,l){var d=s.pendingProps,p=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(jo,Rn),Rn|=l;else{if(!(l&1073741824))return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Je(jo,Rn),Rn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,Je(jo,Rn),Rn|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,Je(jo,Rn),Rn|=d;return sn(r,s,p,l),s.child}function Yg(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Lh(r,s,l,d,p){var y=cn(l)?bs:Wt.current;return y=ko(s,y),Lo(s,p),l=xh(r,s,l,d,y,p),d=Ch(),r!==null&&!dn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~p,Qr(r,s,p)):(ot&&d&&lh(s),s.flags|=1,sn(r,s,l,p),s.child)}function Xg(r,s,l,d,p){if(cn(l)){var y=!0;bu(s)}else y=!1;if(Lo(s,p),s.stateNode===null)Qu(r,s),jg(s,l,d),Nh(s,l,d,p),d=!0;else if(r===null){var w=s.stateNode,P=s.memoizedProps;w.props=P;var V=w.context,H=l.contextType;typeof H=="object"&&H!==null?H=Fn(H):(H=cn(l)?bs:Wt.current,H=ko(s,H));var Z=l.getDerivedStateFromProps,ee=typeof Z=="function"||typeof w.getSnapshotBeforeUpdate=="function";ee||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==d||V!==H)&&Ug(s,w,d,H),Pi=!1;var J=s.memoizedState;w.state=J,Uu(s,d,w,p),V=s.memoizedState,P!==d||J!==V||un.current||Pi?(typeof Z=="function"&&(bh(s,l,Z,d),V=s.memoizedState),(P=Pi||Fg(s,l,P,d,J,V,H))?(ee||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=V),w.props=d,w.state=V,w.context=H,d=P):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{w=s.stateNode,fg(r,s),P=s.memoizedProps,H=s.type===s.elementType?P:or(s.type,P),w.props=H,ee=s.pendingProps,J=w.context,V=l.contextType,typeof V=="object"&&V!==null?V=Fn(V):(V=cn(l)?bs:Wt.current,V=ko(s,V));var de=l.getDerivedStateFromProps;(Z=typeof de=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==ee||J!==V)&&Ug(s,w,d,V),Pi=!1,J=s.memoizedState,w.state=J,Uu(s,d,w,p);var ge=s.memoizedState;P!==ee||J!==ge||un.current||Pi?(typeof de=="function"&&(bh(s,l,de,d),ge=s.memoizedState),(H=Pi||Fg(s,l,H,d,J,ge,V)||!1)?(Z||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,ge,V),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,ge,V)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ge),w.props=d,w.state=ge,w.context=V,d=H):(typeof w.componentDidUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),d=!1)}return Vh(r,s,l,d,y,p)}function Vh(r,s,l,d,p,y){Yg(r,s);var w=(s.flags&128)!==0;if(!d&&!w)return p&&ng(s,l,!1),Qr(r,s,y);d=s.stateNode,ZT.current=s;var P=w&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&w?(s.child=Do(s,r.child,null,y),s.child=Do(s,null,P,y)):sn(r,s,P,y),s.memoizedState=d.state,p&&ng(s,l,!0),s.child}function Jg(r){var s=r.stateNode;s.pendingContext?eg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&eg(r,s.context,!1),_h(r,s.containerInfo)}function Zg(r,s,l,d,p){return No(),hh(p),s.flags|=256,sn(r,s,l,d),s.child}var Mh={dehydrated:null,treeContext:null,retryLane:0};function Fh(r){return{baseLanes:r,cachePool:null,transitions:null}}function ey(r,s,l){var d=s.pendingProps,p=lt.current,y=!1,w=(s.flags&128)!==0,P;if((P=w)||(P=r!==null&&r.memoizedState===null?!1:(p&2)!==0),P?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Je(lt,p&1),r===null)return dh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(w=d.children,r=d.fallback,y?(d=s.mode,y=s.child,w={mode:"hidden",children:w},!(d&1)&&y!==null?(y.childLanes=0,y.pendingProps=w):y=ac(w,d,0,null),r=zs(r,d,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Fh(l),s.memoizedState=Mh,r):jh(s,w));if(p=r.memoizedState,p!==null&&(P=p.dehydrated,P!==null))return eI(r,s,w,d,P,p,l);if(y){y=d.fallback,w=s.mode,p=r.child,P=p.sibling;var V={mode:"hidden",children:d.children};return!(w&1)&&s.child!==p?(d=s.child,d.childLanes=0,d.pendingProps=V,s.deletions=null):(d=Mi(p,V),d.subtreeFlags=p.subtreeFlags&14680064),P!==null?y=Mi(P,y):(y=zs(y,w,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,w=r.child.memoizedState,w=w===null?Fh(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},y.memoizedState=w,y.childLanes=r.childLanes&~l,s.memoizedState=Mh,d}return y=r.child,r=y.sibling,d=Mi(y,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function jh(r,s){return s=ac({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Ku(r,s,l,d){return d!==null&&hh(d),Do(s,r.child,null,l),r=jh(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function eI(r,s,l,d,p,y,w){if(l)return s.flags&256?(s.flags&=-257,d=Dh(Error(t(422))),Ku(r,s,w,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=d.fallback,p=s.mode,d=ac({mode:"visible",children:d.children},p,0,null),y=zs(y,p,w,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,s.mode&1&&Do(s,r.child,null,w),s.child.memoizedState=Fh(w),s.memoizedState=Mh,y);if(!(s.mode&1))return Ku(r,s,w,null);if(p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var P=d.dgst;return d=P,y=Error(t(419)),d=Dh(y,d,void 0),Ku(r,s,w,d)}if(P=(w&r.childLanes)!==0,dn||P){if(d=bt,d!==null){switch(w&-w){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=p&(d.suspendedLanes|w)?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Gr(r,p),ur(d,r,p,-1))}return tf(),d=Dh(Error(t(421))),Ku(r,s,w,d)}return p.data==="$?"?(s.flags|=128,s.child=r.child,s=fI.bind(null,r),p._reactRetry=s,null):(r=y.treeContext,Cn=Ci(p.nextSibling),xn=s,ot=!0,sr=null,r!==null&&(Vn[Mn++]=qr,Vn[Mn++]=Hr,Vn[Mn++]=Ns,qr=r.id,Hr=r.overflow,Ns=s),s=jh(s,d.children),s.flags|=4096,s)}function ty(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),gh(r.return,s,l)}function Uh(r,s,l,d,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=p)}function ny(r,s,l){var d=s.pendingProps,p=d.revealOrder,y=d.tail;if(sn(r,s,d.children,l),d=lt.current,d&2)d=d&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ty(r,l,s);else if(r.tag===19)ty(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Je(lt,d),!(s.mode&1))s.memoizedState=null;else switch(p){case"forwards":for(l=s.child,p=null;l!==null;)r=l.alternate,r!==null&&zu(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Uh(s,!1,p,l,y);break;case"backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&zu(r)===null){s.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}Uh(s,!0,l,null,y);break;case"together":Uh(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Qu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Qr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Ms|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,l=Mi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Mi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function tI(r,s,l){switch(s.tag){case 3:Jg(s),No();break;case 5:gg(s);break;case 1:cn(s.type)&&bu(s);break;case 4:_h(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,p=s.memoizedProps.value;Je(Mu,d._currentValue),d._currentValue=p;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Je(lt,lt.current&1),s.flags|=128,null):l&s.child.childLanes?ey(r,s,l):(Je(lt,lt.current&1),r=Qr(r,s,l),r!==null?r.sibling:null);Je(lt,lt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,r.flags&128){if(d)return ny(r,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Je(lt,lt.current),d)break;return null;case 22:case 23:return s.lanes=0,Qg(r,s,l)}return Qr(r,s,l)}var ry,zh,iy,sy;ry=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},zh=function(){},iy=function(r,s,l,d){var p=r.memoizedProps;if(p!==d){r=s.stateNode,Ls(Er.current);var y=null;switch(l){case"input":p=Dr(r,p),d=Dr(r,d),y=[];break;case"select":p=oe({},p,{value:void 0}),d=oe({},d,{value:void 0}),y=[];break;case"textarea":p=ps(r,p),d=ps(r,d),y=[];break;default:typeof p.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=Au)}pi(l,d);var w;l=null;for(H in p)if(!d.hasOwnProperty(H)&&p.hasOwnProperty(H)&&p[H]!=null)if(H==="style"){var P=p[H];for(w in P)P.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?y||(y=[]):(y=y||[]).push(H,null));for(H in d){var V=d[H];if(P=p!=null?p[H]:void 0,d.hasOwnProperty(H)&&V!==P&&(V!=null||P!=null))if(H==="style")if(P){for(w in P)!P.hasOwnProperty(w)||V&&V.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in V)V.hasOwnProperty(w)&&P[w]!==V[w]&&(l||(l={}),l[w]=V[w])}else l||(y||(y=[]),y.push(H,l)),l=V;else H==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,P=P?P.__html:void 0,V!=null&&P!==V&&(y=y||[]).push(H,V)):H==="children"?typeof V!="string"&&typeof V!="number"||(y=y||[]).push(H,""+V):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(V!=null&&H==="onScroll"&&Ze("scroll",r),y||P===V||(y=[])):(y=y||[]).push(H,V))}l&&(y=y||[]).push("style",l);var H=y;(s.updateQueue=H)&&(s.flags|=4)}},sy=function(r,s,l,d){l!==d&&(s.flags|=4)};function nl(r,s){if(!ot)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Ht(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags&14680064,d|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,d|=p.subtreeFlags,d|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function nI(r,s,l){var d=s.pendingProps;switch(uh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(s),null;case 1:return cn(s.type)&&Pu(),Ht(s),null;case 3:return d=s.stateNode,Vo(),et(un),et(Wt),Th(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Lu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,sr!==null&&(Jh(sr),sr=null))),zh(r,s),Ht(s),null;case 5:wh(s);var p=Ls(Xa.current);if(l=s.type,r!==null&&s.stateNode!=null)iy(r,s,l,d,p),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(t(166));return Ht(s),null}if(r=Ls(Er.current),Lu(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[wr]=s,d[Ha]=y,r=(s.mode&1)!==0,l){case"dialog":Ze("cancel",d),Ze("close",d);break;case"iframe":case"object":case"embed":Ze("load",d);break;case"video":case"audio":for(p=0;p<$a.length;p++)Ze($a[p],d);break;case"source":Ze("error",d);break;case"img":case"image":case"link":Ze("error",d),Ze("load",d);break;case"details":Ze("toggle",d);break;case"input":fr(d,y),Ze("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Ze("invalid",d);break;case"textarea":It(d,y),Ze("invalid",d)}pi(l,y),p=null;for(var w in y)if(y.hasOwnProperty(w)){var P=y[w];w==="children"?typeof P=="string"?d.textContent!==P&&(y.suppressHydrationWarning!==!0&&Ru(d.textContent,P,r),p=["children",P]):typeof P=="number"&&d.textContent!==""+P&&(y.suppressHydrationWarning!==!0&&Ru(d.textContent,P,r),p=["children",""+P]):o.hasOwnProperty(w)&&P!=null&&w==="onScroll"&&Ze("scroll",d)}switch(l){case"input":Zt(d),Or(d,y,!0);break;case"textarea":Zt(d),ms(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=Au)}d=p,s.updateQueue=d,d!==null&&(s.flags|=4)}else{w=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=pt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=w.createElement(l,{is:d.is}):(r=w.createElement(l),l==="select"&&(w=r,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):r=w.createElementNS(r,l),r[wr]=s,r[Ha]=d,ry(r,s,!1,!1),s.stateNode=r;e:{switch(w=ys(l,d),l){case"dialog":Ze("cancel",r),Ze("close",r),p=d;break;case"iframe":case"object":case"embed":Ze("load",r),p=d;break;case"video":case"audio":for(p=0;p<$a.length;p++)Ze($a[p],r);p=d;break;case"source":Ze("error",r),p=d;break;case"img":case"image":case"link":Ze("error",r),Ze("load",r),p=d;break;case"details":Ze("toggle",r),p=d;break;case"input":fr(r,d),p=Dr(r,d),Ze("invalid",r);break;case"option":p=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},p=oe({},d,{value:void 0}),Ze("invalid",r);break;case"textarea":It(r,d),p=ps(r,d),Ze("invalid",r);break;default:p=d}pi(l,p),P=p;for(y in P)if(P.hasOwnProperty(y)){var V=P[y];y==="style"?gs(r,V):y==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Vr(r,V)):y==="children"?typeof V=="string"?(l!=="textarea"||V!=="")&&en(r,V):typeof V=="number"&&en(r,""+V):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?V!=null&&y==="onScroll"&&Ze("scroll",r):V!=null&&Q(r,y,V,w))}switch(l){case"input":Zt(r),Or(r,d,!1);break;case"textarea":Zt(r),ms(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Me(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?Hn(r,!!d.multiple,y,!1):d.defaultValue!=null&&Hn(r,!!d.multiple,d.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=Au)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ht(s),null;case 6:if(r&&s.stateNode!=null)sy(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(t(166));if(l=Ls(Xa.current),Ls(Er.current),Lu(s)){if(d=s.stateNode,l=s.memoizedProps,d[wr]=s,(y=d.nodeValue!==l)&&(r=xn,r!==null))switch(r.tag){case 3:Ru(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ru(d.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[wr]=s,s.stateNode=d}return Ht(s),null;case 13:if(et(lt),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ot&&Cn!==null&&s.mode&1&&!(s.flags&128))lg(),No(),s.flags|=98560,y=!1;else if(y=Lu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[wr]=s}else No(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Ht(s),y=!1}else sr!==null&&(Jh(sr),sr=null),y=!0;if(!y)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(r===null||lt.current&1?Ct===0&&(Ct=3):tf())),s.updateQueue!==null&&(s.flags|=4),Ht(s),null);case 4:return Vo(),zh(r,s),r===null&&Wa(s.stateNode.containerInfo),Ht(s),null;case 10:return mh(s.type._context),Ht(s),null;case 17:return cn(s.type)&&Pu(),Ht(s),null;case 19:if(et(lt),y=s.memoizedState,y===null)return Ht(s),null;if(d=(s.flags&128)!==0,w=y.rendering,w===null)if(d)nl(y,!1);else{if(Ct!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(w=zu(r),w!==null){for(s.flags|=128,nl(y,!1),d=w.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,r=d,y.flags&=14680066,w=y.alternate,w===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=w.childLanes,y.lanes=w.lanes,y.child=w.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=w.memoizedProps,y.memoizedState=w.memoizedState,y.updateQueue=w.updateQueue,y.type=w.type,r=w.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Je(lt,lt.current&1|2),s.child}r=r.sibling}y.tail!==null&&Xe()>Uo&&(s.flags|=128,d=!0,nl(y,!1),s.lanes=4194304)}else{if(!d)if(r=zu(w),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),nl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!ot)return Ht(s),null}else 2*Xe()-y.renderingStartTime>Uo&&l!==1073741824&&(s.flags|=128,d=!0,nl(y,!1),s.lanes=4194304);y.isBackwards?(w.sibling=s.child,s.child=w):(l=y.last,l!==null?l.sibling=w:s.child=w,y.last=w)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Xe(),s.sibling=null,l=lt.current,Je(lt,d?l&1|2:l&1),s):(Ht(s),null);case 22:case 23:return ef(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?Rn&1073741824&&(Ht(s),s.subtreeFlags&6&&(s.flags|=8192)):Ht(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function rI(r,s){switch(uh(s),s.tag){case 1:return cn(s.type)&&Pu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Vo(),et(un),et(Wt),Th(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return wh(s),null;case 13:if(et(lt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));No()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return et(lt),null;case 4:return Vo(),null;case 10:return mh(s.type._context),null;case 22:case 23:return ef(),null;case 24:return null;default:return null}}var Yu=!1,Gt=!1,iI=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Fo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ft(r,s,d)}else l.current=null}function Bh(r,s,l){try{l()}catch(d){ft(r,s,d)}}var oy=!1;function sI(r,s){if(eh=Ii,r=Fm(),Hd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var p=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var w=0,P=-1,V=-1,H=0,Z=0,ee=r,J=null;t:for(;;){for(var de;ee!==l||p!==0&&ee.nodeType!==3||(P=w+p),ee!==y||d!==0&&ee.nodeType!==3||(V=w+d),ee.nodeType===3&&(w+=ee.nodeValue.length),(de=ee.firstChild)!==null;)J=ee,ee=de;for(;;){if(ee===r)break t;if(J===l&&++H===p&&(P=w),J===y&&++Z===d&&(V=w),(de=ee.nextSibling)!==null)break;ee=J,J=ee.parentNode}ee=de}l=P===-1||V===-1?null:{start:P,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(th={focusedElem:r,selectionRange:l},Ii=!1,pe=s;pe!==null;)if(s=pe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,pe=r;else for(;pe!==null;){s=pe;try{var ge=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ge!==null){var ye=ge.memoizedProps,gt=ge.memoizedState,$=s.stateNode,U=$.getSnapshotBeforeUpdate(s.elementType===s.type?ye:or(s.type,ye),gt);$.__reactInternalSnapshotBeforeUpdate=U}break;case 3:var W=s.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(re){ft(s,s.return,re)}if(r=s.sibling,r!==null){r.return=s.return,pe=r;break}pe=s.return}return ge=oy,oy=!1,ge}function rl(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var p=d=d.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&Bh(s,l,y)}p=p.next}while(p!==d)}}function Xu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function $h(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function ay(r){var s=r.alternate;s!==null&&(r.alternate=null,ay(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[wr],delete s[Ha],delete s[sh],delete s[zT],delete s[BT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ly(r){return r.tag===5||r.tag===3||r.tag===4}function uy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ly(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Wh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Au));else if(d!==4&&(r=r.child,r!==null))for(Wh(r,s,l),r=r.sibling;r!==null;)Wh(r,s,l),r=r.sibling}function qh(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(qh(r,s,l),r=r.sibling;r!==null;)qh(r,s,l),r=r.sibling}var Vt=null,ar=!1;function Ni(r,s,l){for(l=l.child;l!==null;)cy(r,s,l),l=l.sibling}function cy(r,s,l){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(Is,l)}catch{}switch(l.tag){case 5:Gt||Fo(l,s);case 6:var d=Vt,p=ar;Vt=null,Ni(r,s,l),Vt=d,ar=p,Vt!==null&&(ar?(r=Vt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Vt.removeChild(l.stateNode));break;case 18:Vt!==null&&(ar?(r=Vt,l=l.stateNode,r.nodeType===8?ih(r.parentNode,l):r.nodeType===1&&ih(r,l),nr(r)):ih(Vt,l.stateNode));break;case 4:d=Vt,p=ar,Vt=l.stateNode.containerInfo,ar=!0,Ni(r,s,l),Vt=d,ar=p;break;case 0:case 11:case 14:case 15:if(!Gt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){p=d=d.next;do{var y=p,w=y.destroy;y=y.tag,w!==void 0&&(y&2||y&4)&&Bh(l,s,w),p=p.next}while(p!==d)}Ni(r,s,l);break;case 1:if(!Gt&&(Fo(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(P){ft(l,s,P)}Ni(r,s,l);break;case 21:Ni(r,s,l);break;case 22:l.mode&1?(Gt=(d=Gt)||l.memoizedState!==null,Ni(r,s,l),Gt=d):Ni(r,s,l);break;default:Ni(r,s,l)}}function dy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new iI),s.forEach(function(d){var p=pI.bind(null,r,d);l.has(d)||(l.add(d),d.then(p,p))})}}function lr(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var p=l[d];try{var y=r,w=s,P=w;e:for(;P!==null;){switch(P.tag){case 5:Vt=P.stateNode,ar=!1;break e;case 3:Vt=P.stateNode.containerInfo,ar=!0;break e;case 4:Vt=P.stateNode.containerInfo,ar=!0;break e}P=P.return}if(Vt===null)throw Error(t(160));cy(y,w,p),Vt=null,ar=!1;var V=p.alternate;V!==null&&(V.return=null),p.return=null}catch(H){ft(p,s,H)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)hy(s,r),s=s.sibling}function hy(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(lr(s,r),Ir(r),d&4){try{rl(3,r,r.return),Xu(3,r)}catch(ye){ft(r,r.return,ye)}try{rl(5,r,r.return)}catch(ye){ft(r,r.return,ye)}}break;case 1:lr(s,r),Ir(r),d&512&&l!==null&&Fo(l,l.return);break;case 5:if(lr(s,r),Ir(r),d&512&&l!==null&&Fo(l,l.return),r.flags&32){var p=r.stateNode;try{en(p,"")}catch(ye){ft(r,r.return,ye)}}if(d&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,w=l!==null?l.memoizedProps:y,P=r.type,V=r.updateQueue;if(r.updateQueue=null,V!==null)try{P==="input"&&y.type==="radio"&&y.name!=null&&fs(p,y),ys(P,w);var H=ys(P,y);for(w=0;w<V.length;w+=2){var Z=V[w],ee=V[w+1];Z==="style"?gs(p,ee):Z==="dangerouslySetInnerHTML"?Vr(p,ee):Z==="children"?en(p,ee):Q(p,Z,ee,H)}switch(P){case"input":di(p,y);break;case"textarea":wn(p,y);break;case"select":var J=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var de=y.value;de!=null?Hn(p,!!y.multiple,de,!1):J!==!!y.multiple&&(y.defaultValue!=null?Hn(p,!!y.multiple,y.defaultValue,!0):Hn(p,!!y.multiple,y.multiple?[]:"",!1))}p[Ha]=y}catch(ye){ft(r,r.return,ye)}}break;case 6:if(lr(s,r),Ir(r),d&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(ye){ft(r,r.return,ye)}}break;case 3:if(lr(s,r),Ir(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{nr(s.containerInfo)}catch(ye){ft(r,r.return,ye)}break;case 4:lr(s,r),Ir(r);break;case 13:lr(s,r),Ir(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(Kh=Xe())),d&4&&dy(r);break;case 22:if(Z=l!==null&&l.memoizedState!==null,r.mode&1?(Gt=(H=Gt)||Z,lr(s,r),Gt=H):lr(s,r),Ir(r),d&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!Z&&r.mode&1)for(pe=r,Z=r.child;Z!==null;){for(ee=pe=Z;pe!==null;){switch(J=pe,de=J.child,J.tag){case 0:case 11:case 14:case 15:rl(4,J,J.return);break;case 1:Fo(J,J.return);var ge=J.stateNode;if(typeof ge.componentWillUnmount=="function"){d=J,l=J.return;try{s=d,ge.props=s.memoizedProps,ge.state=s.memoizedState,ge.componentWillUnmount()}catch(ye){ft(d,l,ye)}}break;case 5:Fo(J,J.return);break;case 22:if(J.memoizedState!==null){my(ee);continue}}de!==null?(de.return=J,pe=de):my(ee)}Z=Z.sibling}e:for(Z=null,ee=r;;){if(ee.tag===5){if(Z===null){Z=ee;try{p=ee.stateNode,H?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(P=ee.stateNode,V=ee.memoizedProps.style,w=V!=null&&V.hasOwnProperty("display")?V.display:null,P.style.display=hi("display",w))}catch(ye){ft(r,r.return,ye)}}}else if(ee.tag===6){if(Z===null)try{ee.stateNode.nodeValue=H?"":ee.memoizedProps}catch(ye){ft(r,r.return,ye)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===r)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===r)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===r)break e;Z===ee&&(Z=null),ee=ee.return}Z===ee&&(Z=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:lr(s,r),Ir(r),d&4&&dy(r);break;case 21:break;default:lr(s,r),Ir(r)}}function Ir(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(ly(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var p=d.stateNode;d.flags&32&&(en(p,""),d.flags&=-33);var y=uy(r);qh(r,y,p);break;case 3:case 4:var w=d.stateNode.containerInfo,P=uy(r);Wh(r,P,w);break;default:throw Error(t(161))}}catch(V){ft(r,r.return,V)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function oI(r,s,l){pe=r,fy(r)}function fy(r,s,l){for(var d=(r.mode&1)!==0;pe!==null;){var p=pe,y=p.child;if(p.tag===22&&d){var w=p.memoizedState!==null||Yu;if(!w){var P=p.alternate,V=P!==null&&P.memoizedState!==null||Gt;P=Yu;var H=Gt;if(Yu=w,(Gt=V)&&!H)for(pe=p;pe!==null;)w=pe,V=w.child,w.tag===22&&w.memoizedState!==null?gy(p):V!==null?(V.return=w,pe=V):gy(p);for(;y!==null;)pe=y,fy(y),y=y.sibling;pe=p,Yu=P,Gt=H}py(r)}else p.subtreeFlags&8772&&y!==null?(y.return=p,pe=y):py(r)}}function py(r){for(;pe!==null;){var s=pe;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Gt||Xu(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Gt)if(l===null)d.componentDidMount();else{var p=s.elementType===s.type?l.memoizedProps:or(s.type,l.memoizedProps);d.componentDidUpdate(p,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&mg(s,y,d);break;case 3:var w=s.updateQueue;if(w!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}mg(s,w,l)}break;case 5:var P=s.stateNode;if(l===null&&s.flags&4){l=P;var V=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&l.focus();break;case"img":V.src&&(l.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var H=s.alternate;if(H!==null){var Z=H.memoizedState;if(Z!==null){var ee=Z.dehydrated;ee!==null&&nr(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Gt||s.flags&512&&$h(s)}catch(J){ft(s,s.return,J)}}if(s===r){pe=null;break}if(l=s.sibling,l!==null){l.return=s.return,pe=l;break}pe=s.return}}function my(r){for(;pe!==null;){var s=pe;if(s===r){pe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,pe=l;break}pe=s.return}}function gy(r){for(;pe!==null;){var s=pe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Xu(4,s)}catch(V){ft(s,l,V)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var p=s.return;try{d.componentDidMount()}catch(V){ft(s,p,V)}}var y=s.return;try{$h(s)}catch(V){ft(s,y,V)}break;case 5:var w=s.return;try{$h(s)}catch(V){ft(s,w,V)}}}catch(V){ft(s,s.return,V)}if(s===r){pe=null;break}var P=s.sibling;if(P!==null){P.return=s.return,pe=P;break}pe=s.return}}var aI=Math.ceil,Ju=te.ReactCurrentDispatcher,Hh=te.ReactCurrentOwner,Un=te.ReactCurrentBatchConfig,$e=0,bt=null,_t=null,Mt=0,Rn=0,jo=Ri(0),Ct=0,il=null,Ms=0,Zu=0,Gh=0,sl=null,hn=null,Kh=0,Uo=1/0,Yr=null,ec=!1,Qh=null,Di=null,tc=!1,Oi=null,nc=0,ol=0,Yh=null,rc=-1,ic=0;function on(){return $e&6?Xe():rc!==-1?rc:rc=Xe()}function Li(r){return r.mode&1?$e&2&&Mt!==0?Mt&-Mt:WT.transition!==null?(ic===0&&(ic=xs()),ic):(r=Fe,r!==0||(r=window.event,r=r===void 0?16:Oa(r.type)),r):1}function ur(r,s,l,d){if(50<ol)throw ol=0,Yh=null,Error(t(185));_i(r,l,d),(!($e&2)||r!==bt)&&(r===bt&&(!($e&2)&&(Zu|=l),Ct===4&&Vi(r,Mt)),fn(r,d),l===1&&$e===0&&!(s.mode&1)&&(Uo=Xe()+500,Nu&&ki()))}function fn(r,s){var l=r.callbackNode;Fr(r,s);var d=Ss(r,r===bt?Mt:0);if(d===0)l!==null&&ka(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&ka(l),s===1)r.tag===0?$T(vy.bind(null,r)):rg(vy.bind(null,r)),jT(function(){!($e&6)&&ki()}),l=null;else{switch(Ei(d)){case 1:l=Ts;break;case 4:l=gi;break;case 16:l=Dn;break;case 536870912:l=iu;break;default:l=Dn}l=Cy(l,yy.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function yy(r,s){if(rc=-1,ic=0,$e&6)throw Error(t(327));var l=r.callbackNode;if(zo()&&r.callbackNode!==l)return null;var d=Ss(r,r===bt?Mt:0);if(d===0)return null;if(d&30||d&r.expiredLanes||s)s=sc(r,d);else{s=d;var p=$e;$e|=2;var y=wy();(bt!==r||Mt!==s)&&(Yr=null,Uo=Xe()+500,js(r,s));do try{cI();break}catch(P){_y(r,P)}while(!0);ph(),Ju.current=y,$e=p,_t!==null?s=0:(bt=null,Mt=0,s=Ct)}if(s!==0){if(s===2&&(p=Tn(r),p!==0&&(d=p,s=Xh(r,p))),s===1)throw l=il,js(r,0),Vi(r,d),fn(r,Xe()),l;if(s===6)Vi(r,d);else{if(p=r.current.alternate,!(d&30)&&!lI(p)&&(s=sc(r,d),s===2&&(y=Tn(r),y!==0&&(d=y,s=Xh(r,y))),s===1))throw l=il,js(r,0),Vi(r,d),fn(r,Xe()),l;switch(r.finishedWork=p,r.finishedLanes=d,s){case 0:case 1:throw Error(t(345));case 2:Us(r,hn,Yr);break;case 3:if(Vi(r,d),(d&130023424)===d&&(s=Kh+500-Xe(),10<s)){if(Ss(r,0)!==0)break;if(p=r.suspendedLanes,(p&d)!==d){on(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=rh(Us.bind(null,r,hn,Yr),s);break}Us(r,hn,Yr);break;case 4:if(Vi(r,d),(d&4194240)===d)break;for(s=r.eventTimes,p=-1;0<d;){var w=31-nn(d);y=1<<w,w=s[w],w>p&&(p=w),d&=~y}if(d=p,d=Xe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*aI(d/1960))-d,10<d){r.timeoutHandle=rh(Us.bind(null,r,hn,Yr),d);break}Us(r,hn,Yr);break;case 5:Us(r,hn,Yr);break;default:throw Error(t(329))}}}return fn(r,Xe()),r.callbackNode===l?yy.bind(null,r):null}function Xh(r,s){var l=sl;return r.current.memoizedState.isDehydrated&&(js(r,s).flags|=256),r=sc(r,s),r!==2&&(s=hn,hn=l,s!==null&&Jh(s)),r}function Jh(r){hn===null?hn=r:hn.push.apply(hn,r)}function lI(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var p=l[d],y=p.getSnapshot;p=p.value;try{if(!ir(y(),p))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Vi(r,s){for(s&=~Gh,s&=~Zu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-nn(s),d=1<<l;r[l]=-1,s&=~d}}function vy(r){if($e&6)throw Error(t(327));zo();var s=Ss(r,0);if(!(s&1))return fn(r,Xe()),null;var l=sc(r,s);if(r.tag!==0&&l===2){var d=Tn(r);d!==0&&(s=d,l=Xh(r,d))}if(l===1)throw l=il,js(r,0),Vi(r,s),fn(r,Xe()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Us(r,hn,Yr),fn(r,Xe()),null}function Zh(r,s){var l=$e;$e|=1;try{return r(s)}finally{$e=l,$e===0&&(Uo=Xe()+500,Nu&&ki())}}function Fs(r){Oi!==null&&Oi.tag===0&&!($e&6)&&zo();var s=$e;$e|=1;var l=Un.transition,d=Fe;try{if(Un.transition=null,Fe=1,r)return r()}finally{Fe=d,Un.transition=l,$e=s,!($e&6)&&ki()}}function ef(){Rn=jo.current,et(jo)}function js(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,FT(l)),_t!==null)for(l=_t.return;l!==null;){var d=l;switch(uh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Pu();break;case 3:Vo(),et(un),et(Wt),Th();break;case 5:wh(d);break;case 4:Vo();break;case 13:et(lt);break;case 19:et(lt);break;case 10:mh(d.type._context);break;case 22:case 23:ef()}l=l.return}if(bt=r,_t=r=Mi(r.current,null),Mt=Rn=s,Ct=0,il=null,Gh=Zu=Ms=0,hn=sl=null,Os!==null){for(s=0;s<Os.length;s++)if(l=Os[s],d=l.interleaved,d!==null){l.interleaved=null;var p=d.next,y=l.pending;if(y!==null){var w=y.next;y.next=p,d.next=w}l.pending=d}Os=null}return r}function _y(r,s){do{var l=_t;try{if(ph(),Bu.current=Hu,$u){for(var d=ut.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}$u=!1}if(Vs=0,Pt=xt=ut=null,Ja=!1,Za=0,Hh.current=null,l===null||l.return===null){Ct=1,il=s,_t=null;break}e:{var y=r,w=l.return,P=l,V=s;if(s=Mt,P.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var H=V,Z=P,ee=Z.tag;if(!(Z.mode&1)&&(ee===0||ee===11||ee===15)){var J=Z.alternate;J?(Z.updateQueue=J.updateQueue,Z.memoizedState=J.memoizedState,Z.lanes=J.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var de=Wg(w);if(de!==null){de.flags&=-257,qg(de,w,P,y,s),de.mode&1&&$g(y,H,s),s=de,V=H;var ge=s.updateQueue;if(ge===null){var ye=new Set;ye.add(V),s.updateQueue=ye}else ge.add(V);break e}else{if(!(s&1)){$g(y,H,s),tf();break e}V=Error(t(426))}}else if(ot&&P.mode&1){var gt=Wg(w);if(gt!==null){!(gt.flags&65536)&&(gt.flags|=256),qg(gt,w,P,y,s),hh(Mo(V,P));break e}}y=V=Mo(V,P),Ct!==4&&(Ct=2),sl===null?sl=[y]:sl.push(y),y=w;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var $=zg(y,V,s);pg(y,$);break e;case 1:P=V;var U=y.type,W=y.stateNode;if(!(y.flags&128)&&(typeof U.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Di===null||!Di.has(W)))){y.flags|=65536,s&=-s,y.lanes|=s;var re=Bg(y,P,s);pg(y,re);break e}}y=y.return}while(y!==null)}Ty(l)}catch(ve){s=ve,_t===l&&l!==null&&(_t=l=l.return);continue}break}while(!0)}function wy(){var r=Ju.current;return Ju.current=Hu,r===null?Hu:r}function tf(){(Ct===0||Ct===3||Ct===2)&&(Ct=4),bt===null||!(Ms&268435455)&&!(Zu&268435455)||Vi(bt,Mt)}function sc(r,s){var l=$e;$e|=2;var d=wy();(bt!==r||Mt!==s)&&(Yr=null,js(r,s));do try{uI();break}catch(p){_y(r,p)}while(!0);if(ph(),$e=l,Ju.current=d,_t!==null)throw Error(t(261));return bt=null,Mt=0,Ct}function uI(){for(;_t!==null;)Ey(_t)}function cI(){for(;_t!==null&&!nu();)Ey(_t)}function Ey(r){var s=xy(r.alternate,r,Rn);r.memoizedProps=r.pendingProps,s===null?Ty(r):_t=s,Hh.current=null}function Ty(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=rI(l,s),l!==null){l.flags&=32767,_t=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ct=6,_t=null;return}}else if(l=nI(l,s,Rn),l!==null){_t=l;return}if(s=s.sibling,s!==null){_t=s;return}_t=s=r}while(s!==null);Ct===0&&(Ct=5)}function Us(r,s,l){var d=Fe,p=Un.transition;try{Un.transition=null,Fe=1,dI(r,s,l,d)}finally{Un.transition=p,Fe=d}return null}function dI(r,s,l,d){do zo();while(Oi!==null);if($e&6)throw Error(t(327));l=r.finishedWork;var p=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(Ye(r,y),r===bt&&(_t=bt=null,Mt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||tc||(tc=!0,Cy(Dn,function(){return zo(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=Un.transition,Un.transition=null;var w=Fe;Fe=1;var P=$e;$e|=4,Hh.current=null,sI(r,l),hy(l,r),bT(th),Ii=!!eh,th=eh=null,r.current=l,oI(l),Fd(),$e=P,Fe=w,Un.transition=y}else r.current=l;if(tc&&(tc=!1,Oi=r,nc=p),y=r.pendingLanes,y===0&&(Di=null),su(l.stateNode),fn(r,Xe()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)p=s[l],d(p.value,{componentStack:p.stack,digest:p.digest});if(ec)throw ec=!1,r=Qh,Qh=null,r;return nc&1&&r.tag!==0&&zo(),y=r.pendingLanes,y&1?r===Yh?ol++:(ol=0,Yh=r):ol=0,ki(),null}function zo(){if(Oi!==null){var r=Ei(nc),s=Un.transition,l=Fe;try{if(Un.transition=null,Fe=16>r?16:r,Oi===null)var d=!1;else{if(r=Oi,Oi=null,nc=0,$e&6)throw Error(t(331));var p=$e;for($e|=4,pe=r.current;pe!==null;){var y=pe,w=y.child;if(pe.flags&16){var P=y.deletions;if(P!==null){for(var V=0;V<P.length;V++){var H=P[V];for(pe=H;pe!==null;){var Z=pe;switch(Z.tag){case 0:case 11:case 15:rl(8,Z,y)}var ee=Z.child;if(ee!==null)ee.return=Z,pe=ee;else for(;pe!==null;){Z=pe;var J=Z.sibling,de=Z.return;if(ay(Z),Z===H){pe=null;break}if(J!==null){J.return=de,pe=J;break}pe=de}}}var ge=y.alternate;if(ge!==null){var ye=ge.child;if(ye!==null){ge.child=null;do{var gt=ye.sibling;ye.sibling=null,ye=gt}while(ye!==null)}}pe=y}}if(y.subtreeFlags&2064&&w!==null)w.return=y,pe=w;else e:for(;pe!==null;){if(y=pe,y.flags&2048)switch(y.tag){case 0:case 11:case 15:rl(9,y,y.return)}var $=y.sibling;if($!==null){$.return=y.return,pe=$;break e}pe=y.return}}var U=r.current;for(pe=U;pe!==null;){w=pe;var W=w.child;if(w.subtreeFlags&2064&&W!==null)W.return=w,pe=W;else e:for(w=U;pe!==null;){if(P=pe,P.flags&2048)try{switch(P.tag){case 0:case 11:case 15:Xu(9,P)}}catch(ve){ft(P,P.return,ve)}if(P===w){pe=null;break e}var re=P.sibling;if(re!==null){re.return=P.return,pe=re;break e}pe=P.return}}if($e=p,ki(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(Is,r)}catch{}d=!0}return d}finally{Fe=l,Un.transition=s}}return!1}function Iy(r,s,l){s=Mo(l,s),s=zg(r,s,1),r=bi(r,s,1),s=on(),r!==null&&(_i(r,1,s),fn(r,s))}function ft(r,s,l){if(r.tag===3)Iy(r,r,l);else for(;s!==null;){if(s.tag===3){Iy(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Di===null||!Di.has(d))){r=Mo(l,r),r=Bg(s,r,1),s=bi(s,r,1),r=on(),s!==null&&(_i(s,1,r),fn(s,r));break}}s=s.return}}function hI(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=on(),r.pingedLanes|=r.suspendedLanes&l,bt===r&&(Mt&l)===l&&(Ct===4||Ct===3&&(Mt&130023424)===Mt&&500>Xe()-Kh?js(r,0):Gh|=l),fn(r,s)}function Sy(r,s){s===0&&(r.mode&1?(s=uo,uo<<=1,!(uo&130023424)&&(uo=4194304)):s=1);var l=on();r=Gr(r,s),r!==null&&(_i(r,s,l),fn(r,l))}function fI(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Sy(r,l)}function pI(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(s),Sy(r,l)}var xy;xy=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||un.current)dn=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return dn=!1,tI(r,s,l);dn=!!(r.flags&131072)}else dn=!1,ot&&s.flags&1048576&&ig(s,Ou,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Qu(r,s),r=s.pendingProps;var p=ko(s,Wt.current);Lo(s,l),p=xh(null,s,d,r,p,l);var y=Ch();return s.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,cn(d)?(y=!0,bu(s)):y=!1,s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,vh(s),p.updater=Gu,s.stateNode=p,p._reactInternals=s,Nh(s,d,r,l),s=Vh(null,s,d,!0,y,l)):(s.tag=0,ot&&y&&lh(s),sn(null,s,p,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Qu(r,s),r=s.pendingProps,p=d._init,d=p(d._payload),s.type=d,p=s.tag=gI(d),r=or(d,r),p){case 0:s=Lh(null,s,d,r,l);break e;case 1:s=Xg(null,s,d,r,l);break e;case 11:s=Hg(null,s,d,r,l);break e;case 14:s=Gg(null,s,d,or(d.type,r),l);break e}throw Error(t(306,d,""))}return s;case 0:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:or(d,p),Lh(r,s,d,p,l);case 1:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:or(d,p),Xg(r,s,d,p,l);case 3:e:{if(Jg(s),r===null)throw Error(t(387));d=s.pendingProps,y=s.memoizedState,p=y.element,fg(r,s),Uu(s,d,null,l);var w=s.memoizedState;if(d=w.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){p=Mo(Error(t(423)),s),s=Zg(r,s,d,l,p);break e}else if(d!==p){p=Mo(Error(t(424)),s),s=Zg(r,s,d,l,p);break e}else for(Cn=Ci(s.stateNode.containerInfo.firstChild),xn=s,ot=!0,sr=null,l=dg(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(No(),d===p){s=Qr(r,s,l);break e}sn(r,s,d,l)}s=s.child}return s;case 5:return gg(s),r===null&&dh(s),d=s.type,p=s.pendingProps,y=r!==null?r.memoizedProps:null,w=p.children,nh(d,p)?w=null:y!==null&&nh(d,y)&&(s.flags|=32),Yg(r,s),sn(r,s,w,l),s.child;case 6:return r===null&&dh(s),null;case 13:return ey(r,s,l);case 4:return _h(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=Do(s,null,d,l):sn(r,s,d,l),s.child;case 11:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:or(d,p),Hg(r,s,d,p,l);case 7:return sn(r,s,s.pendingProps,l),s.child;case 8:return sn(r,s,s.pendingProps.children,l),s.child;case 12:return sn(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,p=s.pendingProps,y=s.memoizedProps,w=p.value,Je(Mu,d._currentValue),d._currentValue=w,y!==null)if(ir(y.value,w)){if(y.children===p.children&&!un.current){s=Qr(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var P=y.dependencies;if(P!==null){w=y.child;for(var V=P.firstContext;V!==null;){if(V.context===d){if(y.tag===1){V=Kr(-1,l&-l),V.tag=2;var H=y.updateQueue;if(H!==null){H=H.shared;var Z=H.pending;Z===null?V.next=V:(V.next=Z.next,Z.next=V),H.pending=V}}y.lanes|=l,V=y.alternate,V!==null&&(V.lanes|=l),gh(y.return,l,s),P.lanes|=l;break}V=V.next}}else if(y.tag===10)w=y.type===s.type?null:y.child;else if(y.tag===18){if(w=y.return,w===null)throw Error(t(341));w.lanes|=l,P=w.alternate,P!==null&&(P.lanes|=l),gh(w,l,s),w=y.sibling}else w=y.child;if(w!==null)w.return=y;else for(w=y;w!==null;){if(w===s){w=null;break}if(y=w.sibling,y!==null){y.return=w.return,w=y;break}w=w.return}y=w}sn(r,s,p.children,l),s=s.child}return s;case 9:return p=s.type,d=s.pendingProps.children,Lo(s,l),p=Fn(p),d=d(p),s.flags|=1,sn(r,s,d,l),s.child;case 14:return d=s.type,p=or(d,s.pendingProps),p=or(d.type,p),Gg(r,s,d,p,l);case 15:return Kg(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,p=s.pendingProps,p=s.elementType===d?p:or(d,p),Qu(r,s),s.tag=1,cn(d)?(r=!0,bu(s)):r=!1,Lo(s,l),jg(s,d,p),Nh(s,d,p,l),Vh(null,s,d,!0,r,l);case 19:return ny(r,s,l);case 22:return Qg(r,s,l)}throw Error(t(156,s.tag))};function Cy(r,s){return ao(r,s)}function mI(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(r,s,l,d){return new mI(r,s,l,d)}function nf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function gI(r){if(typeof r=="function")return nf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===M)return 11;if(r===at)return 14}return 2}function Mi(r,s){var l=r.alternate;return l===null?(l=zn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function oc(r,s,l,d,p,y){var w=2;if(d=r,typeof r=="function")nf(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case D:return zs(l.children,p,y,s);case R:w=8,p|=8;break;case k:return r=zn(12,l,s,p|2),r.elementType=k,r.lanes=y,r;case N:return r=zn(13,l,s,p),r.elementType=N,r.lanes=y,r;case Be:return r=zn(19,l,s,p),r.elementType=Be,r.lanes=y,r;case be:return ac(l,p,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case L:w=10;break e;case F:w=9;break e;case M:w=11;break e;case at:w=14;break e;case Ke:w=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=zn(w,l,s,p),s.elementType=r,s.type=d,s.lanes=y,s}function zs(r,s,l,d){return r=zn(7,r,d,s),r.lanes=l,r}function ac(r,s,l,d){return r=zn(22,r,d,s),r.elementType=be,r.lanes=l,r.stateNode={isHidden:!1},r}function rf(r,s,l){return r=zn(6,r,null,s),r.lanes=l,r}function sf(r,s,l){return s=zn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function yI(r,s,l,d,p){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vi(0),this.expirationTimes=vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.identifierPrefix=d,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function of(r,s,l,d,p,y,w,P,V){return r=new yI(r,s,l,P,V),s===1?(s=1,y===!0&&(s|=8)):s=0,y=zn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},vh(y),r}function vI(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:le,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function Ry(r){if(!r)return Ai;r=r._reactInternals;e:{if(Xn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(cn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(cn(l))return tg(r,l,s)}return s}function Ay(r,s,l,d,p,y,w,P,V){return r=of(l,d,!0,r,p,y,w,P,V),r.context=Ry(null),l=r.current,d=on(),p=Li(l),y=Kr(d,p),y.callback=s??null,bi(l,y,p),r.current.lanes=p,_i(r,p,d),fn(r,d),r}function lc(r,s,l,d){var p=s.current,y=on(),w=Li(p);return l=Ry(l),s.context===null?s.context=l:s.pendingContext=l,s=Kr(y,w),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=bi(p,s,w),r!==null&&(ur(r,p,w,y),ju(r,p,w)),w}function uc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function ky(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function af(r,s){ky(r,s),(r=r.alternate)&&ky(r,s)}var Py=typeof reportError=="function"?reportError:function(r){console.error(r)};function lf(r){this._internalRoot=r}cc.prototype.render=lf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));lc(r,s,null,null)},cc.prototype.unmount=lf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Fs(function(){lc(null,r,null,null)}),s[$r]=null}};function cc(r){this._internalRoot=r}cc.prototype.unstable_scheduleHydration=function(r){if(r){var s=cu();r={blockedOn:null,target:r,priority:s};for(var l=0;l<gr.length&&s!==0&&s<gr[l].priority;l++);gr.splice(l,0,r),l===0&&fu(r)}};function uf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function dc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function by(){}function _I(r,s,l,d,p){if(p){if(typeof d=="function"){var y=d;d=function(){var H=uc(w);y.call(H)}}var w=Ay(s,d,r,0,null,!1,!1,"",by);return r._reactRootContainer=w,r[$r]=w.current,Wa(r.nodeType===8?r.parentNode:r),Fs(),w}for(;p=r.lastChild;)r.removeChild(p);if(typeof d=="function"){var P=d;d=function(){var H=uc(V);P.call(H)}}var V=of(r,0,!1,null,null,!1,!1,"",by);return r._reactRootContainer=V,r[$r]=V.current,Wa(r.nodeType===8?r.parentNode:r),Fs(function(){lc(s,V,l,d)}),V}function hc(r,s,l,d,p){var y=l._reactRootContainer;if(y){var w=y;if(typeof p=="function"){var P=p;p=function(){var V=uc(w);P.call(V)}}lc(s,w,r,p)}else w=_I(l,s,r,p,d);return uc(w)}lu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=yi(s.pendingLanes);l!==0&&(wi(s,l|1),fn(s,Xe()),!($e&6)&&(Uo=Xe()+500,ki()))}break;case 13:Fs(function(){var d=Gr(r,1);if(d!==null){var p=on();ur(d,r,1,p)}}),af(r,1)}},co=function(r){if(r.tag===13){var s=Gr(r,134217728);if(s!==null){var l=on();ur(s,r,134217728,l)}af(r,134217728)}},uu=function(r){if(r.tag===13){var s=Li(r),l=Gr(r,s);if(l!==null){var d=on();ur(l,r,s,d)}af(r,s)}},cu=function(){return Fe},du=function(r,s){var l=Fe;try{return Fe=r,s()}finally{Fe=l}},mi=function(r,s,l){switch(s){case"input":if(di(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var p=ku(d);if(!p)throw Error(t(90));ci(d),di(d,p)}}}break;case"textarea":wn(r,l);break;case"select":s=l.value,s!=null&&Hn(r,!!l.multiple,s,!1)}},Nn=Zh,vs=Fs;var wI={usingClientEntryPoint:!1,Events:[Ga,Ro,ku,ht,$t,Zh]},al={findFiberByHostInstance:Ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EI={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Aa(r),r===null?null:r.stateNode},findFiberByHostInstance:al.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{Is=fc.inject(EI),En=fc}catch{}}return pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wI,pn.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uf(s))throw Error(t(200));return vI(r,s,null,l)},pn.createRoot=function(r,s){if(!uf(r))throw Error(t(299));var l=!1,d="",p=Py;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=of(r,1,!1,null,null,l,!1,d,p),r[$r]=s.current,Wa(r.nodeType===8?r.parentNode:r),new lf(s)},pn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Aa(s),r=r===null?null:r.stateNode,r},pn.flushSync=function(r){return Fs(r)},pn.hydrate=function(r,s,l){if(!dc(s))throw Error(t(200));return hc(null,r,s,!0,l)},pn.hydrateRoot=function(r,s,l){if(!uf(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,p=!1,y="",w=Py;if(l!=null&&(l.unstable_strictMode===!0&&(p=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),s=Ay(s,null,r,1,l??null,p,!1,y,w),r[$r]=s.current,Wa(r),d)for(r=0;r<d.length;r++)l=d[r],p=l._getVersion,p=p(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,p]:s.mutableSourceEagerHydrationData.push(l,p);return new cc(s)},pn.render=function(r,s,l){if(!dc(s))throw Error(t(200));return hc(null,r,s,!1,l)},pn.unmountComponentAtNode=function(r){if(!dc(r))throw Error(t(40));return r._reactRootContainer?(Fs(function(){hc(null,null,r,!1,function(){r._reactRootContainer=null,r[$r]=null})}),!0):!1},pn.unstable_batchedUpdates=Zh,pn.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!dc(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return hc(r,s,l,!1,d)},pn.version="18.3.1-next-f1338f8080-20240426",pn}var jy;function b_(){if(jy)return hf.exports;jy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),hf.exports=PI(),hf.exports}var Uy;function bI(){if(Uy)return pc;Uy=1;var n=b_();return pc.createRoot=n.createRoot,pc.hydrateRoot=n.hydrateRoot,pc}var NI=bI(),ul={},zy;function DI(){if(zy)return ul;zy=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.parse=c,ul.serialize=m;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function c(I,T){const O=new a,b=I.length;if(b<2)return O;const A=(T==null?void 0:T.decode)||_;let j=0;do{const q=I.indexOf("=",j);if(q===-1)break;const Q=I.indexOf(";",j),te=Q===-1?b:Q;if(q>te){j=I.lastIndexOf(";",q-1)+1;continue}const ce=h(I,j,q),le=f(I,q,ce),D=I.slice(ce,le);if(O[D]===void 0){let R=h(I,q+1,te),k=f(I,te,R);const L=A(I.slice(R,k));O[D]=L}j=te+1}while(j<b);return O}function h(I,T,O){do{const b=I.charCodeAt(T);if(b!==32&&b!==9)return T}while(++T<O);return O}function f(I,T,O){for(;T>O;){const b=I.charCodeAt(--T);if(b!==32&&b!==9)return T+1}return O}function m(I,T,O){const b=(O==null?void 0:O.encode)||encodeURIComponent;if(!n.test(I))throw new TypeError(`argument name is invalid: ${I}`);const A=b(T);if(!e.test(A))throw new TypeError(`argument val is invalid: ${T}`);let j=I+"="+A;if(!O)return j;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);j+="; Max-Age="+O.maxAge}if(O.domain){if(!t.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);j+="; Domain="+O.domain}if(O.path){if(!i.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);j+="; Path="+O.path}if(O.expires){if(!E(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);j+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(j+="; HttpOnly"),O.secure&&(j+="; Secure"),O.partitioned&&(j+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return j}function _(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function E(I){return o.call(I)==="[object Date]"}return ul}DI();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var By="popstate";function OI(n={}){function e(i,o){let{pathname:a,search:c,hash:h}=i.location;return Mf("",{pathname:a,search:c,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:Sl(o)}return VI(e,t,null,n)}function ct(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function kr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function LI(){return Math.random().toString(36).substring(2,10)}function $y(n,e){return{usr:n.state,key:n.key,idx:e}}function Mf(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ha(e):e,state:t,key:e&&e.key||i||LI()}}function Sl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ha(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function VI(n,e,t,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,c=o.history,h="POP",f=null,m=_();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function _(){return(c.state||{idx:null}).idx}function E(){h="POP";let A=_(),j=A==null?null:A-m;m=A,f&&f({action:h,location:b.location,delta:j})}function I(A,j){h="PUSH";let q=Mf(b.location,A,j);m=_()+1;let Q=$y(q,m),te=b.createHref(q);try{c.pushState(Q,"",te)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(te)}a&&f&&f({action:h,location:b.location,delta:1})}function T(A,j){h="REPLACE";let q=Mf(b.location,A,j);m=_();let Q=$y(q,m),te=b.createHref(q);c.replaceState(Q,"",te),a&&f&&f({action:h,location:b.location,delta:0})}function O(A){let j=o.location.origin!=="null"?o.location.origin:o.location.href,q=typeof A=="string"?A:Sl(A);return q=q.replace(/ $/,"%20"),ct(j,`No window.location.(origin|href) available to create URL for href: ${q}`),new URL(q,j)}let b={get action(){return h},get location(){return n(o,c)},listen(A){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(By,E),f=A,()=>{o.removeEventListener(By,E),f=null}},createHref(A){return e(o,A)},createURL:O,encodeLocation(A){let j=O(A);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:I,replace:T,go(A){return c.go(A)}};return b}function N_(n,e,t="/"){return MI(n,e,t,!1)}function MI(n,e,t,i){let o=typeof e=="string"?ha(e):e,a=ts(o.pathname||"/",t);if(a==null)return null;let c=D_(n);FI(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let m=QI(a);h=GI(c[f],m,i)}return h}function D_(n,e=[],t=[],i=""){let o=(a,c,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};f.relativePath.startsWith("/")&&(ct(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let m=ri([i,f.relativePath]),_=t.concat(f);a.children&&a.children.length>0&&(ct(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),D_(a.children,e,_,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:qI(m,a.index),routesMeta:_})};return n.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,c);else for(let f of O_(a.path))o(a,c,f)}),e}function O_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let c=O_(i.join("/")),h=[];return h.push(...c.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...c),h.map(f=>n.startsWith("/")&&f===""?"/":f)}function FI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:HI(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var jI=/^:[\w-]+$/,UI=3,zI=2,BI=1,$I=10,WI=-2,Wy=n=>n==="*";function qI(n,e){let t=n.split("/"),i=t.length;return t.some(Wy)&&(i+=WI),e&&(i+=zI),t.filter(o=>!Wy(o)).reduce((o,a)=>o+(jI.test(a)?UI:a===""?BI:$I),i)}function HI(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function GI(n,e,t=!1){let{routesMeta:i}=n,o={},a="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],m=h===i.length-1,_=a==="/"?e:e.slice(a.length)||"/",E=Bc({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},_),I=f.route;if(!E&&m&&t&&!i[i.length-1].route.index&&(E=Bc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},_)),!E)return null;Object.assign(o,E.params),c.push({params:o,pathname:ri([a,E.pathname]),pathnameBase:ZI(ri([a,E.pathnameBase])),route:I}),E.pathnameBase!=="/"&&(a=ri([a,E.pathnameBase]))}return c}function Bc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=KI(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let a=o[0],c=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((m,{paramName:_,isOptional:E},I)=>{if(_==="*"){let O=h[I]||"";c=a.slice(0,a.length-O.length).replace(/(.)\/+$/,"$1")}const T=h[I];return E&&!T?m[_]=void 0:m[_]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:c,pattern:n}}function KI(n,e=!1,t=!0){kr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function QI(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return kr(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ts(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function YI(n,e="/"){let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?ha(n):n;return{pathname:t?t.startsWith("/")?t:XI(t,e):e,search:eS(i),hash:tS(o)}}function XI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function mf(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function L_(n){let e=JI(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function V_(n,e,t,i=!1){let o;typeof n=="string"?o=ha(n):(o={...n},ct(!o.pathname||!o.pathname.includes("?"),mf("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),mf("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),mf("#","search","hash",o)));let a=n===""||o.pathname==="",c=a?"/":o.pathname,h;if(c==null)h=t;else{let E=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),E-=1;o.pathname=I.join("/")}h=E>=0?e[E]:"/"}let f=YI(o,h),m=c&&c!=="/"&&c.endsWith("/"),_=(a||c===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(m||_)&&(f.pathname+="/"),f}var ri=n=>n.join("/").replace(/\/\/+/g,"/"),ZI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),eS=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,tS=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function nS(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var M_=["POST","PUT","PATCH","DELETE"];new Set(M_);var rS=["GET",...M_];new Set(rS);var fa=x.createContext(null);fa.displayName="DataRouter";var ud=x.createContext(null);ud.displayName="DataRouterState";var F_=x.createContext({isTransitioning:!1});F_.displayName="ViewTransition";var iS=x.createContext(new Map);iS.displayName="Fetchers";var sS=x.createContext(null);sS.displayName="Await";var Nr=x.createContext(null);Nr.displayName="Navigation";var Ml=x.createContext(null);Ml.displayName="Location";var li=x.createContext({outlet:null,matches:[],isDataRoute:!1});li.displayName="Route";var yp=x.createContext(null);yp.displayName="RouteError";function oS(n,{relative:e}={}){ct(Fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=x.useContext(Nr),{hash:o,pathname:a,search:c}=jl(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:ri([t,a])),i.createHref({pathname:h,search:c,hash:o})}function Fl(){return x.useContext(Ml)!=null}function us(){return ct(Fl(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(Ml).location}var j_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U_(n){x.useContext(Nr).static||x.useLayoutEffect(n)}function aS(){let{isDataRoute:n}=x.useContext(li);return n?wS():lS()}function lS(){ct(Fl(),"useNavigate() may be used only in the context of a <Router> component.");let n=x.useContext(fa),{basename:e,navigator:t}=x.useContext(Nr),{matches:i}=x.useContext(li),{pathname:o}=us(),a=JSON.stringify(L_(i)),c=x.useRef(!1);return U_(()=>{c.current=!0}),x.useCallback((f,m={})=>{if(kr(c.current,j_),!c.current)return;if(typeof f=="number"){t.go(f);return}let _=V_(f,JSON.parse(a),o,m.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ri([e,_.pathname])),(m.replace?t.replace:t.push)(_,m.state,m)},[e,t,a,o,n])}x.createContext(null);function jl(n,{relative:e}={}){let{matches:t}=x.useContext(li),{pathname:i}=us(),o=JSON.stringify(L_(t));return x.useMemo(()=>V_(n,JSON.parse(o),i,e==="path"),[n,o,i,e])}function uS(n,e){return z_(n,e)}function z_(n,e,t,i){var j;ct(Fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=x.useContext(Nr),{matches:a}=x.useContext(li),c=a[a.length-1],h=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",_=c&&c.route;{let q=_&&_.path||"";B_(f,!_||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let E=us(),I;if(e){let q=typeof e=="string"?ha(e):e;ct(m==="/"||((j=q.pathname)==null?void 0:j.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${q.pathname}" was given in the \`location\` prop.`),I=q}else I=E;let T=I.pathname||"/",O=T;if(m!=="/"){let q=m.replace(/^\//,"").split("/");O="/"+T.replace(/^\//,"").split("/").slice(q.length).join("/")}let b=N_(n,{pathname:O});kr(_||b!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),kr(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=pS(b&&b.map(q=>Object.assign({},q,{params:Object.assign({},h,q.params),pathname:ri([m,o.encodeLocation?o.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?m:ri([m,o.encodeLocation?o.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),a,t,i);return e&&A?x.createElement(Ml.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},A):A}function cS(){let n=_S(),e=nS(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:a},"ErrorBoundary")," or"," ",x.createElement("code",{style:a},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),t?x.createElement("pre",{style:o},t):null,c)}var dS=x.createElement(cS,null),hS=class extends x.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?x.createElement(li.Provider,{value:this.props.routeContext},x.createElement(yp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fS({routeContext:n,match:e,children:t}){let i=x.useContext(fa);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(li.Provider,{value:n},t)}function pS(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,a=t==null?void 0:t.errors;if(a!=null){let f=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);ct(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,h=-1;if(t)for(let f=0;f<o.length;f++){let m=o[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=f),m.route.id){let{loaderData:_,errors:E}=t,I=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!E||E[m.route.id]===void 0);if(m.route.lazy||I){c=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,m,_)=>{let E,I=!1,T=null,O=null;t&&(E=a&&m.route.id?a[m.route.id]:void 0,T=m.route.errorElement||dS,c&&(h<0&&_===0?(B_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,O=null):h===_&&(I=!0,O=m.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,_+1)),A=()=>{let j;return E?j=T:I?j=O:m.route.Component?j=x.createElement(m.route.Component,null):m.route.element?j=m.route.element:j=f,x.createElement(fS,{match:m,routeContext:{outlet:f,matches:b,isDataRoute:t!=null},children:j})};return t&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?x.createElement(hS,{location:t.location,revalidation:t.revalidation,component:T,error:E,children:A(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):A()},null)}function vp(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mS(n){let e=x.useContext(fa);return ct(e,vp(n)),e}function gS(n){let e=x.useContext(ud);return ct(e,vp(n)),e}function yS(n){let e=x.useContext(li);return ct(e,vp(n)),e}function _p(n){let e=yS(n),t=e.matches[e.matches.length-1];return ct(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function vS(){return _p("useRouteId")}function _S(){var i;let n=x.useContext(yp),e=gS("useRouteError"),t=_p("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function wS(){let{router:n}=mS("useNavigate"),e=_p("useNavigate"),t=x.useRef(!1);return U_(()=>{t.current=!0}),x.useCallback(async(o,a={})=>{kr(t.current,j_),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...a}))},[n,e])}var qy={};function B_(n,e,t){!e&&!qy[n]&&(qy[n]=!0,kr(!1,t))}x.memo(ES);function ES({routes:n,future:e,state:t}){return z_(n,void 0,t,e)}function qo(n){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TS({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:o,static:a=!1}){ct(!Fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=x.useMemo(()=>({basename:c,navigator:o,static:a,future:{}}),[c,o,a]);typeof t=="string"&&(t=ha(t));let{pathname:f="/",search:m="",hash:_="",state:E=null,key:I="default"}=t,T=x.useMemo(()=>{let O=ts(f,c);return O==null?null:{location:{pathname:O,search:m,hash:_,state:E,key:I},navigationType:i}},[c,f,m,_,E,I,i]);return kr(T!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:x.createElement(Nr.Provider,{value:h},x.createElement(Ml.Provider,{children:e,value:T}))}function IS({children:n,location:e}){return uS(Ff(n),e)}function Ff(n,e=[]){let t=[];return x.Children.forEach(n,(i,o)=>{if(!x.isValidElement(i))return;let a=[...e,o];if(i.type===x.Fragment){t.push.apply(t,Ff(i.props.children,a));return}ct(i.type===qo,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Ff(i.props.children,a)),t.push(c)}),t}var Ac="get",kc="application/x-www-form-urlencoded";function cd(n){return n!=null&&typeof n.tagName=="string"}function SS(n){return cd(n)&&n.tagName.toLowerCase()==="button"}function xS(n){return cd(n)&&n.tagName.toLowerCase()==="form"}function CS(n){return cd(n)&&n.tagName.toLowerCase()==="input"}function RS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function AS(n,e){return n.button===0&&(!e||e==="_self")&&!RS(n)}var mc=null;function kS(){if(mc===null)try{new FormData(document.createElement("form"),0),mc=!1}catch{mc=!0}return mc}var PS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gf(n){return n!=null&&!PS.has(n)?(kr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kc}"`),null):n}function bS(n,e){let t,i,o,a,c;if(xS(n)){let h=n.getAttribute("action");i=h?ts(h,e):null,t=n.getAttribute("method")||Ac,o=gf(n.getAttribute("enctype"))||kc,a=new FormData(n)}else if(SS(n)||CS(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||h.getAttribute("action");if(i=f?ts(f,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Ac,o=gf(n.getAttribute("formenctype"))||gf(h.getAttribute("enctype"))||kc,a=new FormData(h,n),!kS()){let{name:m,type:_,value:E}=n;if(_==="image"){let I=m?`${m}.`:"";a.append(`${I}x`,"0"),a.append(`${I}y`,"0")}else m&&a.append(m,E)}}else{if(cd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Ac,i=null,o=kc,c=n}return a&&o==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:o,formData:a,body:c}}function wp(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function NS(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DS(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function OS(n,e,t){let i=await Promise.all(n.map(async o=>{let a=e.routes[o.route.id];if(a){let c=await NS(a,t);return c.links?c.links():[]}return[]}));return FS(i.flat(1).filter(DS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Hy(n,e,t,i,o,a){let c=(f,m)=>t[m]?f.route.id!==t[m].route.id:!0,h=(f,m)=>{var _;return t[m].pathname!==f.pathname||((_=t[m].route.path)==null?void 0:_.endsWith("*"))&&t[m].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,m)=>c(f,m)||h(f,m)):a==="data"?e.filter((f,m)=>{var E;let _=i.routes[f.route.id];if(!_||!_.hasLoader)return!1;if(c(f,m)||h(f,m))return!0;if(f.route.shouldRevalidate){let I=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=t[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function LS(n,e){return VS(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function VS(n){return[...new Set(n)]}function MS(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function FS(n,e){let t=new Set;return new Set(e),n.reduce((i,o)=>{let a=JSON.stringify(MS(o));return t.has(a)||(t.add(a),i.push({key:a,link:o})),i},[])}function jS(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function US(){let n=x.useContext(fa);return wp(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function zS(){let n=x.useContext(ud);return wp(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ep=x.createContext(void 0);Ep.displayName="FrameworkContext";function $_(){let n=x.useContext(Ep);return wp(n,"You must render this element inside a <HydratedRouter> element"),n}function BS(n,e){let t=x.useContext(Ep),[i,o]=x.useState(!1),[a,c]=x.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:m,onMouseLeave:_,onTouchStart:E}=e,I=x.useRef(null);x.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let b=j=>{j.forEach(q=>{c(q.isIntersecting)})},A=new IntersectionObserver(b,{threshold:.5});return I.current&&A.observe(I.current),()=>{A.disconnect()}}},[n]),x.useEffect(()=>{if(i){let b=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(b)}}},[i]);let T=()=>{o(!0)},O=()=>{o(!1),c(!1)};return t?n!=="intent"?[a,I,{}]:[a,I,{onFocus:cl(h,T),onBlur:cl(f,O),onMouseEnter:cl(m,T),onMouseLeave:cl(_,O),onTouchStart:cl(E,T)}]:[!1,I,{}]}function cl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function $S({page:n,...e}){let{router:t}=US(),i=x.useMemo(()=>N_(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?x.createElement(qS,{page:n,matches:i,...e}):null}function WS(n){let{manifest:e,routeModules:t}=$_(),[i,o]=x.useState([]);return x.useEffect(()=>{let a=!1;return OS(n,e,t).then(c=>{a||o(c)}),()=>{a=!0}},[n,e,t]),i}function qS({page:n,matches:e,...t}){let i=us(),{manifest:o,routeModules:a}=$_(),{loaderData:c,matches:h}=zS(),f=x.useMemo(()=>Hy(n,e,h,o,i,"data"),[n,e,h,o,i]),m=x.useMemo(()=>Hy(n,e,h,o,i,"assets"),[n,e,h,o,i]),_=x.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let T=new Set,O=!1;if(e.forEach(A=>{var q;let j=o.routes[A.route.id];!j||!j.hasLoader||(!f.some(Q=>Q.route.id===A.route.id)&&A.route.id in c&&((q=a[A.route.id])!=null&&q.shouldRevalidate)||j.hasClientLoader?O=!0:T.add(A.route.id))}),T.size===0)return[];let b=jS(n);return O&&T.size>0&&b.searchParams.set("_routes",e.filter(A=>T.has(A.route.id)).map(A=>A.route.id).join(",")),[b.pathname+b.search]},[c,i,o,f,e,n,a]),E=x.useMemo(()=>LS(m,o),[m,o]),I=WS(m);return x.createElement(x.Fragment,null,_.map(T=>x.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...t})),E.map(T=>x.createElement("link",{key:T,rel:"modulepreload",href:T,...t})),I.map(({key:T,link:O})=>x.createElement("link",{key:T,...O})))}function HS(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var W_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W_&&(window.__reactRouterVersion="7.1.1")}catch{}function GS({basename:n,children:e,window:t}){let i=x.useRef();i.current==null&&(i.current=OI({window:t,v5Compat:!0}));let o=i.current,[a,c]=x.useState({action:o.action,location:o.location}),h=x.useCallback(f=>{x.startTransition(()=>c(f))},[c]);return x.useLayoutEffect(()=>o.listen(h),[o,h]),x.createElement(TS,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:o})}var q_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tp=x.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:o,reloadDocument:a,replace:c,state:h,target:f,to:m,preventScrollReset:_,viewTransition:E,...I},T){let{basename:O}=x.useContext(Nr),b=typeof m=="string"&&q_.test(m),A,j=!1;if(typeof m=="string"&&b&&(A=m,W_))try{let k=new URL(window.location.href),L=m.startsWith("//")?new URL(k.protocol+m):new URL(m),F=ts(L.pathname,O);L.origin===k.origin&&F!=null?m=F+L.search+L.hash:j=!0}catch{kr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=oS(m,{relative:o}),[Q,te,ce]=BS(i,I),le=XS(m,{replace:c,state:h,target:f,preventScrollReset:_,relative:o,viewTransition:E});function D(k){e&&e(k),k.defaultPrevented||le(k)}let R=x.createElement("a",{...I,...ce,href:A||q,onClick:j||a?e:D,ref:HS(T,te),target:f,"data-discover":!b&&t==="render"?"true":void 0});return Q&&!b?x.createElement(x.Fragment,null,R,x.createElement($S,{page:q})):R});Tp.displayName="Link";var KS=x.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:h,children:f,...m},_){let E=jl(c,{relative:m.relative}),I=us(),T=x.useContext(ud),{navigator:O,basename:b}=x.useContext(Nr),A=T!=null&&nx(E)&&h===!0,j=O.encodeLocation?O.encodeLocation(E).pathname:E.pathname,q=I.pathname,Q=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(q=q.toLowerCase(),Q=Q?Q.toLowerCase():null,j=j.toLowerCase()),Q&&b&&(Q=ts(Q,b)||Q);const te=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ce=q===j||!o&&q.startsWith(j)&&q.charAt(te)==="/",le=Q!=null&&(Q===j||!o&&Q.startsWith(j)&&Q.charAt(j.length)==="/"),D={isActive:ce,isPending:le,isTransitioning:A},R=ce?e:void 0,k;typeof i=="function"?k=i(D):k=[i,ce?"active":null,le?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let L=typeof a=="function"?a(D):a;return x.createElement(Tp,{...m,"aria-current":R,className:k,ref:_,style:L,to:c,viewTransition:h},typeof f=="function"?f(D):f)});KS.displayName="NavLink";var QS=x.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:o,state:a,method:c=Ac,action:h,onSubmit:f,relative:m,preventScrollReset:_,viewTransition:E,...I},T)=>{let O=ex(),b=tx(h,{relative:m}),A=c.toLowerCase()==="get"?"get":"post",j=typeof h=="string"&&q_.test(h),q=Q=>{if(f&&f(Q),Q.defaultPrevented)return;Q.preventDefault();let te=Q.nativeEvent.submitter,ce=(te==null?void 0:te.getAttribute("formmethod"))||c;O(te||Q.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:o,state:a,relative:m,preventScrollReset:_,viewTransition:E})};return x.createElement("form",{ref:T,method:A,action:b,onSubmit:i?f:q,...I,"data-discover":!j&&n==="render"?"true":void 0})});QS.displayName="Form";function YS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H_(n){let e=x.useContext(fa);return ct(e,YS(n)),e}function XS(n,{target:e,replace:t,state:i,preventScrollReset:o,relative:a,viewTransition:c}={}){let h=aS(),f=us(),m=jl(n,{relative:a});return x.useCallback(_=>{if(AS(_,e)){_.preventDefault();let E=t!==void 0?t:Sl(f)===Sl(m);h(n,{replace:E,state:i,preventScrollReset:o,relative:a,viewTransition:c})}},[f,h,m,t,i,e,n,o,a,c])}var JS=0,ZS=()=>`__${String(++JS)}__`;function ex(){let{router:n}=H_("useSubmit"),{basename:e}=x.useContext(Nr),t=vS();return x.useCallback(async(i,o={})=>{let{action:a,method:c,encType:h,formData:f,body:m}=bS(i,e);if(o.navigate===!1){let _=o.fetcherKey||ZS();await n.fetch(_,t,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||c,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||c,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function tx(n,{relative:e}={}){let{basename:t}=x.useContext(Nr),i=x.useContext(li);ct(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...jl(n||".",{relative:e})},c=us();if(n==null){a.search=c.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(_=>_==="")){h.delete("index"),f.filter(E=>E).forEach(E=>h.append("index",E));let _=h.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ri([t,a.pathname])),Sl(a)}function nx(n,e={}){let t=x.useContext(F_);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=H_("useViewTransitionState"),o=jl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=ts(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=ts(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Bc(o.pathname,c)!=null||Bc(o.pathname,a)!=null}new TextEncoder;var G_=b_();const K_=P_(G_);var rx=n=>{switch(n){case"success":return ox;case"info":return lx;case"warning":return ax;case"error":return ux;default:return null}},ix=Array(12).fill(0),sx=({visible:n,className:e})=>ue.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":n},ue.createElement("div",{className:"sonner-spinner"},ix.map((t,i)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),ox=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),ax=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lx=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ux=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),cx=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),dx=()=>{let[n,e]=ue.useState(document.hidden);return ue.useEffect(()=>{let t=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",t),()=>window.removeEventListener("visibilitychange",t)},[]),n},jf=1,hx=class{constructor(){this.subscribe=n=>(this.subscribers.push(n),()=>{let e=this.subscribers.indexOf(n);this.subscribers.splice(e,1)}),this.publish=n=>{this.subscribers.forEach(e=>e(n))},this.addToast=n=>{this.publish(n),this.toasts=[...this.toasts,n]},this.create=n=>{var e;let{message:t,...i}=n,o=typeof(n==null?void 0:n.id)=="number"||((e=n.id)==null?void 0:e.length)>0?n.id:jf++,a=this.toasts.find(h=>h.id===o),c=n.dismissible===void 0?!0:n.dismissible;return a?this.toasts=this.toasts.map(h=>h.id===o?(this.publish({...h,...n,id:o,title:t}),{...h,...n,id:o,dismissible:c,title:t}):h):this.addToast({title:t,...i,dismissible:c,id:o}),o},this.dismiss=n=>(n||this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:n,dismiss:!0})),n),this.message=(n,e)=>this.create({...e,message:n}),this.error=(n,e)=>this.create({...e,message:n,type:"error"}),this.success=(n,e)=>this.create({...e,type:"success",message:n}),this.info=(n,e)=>this.create({...e,type:"info",message:n}),this.warning=(n,e)=>this.create({...e,type:"warning",message:n}),this.loading=(n,e)=>this.create({...e,type:"loading",message:n}),this.promise=(n,e)=>{if(!e)return;let t;e.loading!==void 0&&(t=this.create({...e,promise:n,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let i=n instanceof Promise?n:n(),o=t!==void 0,a,c=i.then(async f=>{if(a=["resolve",f],ue.isValidElement(f))o=!1,this.create({id:t,type:"default",message:f});else if(px(f)&&!f.ok){o=!1;let m=typeof e.error=="function"?await e.error(`HTTP error! status: ${f.status}`):e.error,_=typeof e.description=="function"?await e.description(`HTTP error! status: ${f.status}`):e.description;this.create({id:t,type:"error",message:m,description:_})}else if(e.success!==void 0){o=!1;let m=typeof e.success=="function"?await e.success(f):e.success,_=typeof e.description=="function"?await e.description(f):e.description;this.create({id:t,type:"success",message:m,description:_})}}).catch(async f=>{if(a=["reject",f],e.error!==void 0){o=!1;let m=typeof e.error=="function"?await e.error(f):e.error,_=typeof e.description=="function"?await e.description(f):e.description;this.create({id:t,type:"error",message:m,description:_})}}).finally(()=>{var f;o&&(this.dismiss(t),t=void 0),(f=e.finally)==null||f.call(e)}),h=()=>new Promise((f,m)=>c.then(()=>a[0]==="reject"?m(a[1]):f(a[1])).catch(m));return typeof t!="string"&&typeof t!="number"?{unwrap:h}:Object.assign(t,{unwrap:h})},this.custom=(n,e)=>{let t=(e==null?void 0:e.id)||jf++;return this.create({jsx:n(t),id:t,...e}),t},this.subscribers=[],this.toasts=[]}},An=new hx,fx=(n,e)=>{let t=(e==null?void 0:e.id)||jf++;return An.addToast({title:n,...e,id:t}),t},px=n=>n&&typeof n=="object"&&"ok"in n&&typeof n.ok=="boolean"&&"status"in n&&typeof n.status=="number",mx=fx,gx=()=>An.toasts,mn=Object.assign(mx,{success:An.success,info:An.info,warning:An.warning,error:An.error,custom:An.custom,message:An.message,promise:An.promise,dismiss:An.dismiss,loading:An.loading},{getHistory:gx});function yx(n,{insertAt:e}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e==="top"&&t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}yx(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function gc(n){return n.label!==void 0}var vx=3,_x="32px",Gy=4e3,wx=356,Ex=14,Tx=20,Ix=200;function Sx(...n){return n.filter(Boolean).join(" ")}var xx=n=>{var e,t,i,o,a,c,h,f,m,_,E;let{invert:I,toast:T,unstyled:O,interacting:b,setHeights:A,visibleToasts:j,heights:q,index:Q,toasts:te,expanded:ce,removeToast:le,defaultRichColors:D,closeButton:R,style:k,cancelButtonStyle:L,actionButtonStyle:F,className:M="",descriptionClassName:N="",duration:Be,position:at,gap:Ke,loadingIcon:be,expandByDefault:se,classNames:ne,icons:oe,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:G,cn:ie}=n,[me,Ee]=ue.useState(!1),[Pe,Se]=ue.useState(!1),[Me,We]=ue.useState(!1),[rt,Zt]=ue.useState(!1),[ci,qn]=ue.useState(!1),[Dr,fr]=ue.useState(0),[fs,di]=ue.useState(0),Or=ue.useRef(T.duration||Be||Gy),Lr=ue.useRef(null),Bt=ue.useRef(null),Hn=Q===0,ps=Q+1<=j,It=T.type,wn=T.dismissible!==!1,ms=T.className||"",pt=T.descriptionClassName||"",it=ue.useMemo(()=>q.findIndex(_e=>_e.toastId===T.id)||0,[q,T.id]),Gn=ue.useMemo(()=>{var _e;return(_e=T.closeButton)!=null?_e:R},[T.closeButton,R]);ue.useMemo(()=>T.duration||Be||Gy,[T.duration,Be]);let Vr=ue.useRef(0),en=ue.useRef(0),pr=ue.useRef(0),bn=ue.useRef(null),[hi,gs]=at.split("-"),fi=ue.useMemo(()=>q.reduce((_e,De,He)=>He>=it?_e:_e+De.height,0),[q,it]),pi=dx(),ys=T.invert||I,Kn=It==="loading";en.current=ue.useMemo(()=>it*Ke+fi,[it,fi]),ue.useEffect(()=>{Ee(!0)},[]),ue.useEffect(()=>{let _e=Bt.current;if(_e){let De=_e.getBoundingClientRect().height;return di(De),A(He=>[{toastId:T.id,height:De,position:T.position},...He]),()=>A(He=>He.filter(ht=>ht.toastId!==T.id))}},[A,T.id]),ue.useLayoutEffect(()=>{if(!me)return;let _e=Bt.current,De=_e.style.height;_e.style.height="auto";let He=_e.getBoundingClientRect().height;_e.style.height=De,di(He),A(ht=>ht.find($t=>$t.toastId===T.id)?ht.map($t=>$t.toastId===T.id?{...$t,height:He}:$t):[{toastId:T.id,height:He,position:T.position},...ht])},[me,T.title,T.description,A,T.id]);let tn=ue.useCallback(()=>{Se(!0),fr(en.current),A(_e=>_e.filter(De=>De.toastId!==T.id)),setTimeout(()=>{le(T)},Ix)},[T,le,A,en]);ue.useEffect(()=>{if(T.promise&&It==="loading"||T.duration===1/0||T.type==="loading")return;let _e;return ce||b||G&&pi?(()=>{if(pr.current<Vr.current){let De=new Date().getTime()-Vr.current;Or.current=Or.current-De}pr.current=new Date().getTime()})():Or.current!==1/0&&(Vr.current=new Date().getTime(),_e=setTimeout(()=>{var De;(De=T.onAutoClose)==null||De.call(T,T),tn()},Or.current)),()=>clearTimeout(_e)},[ce,b,T,It,G,pi,tn]),ue.useEffect(()=>{T.delete&&tn()},[tn,T.delete]);function mi(){var _e,De,He;return oe!=null&&oe.loading?ue.createElement("div",{className:ie(ne==null?void 0:ne.loader,(_e=T==null?void 0:T.classNames)==null?void 0:_e.loader,"sonner-loader"),"data-visible":It==="loading"},oe.loading):be?ue.createElement("div",{className:ie(ne==null?void 0:ne.loader,(De=T==null?void 0:T.classNames)==null?void 0:De.loader,"sonner-loader"),"data-visible":It==="loading"},be):ue.createElement(sx,{className:ie(ne==null?void 0:ne.loader,(He=T==null?void 0:T.classNames)==null?void 0:He.loader),visible:It==="loading"})}return ue.createElement("li",{tabIndex:0,ref:Bt,className:ie(M,ms,ne==null?void 0:ne.toast,(e=T==null?void 0:T.classNames)==null?void 0:e.toast,ne==null?void 0:ne.default,ne==null?void 0:ne[It],(t=T==null?void 0:T.classNames)==null?void 0:t[It]),"data-sonner-toast":"","data-rich-colors":(i=T.richColors)!=null?i:D,"data-styled":!(T.jsx||T.unstyled||O),"data-mounted":me,"data-promise":!!T.promise,"data-swiped":ci,"data-removed":Pe,"data-visible":ps,"data-y-position":hi,"data-x-position":gs,"data-index":Q,"data-front":Hn,"data-swiping":Me,"data-dismissible":wn,"data-type":It,"data-invert":ys,"data-swipe-out":rt,"data-expanded":!!(ce||se&&me),style:{"--index":Q,"--toasts-before":Q,"--z-index":te.length-Q,"--offset":`${Pe?Dr:en.current}px`,"--initial-height":se?"auto":`${fs}px`,...k,...T.style},onPointerDown:_e=>{Kn||!wn||(Lr.current=new Date,fr(en.current),_e.target.setPointerCapture(_e.pointerId),_e.target.tagName!=="BUTTON"&&(We(!0),bn.current={x:_e.clientX,y:_e.clientY}))},onPointerUp:()=>{var _e,De,He,ht;if(rt||!wn)return;bn.current=null;let $t=Number(((_e=Bt.current)==null?void 0:_e.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Nn=new Date().getTime()-((De=Lr.current)==null?void 0:De.getTime()),vs=Math.abs($t)/Nn;if(Math.abs($t)>=Tx||vs>.11){fr(en.current),(He=T.onDismiss)==null||He.call(T,T),tn(),Zt(!0),qn(!1);return}(ht=Bt.current)==null||ht.style.setProperty("--swipe-amount","0px"),We(!1)},onPointerMove:_e=>{var De,He;if(!bn.current||!wn)return;let ht=_e.clientY-bn.current.y,$t=((De=window.getSelection())==null?void 0:De.toString().length)>0,Nn=hi==="top"?Math.min(0,ht):Math.max(0,ht);Math.abs(Nn)>0&&qn(!0),!$t&&((He=Bt.current)==null||He.style.setProperty("--swipe-amount",`${Nn}px`))}},Gn&&!T.jsx?ue.createElement("button",{"aria-label":z,"data-disabled":Kn,"data-close-button":!0,onClick:Kn||!wn?()=>{}:()=>{var _e;tn(),(_e=T.onDismiss)==null||_e.call(T,T)},className:ie(ne==null?void 0:ne.closeButton,(o=T==null?void 0:T.classNames)==null?void 0:o.closeButton)},(a=oe==null?void 0:oe.close)!=null?a:cx):null,T.jsx||ue.isValidElement(T.title)?T.jsx?T.jsx:typeof T.title=="function"?T.title():T.title:ue.createElement(ue.Fragment,null,It||T.icon||T.promise?ue.createElement("div",{"data-icon":"",className:ie(ne==null?void 0:ne.icon,(c=T==null?void 0:T.classNames)==null?void 0:c.icon)},T.promise||T.type==="loading"&&!T.icon?T.icon||mi():null,T.type!=="loading"?T.icon||(oe==null?void 0:oe[It])||rx(It):null):null,ue.createElement("div",{"data-content":"",className:ie(ne==null?void 0:ne.content,(h=T==null?void 0:T.classNames)==null?void 0:h.content)},ue.createElement("div",{"data-title":"",className:ie(ne==null?void 0:ne.title,(f=T==null?void 0:T.classNames)==null?void 0:f.title)},typeof T.title=="function"?T.title():T.title),T.description?ue.createElement("div",{"data-description":"",className:ie(N,pt,ne==null?void 0:ne.description,(m=T==null?void 0:T.classNames)==null?void 0:m.description)},typeof T.description=="function"?T.description():T.description):null),ue.isValidElement(T.cancel)?T.cancel:T.cancel&&gc(T.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:T.cancelButtonStyle||L,onClick:_e=>{var De,He;gc(T.cancel)&&wn&&((He=(De=T.cancel).onClick)==null||He.call(De,_e),tn())},className:ie(ne==null?void 0:ne.cancelButton,(_=T==null?void 0:T.classNames)==null?void 0:_.cancelButton)},T.cancel.label):null,ue.isValidElement(T.action)?T.action:T.action&&gc(T.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:T.actionButtonStyle||F,onClick:_e=>{var De,He;gc(T.action)&&((He=(De=T.action).onClick)==null||He.call(De,_e),!_e.defaultPrevented&&tn())},className:ie(ne==null?void 0:ne.actionButton,(E=T==null?void 0:T.classNames)==null?void 0:E.actionButton)},T.action.label):null))};function Ky(){if(typeof window>"u"||typeof document>"u")return"ltr";let n=document.documentElement.getAttribute("dir");return n==="auto"||!n?window.getComputedStyle(document.documentElement).direction:n}var Cx=x.forwardRef(function(n,e){let{invert:t,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:a,closeButton:c,className:h,offset:f,theme:m="light",richColors:_,duration:E,style:I,visibleToasts:T=vx,toastOptions:O,dir:b=Ky(),gap:A=Ex,loadingIcon:j,icons:q,containerAriaLabel:Q="Notifications",pauseWhenPageIsHidden:te,cn:ce=Sx}=n,[le,D]=ue.useState([]),R=ue.useMemo(()=>Array.from(new Set([i].concat(le.filter(G=>G.position).map(G=>G.position)))),[le,i]),[k,L]=ue.useState([]),[F,M]=ue.useState(!1),[N,Be]=ue.useState(!1),[at,Ke]=ue.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),be=ue.useRef(null),se=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),ne=ue.useRef(null),oe=ue.useRef(!1),z=ue.useCallback(G=>{D(ie=>{var me;return(me=ie.find(Ee=>Ee.id===G.id))!=null&&me.delete||An.dismiss(G.id),ie.filter(({id:Ee})=>Ee!==G.id)})},[]);return ue.useEffect(()=>An.subscribe(G=>{if(G.dismiss){D(ie=>ie.map(me=>me.id===G.id?{...me,delete:!0}:me));return}setTimeout(()=>{K_.flushSync(()=>{D(ie=>{let me=ie.findIndex(Ee=>Ee.id===G.id);return me!==-1?[...ie.slice(0,me),{...ie[me],...G},...ie.slice(me+1)]:[G,...ie]})})})}),[]),ue.useEffect(()=>{if(m!=="system"){Ke(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Ke("dark"):Ke("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:ie})=>{Ke(ie?"dark":"light")})}catch{G.addListener(({matches:me})=>{try{Ke(me?"dark":"light")}catch(Ee){console.error(Ee)}})}},[m]),ue.useEffect(()=>{le.length<=1&&M(!1)},[le]),ue.useEffect(()=>{let G=ie=>{var me,Ee;o.every(Pe=>ie[Pe]||ie.code===Pe)&&(M(!0),(me=be.current)==null||me.focus()),ie.code==="Escape"&&(document.activeElement===be.current||(Ee=be.current)!=null&&Ee.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[o]),ue.useEffect(()=>{if(be.current)return()=>{ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null,oe.current=!1)}},[be.current]),ue.createElement("section",{"aria-label":`${Q} ${se}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false"},R.map((G,ie)=>{var me;let[Ee,Pe]=G.split("-");return le.length?ue.createElement("ol",{key:G,dir:b==="auto"?Ky():b,tabIndex:-1,ref:be,className:h,"data-sonner-toaster":!0,"data-theme":at,"data-y-position":Ee,"data-lifted":F&&le.length>1&&!a,"data-x-position":Pe,style:{"--front-toast-height":`${((me=k[0])==null?void 0:me.height)||0}px`,"--offset":typeof f=="number"?`${f}px`:f||_x,"--width":`${wx}px`,"--gap":`${A}px`,...I},onBlur:Se=>{oe.current&&!Se.currentTarget.contains(Se.relatedTarget)&&(oe.current=!1,ne.current&&(ne.current.focus({preventScroll:!0}),ne.current=null))},onFocus:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||oe.current||(oe.current=!0,ne.current=Se.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{N||M(!1)},onPointerDown:Se=>{Se.target instanceof HTMLElement&&Se.target.dataset.dismissible==="false"||Be(!0)},onPointerUp:()=>Be(!1)},le.filter(Se=>!Se.position&&ie===0||Se.position===G).map((Se,Me)=>{var We,rt;return ue.createElement(xx,{key:Se.id,icons:q,index:Me,toast:Se,defaultRichColors:_,duration:(We=O==null?void 0:O.duration)!=null?We:E,className:O==null?void 0:O.className,descriptionClassName:O==null?void 0:O.descriptionClassName,invert:t,visibleToasts:T,closeButton:(rt=O==null?void 0:O.closeButton)!=null?rt:c,interacting:N,position:G,style:O==null?void 0:O.style,unstyled:O==null?void 0:O.unstyled,classNames:O==null?void 0:O.classNames,cancelButtonStyle:O==null?void 0:O.cancelButtonStyle,actionButtonStyle:O==null?void 0:O.actionButtonStyle,removeToast:z,toasts:le.filter(Zt=>Zt.position==Se.position),heights:k.filter(Zt=>Zt.position==Se.position),setHeights:L,expandByDefault:a,gap:A,loadingIcon:j,expanded:F,pauseWhenPageIsHidden:te,cn:ce})})):null}))}),Qy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},Rx=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=n[t++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=n[t++],c=n[t++],h=n[t++],f=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},Y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const a=n[o],c=o+1<n.length,h=c?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,_=a>>2,E=(a&3)<<4|h>>4;let I=(h&15)<<2|m>>6,T=m&63;f||(T=64,c||(I=64)),i.push(t[_],t[E],t[I],t[T])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Q_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Rx(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const a=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const E=o<n.length?t[n.charAt(o)]:64;if(++o,a==null||h==null||m==null||E==null)throw new Ax;const I=a<<2|h>>4;if(i.push(I),m!==64){const T=h<<4&240|m>>2;if(i.push(T),E!==64){const O=m<<6&192|E;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Ax extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kx=function(n){const e=Q_(n);return Y_.encodeByteArray(e,!0)},$c=function(n){return kx(n).replace(/\./g,"")},X_=function(n){try{return Y_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=()=>Px().__FIREBASE_DEFAULTS__,Nx=()=>{if(typeof process>"u"||typeof Qy>"u")return;const n=Qy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Dx=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&X_(n[1]);return e&&JSON.parse(e)},dd=()=>{try{return bx()||Nx()||Dx()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},J_=n=>{var e,t;return(t=(e=dd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Ox=n=>{const e=J_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Z_=()=>{var n;return(n=dd())===null||n===void 0?void 0:n.config},ew=n=>{var e;return(e=dd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[$c(JSON.stringify(t)),$c(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function Fx(){var n;const e=(n=dd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ux(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function zx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bx(){const n=Jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $x(){return!Fx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wx(){try{return typeof indexedDB=="object"}catch{return!1}}function qx(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="FirebaseError";class ui extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Hx,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?Gx(a,i):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new ui(o,h,i)}}function Gx(n,e){return n.replace(Kx,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const Kx=/\{\$([^}]+)}/g;function Qx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Wc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const a=n[o],c=e[o];if(Yy(a)&&Yy(c)){if(!Wc(a,c))return!1}else if(a!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function Yy(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Yx(n,e){const t=new Xx(n,e);return t.subscribe.bind(t)}class Xx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");Jx(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=yf),o.error===void 0&&(o.error=yf),o.complete===void 0&&(o.complete=yf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function yf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(n){return n&&n._delegate?n._delegate:n}class Ks{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new Lx;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t1(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:e1(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function e1(n){return n===Bs?void 0:n}function t1(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Zx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const r1={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},i1=Le.INFO,s1={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},o1=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=s1[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ip{constructor(e){this.name=e,this._logLevel=i1,this._logHandler=o1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const a1=(n,e)=>e.some(t=>n instanceof t);let Xy,Jy;function l1(){return Xy||(Xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function u1(){return Jy||(Jy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tw=new WeakMap,Uf=new WeakMap,nw=new WeakMap,vf=new WeakMap,Sp=new WeakMap;function c1(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(Qi(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&tw.set(t,n)}).catch(()=>{}),Sp.set(e,n),e}function d1(n){if(Uf.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});Uf.set(n,e)}let zf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Uf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||nw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Qi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function h1(n){zf=n(zf)}function f1(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(_f(this),e,...t);return nw.set(i,e.sort?e.sort():[e]),Qi(i)}:u1().includes(n)?function(...e){return n.apply(_f(this),e),Qi(tw.get(this))}:function(...e){return Qi(n.apply(_f(this),e))}}function p1(n){return typeof n=="function"?f1(n):(n instanceof IDBTransaction&&d1(n),a1(n,l1())?new Proxy(n,zf):n)}function Qi(n){if(n instanceof IDBRequest)return c1(n);if(vf.has(n))return vf.get(n);const e=p1(n);return e!==n&&(vf.set(n,e),Sp.set(e,n)),e}const _f=n=>Sp.get(n);function m1(n,e,{blocked:t,upgrade:i,blocking:o,terminated:a}={}){const c=indexedDB.open(n,e),h=Qi(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Qi(c.result),f.oldVersion,f.newVersion,Qi(c.transaction),f)}),t&&c.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const g1=["get","getKey","getAll","getAllKeys","count"],y1=["put","add","delete","clear"],wf=new Map;function Zy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wf.get(e))return wf.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=y1.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||g1.includes(t)))return;const a=async function(c,...h){const f=this.transaction(c,o?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),o&&f.done]))[0]};return wf.set(e,a),a}h1(n=>({...n,get:(e,t,i)=>Zy(e,t)||n.get(e,t,i),has:(e,t)=>!!Zy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(_1(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function _1(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bf="@firebase/app",ev="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new Ip("@firebase/app"),w1="@firebase/app-compat",E1="@firebase/analytics-compat",T1="@firebase/analytics",I1="@firebase/app-check-compat",S1="@firebase/app-check",x1="@firebase/auth",C1="@firebase/auth-compat",R1="@firebase/database",A1="@firebase/data-connect",k1="@firebase/database-compat",P1="@firebase/functions",b1="@firebase/functions-compat",N1="@firebase/installations",D1="@firebase/installations-compat",O1="@firebase/messaging",L1="@firebase/messaging-compat",V1="@firebase/performance",M1="@firebase/performance-compat",F1="@firebase/remote-config",j1="@firebase/remote-config-compat",U1="@firebase/storage",z1="@firebase/storage-compat",B1="@firebase/firestore",$1="@firebase/vertexai",W1="@firebase/firestore-compat",q1="firebase",H1="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="[DEFAULT]",G1={[Bf]:"fire-core",[w1]:"fire-core-compat",[T1]:"fire-analytics",[E1]:"fire-analytics-compat",[S1]:"fire-app-check",[I1]:"fire-app-check-compat",[x1]:"fire-auth",[C1]:"fire-auth-compat",[R1]:"fire-rtdb",[A1]:"fire-data-connect",[k1]:"fire-rtdb-compat",[P1]:"fire-fn",[b1]:"fire-fn-compat",[N1]:"fire-iid",[D1]:"fire-iid-compat",[O1]:"fire-fcm",[L1]:"fire-fcm-compat",[V1]:"fire-perf",[M1]:"fire-perf-compat",[F1]:"fire-rc",[j1]:"fire-rc-compat",[U1]:"fire-gcs",[z1]:"fire-gcs-compat",[B1]:"fire-fst",[W1]:"fire-fst-compat",[$1]:"fire-vertex","fire-js":"fire-js",[q1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc=new Map,K1=new Map,Wf=new Map;function tv(n,e){try{n.container.addComponent(e)}catch(t){ii.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ra(n){const e=n.name;if(Wf.has(e))return ii.debug(`There were multiple attempts to register component ${e}.`),!1;Wf.set(e,n);for(const t of qc.values())tv(t,n);for(const t of K1.values())tv(t,n);return!0}function xp(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Zr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new Ul("app","Firebase",Q1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=H1;function rw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:$f,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Yi.create("bad-app-name",{appName:String(o)});if(t||(t=Z_()),!t)throw Yi.create("no-options");const a=qc.get(o);if(a){if(Wc(t,a.options)&&Wc(i,a.config))return a;throw Yi.create("duplicate-app",{appName:o})}const c=new n1(o);for(const f of Wf.values())c.addComponent(f);const h=new Y1(t,i,c);return qc.set(o,h),h}function iw(n=$f){const e=qc.get(n);if(!e&&n===$f&&Z_())return rw();if(!e)throw Yi.create("no-app",{appName:n});return e}function Xi(n,e,t){var i;let o=(i=G1[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ii.warn(h.join(" "));return}ra(new Ks(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="firebase-heartbeat-database",J1=1,xl="firebase-heartbeat-store";let Ef=null;function sw(){return Ef||(Ef=m1(X1,J1,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(xl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Yi.create("idb-open",{originalErrorMessage:n.message})})),Ef}async function Z1(n){try{const t=(await sw()).transaction(xl),i=await t.objectStore(xl).get(ow(n));return await t.done,i}catch(e){if(e instanceof ui)ii.warn(e.message);else{const t=Yi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ii.warn(t.message)}}}async function nv(n,e){try{const i=(await sw()).transaction(xl,"readwrite");await i.objectStore(xl).put(e,ow(n)),await i.done}catch(t){if(t instanceof ui)ii.warn(t.message);else{const i=Yi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ii.warn(i.message)}}}function ow(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=1024,tC=30*24*60*60*1e3;class nC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new iC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=rv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=tC}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ii.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=rv(),{heartbeatsToSend:i,unsentEntries:o}=rC(this._heartbeatsCache.heartbeats),a=$c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return ii.warn(t),""}}}function rv(){return new Date().toISOString().substring(0,10)}function rC(n,e=eC){const t=[];let i=n.slice();for(const o of n){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),iv(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),iv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class iC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wx()?qx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Z1(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return nv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return nv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function iv(n){return $c(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(n){ra(new Ks("platform-logger",e=>new v1(e),"PRIVATE")),ra(new Ks("heartbeat",e=>new nC(e),"PRIVATE")),Xi(Bf,ev,n),Xi(Bf,ev,"esm2017"),Xi("fire-js","")}sC("");var Sr=function(){return Sr=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Sr.apply(this,arguments)};function Bl(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function oC(n,e,t){if(t||arguments.length===2)for(var i=0,o=e.length,a;i<o;i++)(a||!(i in e))&&(a||(a=Array.prototype.slice.call(e,0,i)),a[i]=e[i]);return n.concat(a||Array.prototype.slice.call(e))}function aw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aC=aw,lw=new Ul("auth","Firebase",aw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Ip("@firebase/auth");function lC(n,...e){Hc.logLevel<=Le.WARN&&Hc.warn(`Auth (${pa}): ${n}`,...e)}function Pc(n,...e){Hc.logLevel<=Le.ERROR&&Hc.error(`Auth (${pa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(n,...e){throw Rp(n,...e)}function cr(n,...e){return Rp(n,...e)}function Cp(n,e,t){const i=Object.assign(Object.assign({},aC()),{[e]:t});return new Ul("auth","Firebase",i).create(e,{appName:n.name})}function qs(n){return Cp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uC(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Pr(n,"argument-error"),Cp(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rp(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return lw.create(n,...e)}function Re(n,e,...t){if(!n)throw Rp(e,...t)}function ei(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Pc(e),new Error(e)}function si(n,e){n||ei(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function cC(){return sv()==="http:"||sv()==="https:"}function sv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cC()||Ux()||"connection"in navigator)?navigator.onLine:!0}function hC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,t){this.shortDelay=e,this.longDelay=t,si(t>e,"Short delay should be less than long delay!"),this.isMobile=Mx()||zx()}get(){return dC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ap(n,e){si(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=new $l(3e4,6e4);function kp(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ma(n,e,t,i,o={}){return cw(n,o,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const h=zl(Object.assign({key:n.config.apiKey},c)).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m=Object.assign({method:e,headers:f},a);return jx()||(m.referrerPolicy="no-referrer"),uw.fetch()(dw(n,n.config.apiHost,t,h),m)})}async function cw(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},fC),e);try{const o=new gC(n),a=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw yc(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw yc(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw yc(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw yc(n,"user-disabled",c);const _=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Cp(n,_,m);Pr(n,_)}}catch(o){if(o instanceof ui)throw o;Pr(n,"network-request-failed",{message:String(o)})}}async function mC(n,e,t,i,o={}){const a=await ma(n,e,t,i,o);return"mfaPendingCredential"in a&&Pr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function dw(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Ap(n.config,o):`${n.config.apiScheme}://${o}`}class gC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(cr(this.auth,"network-request-failed")),pC.get())})}}function yc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=cr(n,e,i);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yC(n,e){return ma(n,"POST","/v1/accounts:delete",e)}async function hw(n,e){return ma(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function vC(n,e=!1){const t=Ut(n),i=await t.getIdToken(e),o=Pp(i);Re(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:yl(Tf(o.auth_time)),issuedAtTime:yl(Tf(o.iat)),expirationTime:yl(Tf(o.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Tf(n){return Number(n)*1e3}function Pp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const o=X_(t);return o?JSON.parse(o):(Pc("Failed to decode base64 JWT payload"),null)}catch(o){return Pc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function ov(n){const e=Pp(n);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof ui&&_C(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function _C({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gc(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Cl(n,hw(t,{idToken:i}));Re(o==null?void 0:o.users.length,t,"internal-error");const a=o.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?fw(a.providerUserInfo):[],h=TC(n.providerData,c),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),_=f?m:!1,E={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Hf(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,E)}async function EC(n){const e=Ut(n);await Gc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TC(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function fw(n){return n.map(e=>{var{providerId:t}=e,i=Bl(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(n,e){const t=await cw(n,{},async()=>{const i=zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=n.config,c=dw(n,o,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",uw.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function SC(n,e){return ma(n,"POST","/v2/accounts:revokeToken",kp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ov(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=ov(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:a}=await IC(e,t);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:a}=t,c=new Xo;return i&&(Re(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Re(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),a&&(Re(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(n,e){Re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ti{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,a=Bl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Hf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Cl(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return vC(this,e)}reload(){return EC(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Gc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zr(this.auth.app))return Promise.reject(qs(this.auth));const e=await this.getIdToken();return await Cl(this,yC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,a,c,h,f,m,_;const E=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,T=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,O=(c=t.photoURL)!==null&&c!==void 0?c:void 0,b=(h=t.tenantId)!==null&&h!==void 0?h:void 0,A=(f=t._redirectEventId)!==null&&f!==void 0?f:void 0,j=(m=t.createdAt)!==null&&m!==void 0?m:void 0,q=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Q,emailVerified:te,isAnonymous:ce,providerData:le,stsTokenManager:D}=t;Re(Q&&D,e,"internal-error");const R=Xo.fromJSON(this.name,D);Re(typeof Q=="string",e,"internal-error"),ji(E,e.name),ji(I,e.name),Re(typeof te=="boolean",e,"internal-error"),Re(typeof ce=="boolean",e,"internal-error"),ji(T,e.name),ji(O,e.name),ji(b,e.name),ji(A,e.name),ji(j,e.name),ji(q,e.name);const k=new ti({uid:Q,auth:e,email:I,emailVerified:te,displayName:E,isAnonymous:ce,photoURL:O,phoneNumber:T,tenantId:b,stsTokenManager:R,createdAt:j,lastLoginAt:q});return le&&Array.isArray(le)&&(k.providerData=le.map(L=>Object.assign({},L))),A&&(k._redirectEventId=A),k}static async _fromIdTokenResponse(e,t,i=!1){const o=new Xo;o.updateFromServerResponse(t);const a=new ti({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await Gc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Re(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?fw(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),h=new Xo;h.updateFromIdToken(i);const f=new ti({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Hf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av=new Map;function ni(n){si(n instanceof Function,"Expected a class definition");let e=av.get(n);return e?(si(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,av.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}pw.type="NONE";const lv=pw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(n,e,t){return`firebase:${n}:${e}:${t}`}class Jo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=bc(this.userKey,o.apiKey,a),this.fullPersistenceKey=bc("persistence",o.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Jo(ni(lv),e,i);const o=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||ni(lv);const c=bc(i,e.config.apiKey,e.name);let h=null;for(const m of t)try{const _=await m._get(c);if(_){const E=ti._fromJSON(e,_);m!==a&&(h=E),a=m;break}}catch{}const f=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Jo(a,e,i):(a=f[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==a)try{await m._remove(c)}catch{}})),new Jo(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ww(e))return"Blackberry";if(Ew(e))return"Webos";if(gw(e))return"Safari";if((e.includes("chrome/")||yw(e))&&!e.includes("edge/"))return"Chrome";if(_w(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function mw(n=Jt()){return/firefox\//i.test(n)}function gw(n=Jt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yw(n=Jt()){return/crios\//i.test(n)}function vw(n=Jt()){return/iemobile/i.test(n)}function _w(n=Jt()){return/android/i.test(n)}function ww(n=Jt()){return/blackberry/i.test(n)}function Ew(n=Jt()){return/webos/i.test(n)}function bp(n=Jt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function xC(n=Jt()){var e;return bp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CC(){return Bx()&&document.documentMode===10}function Tw(n=Jt()){return bp(n)||_w(n)||Ew(n)||ww(n)||/windows phone/i.test(n)||vw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(n,e=[]){let t;switch(n){case"Browser":t=uv(Jt());break;case"Worker":t=`${uv(Jt())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${pa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,h)=>{try{const f=e(a);c(f)}catch(f){h(f)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(n,e={}){return ma(n,"GET","/v2/passwordPolicy",kp(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=6;class PC{constructor(e){var t,i,o,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:kC,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,a,c,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(t=f.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),f.isValid&&(f.isValid=(i=f.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(o=f.containsLowercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(c=f.containsNumericCharacter)!==null&&c!==void 0?c:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cv(this),this.idTokenSubscription=new cv(this),this.beforeStateQueue=new RC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ni(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Jo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await hw(this,{idToken:e}),i=await ti._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Zr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=o==null?void 0:o._redirectEventId,f=await this.tryRedirectSignIn(e);(!c||c===h)&&(f!=null&&f.user)&&(o=f.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Gc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zr(this.app))return Promise.reject(qs(this));const t=e?Ut(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zr(this.app)?Promise.reject(qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zr(this.app)?Promise.reject(qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AC(this),t=new PC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ul("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await SC(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ni(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await Jo.create(this,[ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,i,o);return()=>{c=!0,f()}}else{const f=e.addObserver(t);return()=>{c=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Iw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&lC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function hd(n){return Ut(n)}class cv{constructor(e){this.auth=e,this.observer=null,this.addObserver=Yx(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NC(n){Np=n}function DC(n){return Np.loadJS(n)}function OC(){return Np.gapiScript}function LC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(n,e){const t=xp(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),a=t.getOptions();if(Wc(a,e??{}))return o;Pr(o,"already-initialized")}return t.initialize({options:e})}function MC(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ni);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function FC(n,e,t){const i=hd(n);Re(i._canInitEmulator,i,"emulator-config-failed"),Re(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=Sw(e),{host:c,port:h}=jC(e),f=h===null?"":`:${h}`;i.config.emulator={url:`${a}//${c}${f}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),UC()}function Sw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function jC(n){const e=Sw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:dv(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:dv(c)}}}function dv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function UC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ei("not implemented")}_getIdTokenResponse(e){return ei("not implemented")}_linkToIdToken(e,t){return ei("not implemented")}_getReauthenticationResolver(e){return ei("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(n,e){return mC(n,"POST","/v1/accounts:signInWithIdp",kp(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="http://localhost";class Qs extends xw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Pr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,a=Bl(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Qs(i,o);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Zo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Zo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Zo(e,t)}buildRequest(){const e={requestUri:zC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=zl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends Dp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Wl{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.FACEBOOK_SIGN_IN_METHOD="facebook.com";$i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qs._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Jr.credential(t,i)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Wl{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Wl{constructor(){super("twitter.com")}static credential(e,t){return Qs._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return qi.credential(t,i)}catch{return null}}}qi.TWITTER_SIGN_IN_METHOD="twitter.com";qi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const a=await ti._fromIdTokenResponse(e,i,o),c=hv(i);return new ia({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=hv(i);return new ia({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function hv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc extends ui{constructor(e,t,i,o){var a;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,Kc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new Kc(e,t,i,o)}}function Cw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Kc._fromErrorAndOperation(n,a,e,i):a})}async function BC(n,e,t=!1){const i=await Cl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ia._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(n,e,t=!1){const{auth:i}=n;if(Zr(i.app))return Promise.reject(qs(i));const o="reauthenticate";try{const a=await Cl(n,Cw(i,o,e,n),t);Re(a.idToken,i,"internal-error");const c=Pp(a.idToken);Re(c,i,"internal-error");const{sub:h}=c;return Re(n.uid===h,i,"user-mismatch"),ia._forOperation(n,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Pr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(n,e,t=!1){if(Zr(n.app))return Promise.reject(qs(n));const i="signIn",o=await Cw(n,i,e),a=await ia._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(a.user),a}function qC(n,e,t,i){return Ut(n).onIdTokenChanged(e,t,i)}function HC(n,e,t){return Ut(n).beforeAuthStateChanged(e,t)}function GC(n,e,t,i){return Ut(n).onAuthStateChanged(e,t,i)}const Qc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qc,"1"),this.storage.removeItem(Qc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=1e3,QC=10;class Aw extends Rw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Tw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);CC()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,QC):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},KC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Aw.type="LOCAL";const YC=Aw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw extends Rw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}kw.type="SESSION";const Pw=kw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new fd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:a}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const h=Array.from(c).map(async m=>m(t.origin,a)),f=await XC(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,c;return new Promise((h,f)=>{const m=Op("",20);o.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(E){const I=E;if(I.data.eventId===m)switch(I.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(I.data.response);break;default:clearTimeout(_),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(){return window}function ZC(n){xr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(){return typeof xr().WorkerGlobalScope<"u"&&typeof xr().importScripts=="function"}async function eR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tR(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function nR(){return bw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="firebaseLocalStorageDb",rR=1,Yc="firebaseLocalStorage",Dw="fbase_key";class ql{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pd(n,e){return n.transaction([Yc],e?"readwrite":"readonly").objectStore(Yc)}function iR(){const n=indexedDB.deleteDatabase(Nw);return new ql(n).toPromise()}function Gf(){const n=indexedDB.open(Nw,rR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Yc,{keyPath:Dw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Yc)?e(i):(i.close(),await iR(),e(await Gf()))})})}async function fv(n,e,t){const i=pd(n,!0).put({[Dw]:e,value:t});return new ql(i).toPromise()}async function sR(n,e){const t=pd(n,!1).get(e),i=await new ql(t).toPromise();return i===void 0?null:i.value}function pv(n,e){const t=pd(n,!0).delete(e);return new ql(t).toPromise()}const oR=800,aR=3;class Ow{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>aR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fd._getInstance(nR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await eR(),!this.activeServiceWorker)return;this.sender=new JC(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gf();return await fv(e,Qc,"1"),await pv(e,Qc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>fv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>sR(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=pd(o,!1).getAll();return new ql(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),oR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ow.type="LOCAL";const lR=Ow;new $l(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lw(n,e){return e?ni(e):(Re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends xw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function uR(n){return WC(n.auth,new Lp(n),n.bypassAuthState)}function cR(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),$C(t,new Lp(n),n.bypassAuthState)}async function dR(n){const{auth:e,user:t}=n;return Re(t,e,"internal-error"),BC(t,new Lp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,t,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uR;case"linkViaPopup":case"linkViaRedirect":return dR;case"reauthViaPopup":case"reauthViaRedirect":return cR;default:Pr(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=new $l(2e3,1e4);async function fR(n,e,t){if(Zr(n.app))return Promise.reject(cr(n,"operation-not-supported-in-this-environment"));const i=hd(n);uC(n,e,Dp);const o=Lw(i,t);return new $s(i,"signInViaPopup",e,o).executeNotNull()}class $s extends Vw{constructor(e,t,i,o,a){super(e,t,o,a),this.provider=i,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=Op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hR.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR="pendingRedirect",Nc=new Map;class mR extends Vw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Nc.get(this.auth._key());if(!e){try{const i=await gR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Nc.set(this.auth._key(),e)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gR(n,e){const t=_R(e),i=vR(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function yR(n,e){Nc.set(n._key(),e)}function vR(n){return ni(n._redirectPersistence)}function _R(n){return bc(pR,n.config.apiKey,n.name)}async function wR(n,e,t=!1){if(Zr(n.app))return Promise.reject(qs(n));const i=hd(n),o=Lw(i,e),c=await new mR(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=10*60*1e3;class TR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Mw(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(cr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ER&&this.cachedEventUids.clear(),this.cachedEventUids.has(mv(e))}saveEventToCache(e){this.cachedEventUids.add(mv(e)),this.lastProcessedEventTime=Date.now()}}function mv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Mw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SR(n,e={}){return ma(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CR=/^https?/;async function RR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await SR(n);for(const t of e)try{if(AR(t))return}catch{}Pr(n,"unauthorized-domain")}function AR(n){const e=qf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!CR.test(t))return!1;if(xR.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new $l(3e4,6e4);function gv(){const n=xr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function PR(n){return new Promise((e,t)=>{var i,o,a;function c(){gv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gv(),t(cr(n,"network-request-failed"))},timeout:kR.get()})}if(!((o=(i=xr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=xr().gapi)===null||a===void 0)&&a.load)c();else{const h=LC("iframefcb");return xr()[h]=()=>{gapi.load?c():t(cr(n,"network-request-failed"))},DC(`${OC()}?onload=${h}`).catch(f=>t(f))}}).catch(e=>{throw Dc=null,e})}let Dc=null;function bR(n){return Dc=Dc||PR(n),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=new $l(5e3,15e3),DR="__/auth/iframe",OR="emulator/auth/iframe",LR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MR(n){const e=n.config;Re(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ap(e,OR):`https://${n.config.authDomain}/${DR}`,i={apiKey:e.apiKey,appName:n.name,v:pa},o=VR.get(n.config.apiHost);o&&(i.eid=o);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${zl(i).slice(1)}`}async function FR(n){const e=await bR(n),t=xr().gapi;return Re(t,n,"internal-error"),e.open({where:document.body,url:MR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LR,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const c=cr(n,"network-request-failed"),h=xr().setTimeout(()=>{a(c)},NR.get());function f(){xr().clearTimeout(h),o(i)}i.ping(f).then(f,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UR=500,zR=600,BR="_blank",$R="http://localhost";class yv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WR(n,e,t,i=UR,o=zR){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f=Object.assign(Object.assign({},jR),{width:i.toString(),height:o.toString(),top:a,left:c}),m=Jt().toLowerCase();t&&(h=yw(m)?BR:t),mw(m)&&(e=e||$R,f.scrollbars="yes");const _=Object.entries(f).reduce((I,[T,O])=>`${I}${T}=${O},`,"");if(xC(m)&&h!=="_self")return qR(e||"",h),new yv(null);const E=window.open(e||"",h,_);Re(E,n,"popup-blocked");try{E.focus()}catch{}return new yv(E)}function qR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="__/auth/handler",GR="emulator/auth/handler",KR=encodeURIComponent("fac");async function vv(n,e,t,i,o,a){Re(n.config.authDomain,n,"auth-domain-config-required"),Re(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:pa,eventId:o};if(e instanceof Dp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",Qx(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))c[_]=E}if(e instanceof Wl){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await n._getAppCheckToken(),m=f?`#${KR}=${encodeURIComponent(f)}`:"";return`${QR(n)}?${zl(h).slice(1)}${m}`}function QR({config:n}){return n.emulator?Ap(n,GR):`https://${n.authDomain}/${HR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="webStorageSupport";class YR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pw,this._completeRedirectFn=wR,this._overrideRedirectResult=yR}async _openPopup(e,t,i,o){var a;si((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await vv(e,t,i,qf(),o);return WR(e,c,Op())}async _openRedirect(e,t,i,o){await this._originValidation(e);const a=await vv(e,t,i,qf(),o);return ZC(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:a}=this.eventManagers[t];return o?Promise.resolve(o):(si(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await FR(e),i=new TR(e);return t.register("authEvent",o=>(Re(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(If,{type:If},o=>{var a;const c=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[If];c!==void 0&&t(!!c),Pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=RR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Tw()||gw()||bp()}}const XR=YR;var _v="@firebase/auth",wv="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eA(n){ra(new Ks("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Iw(n)},m=new bC(i,o,a,f);return MC(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ra(new Ks("auth-internal",e=>{const t=hd(e.getProvider("auth").getImmediate());return(i=>new JR(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xi(_v,wv,ZR(n)),Xi(_v,wv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=5*60,nA=ew("authIdTokenMaxAge")||tA;let Ev=null;const rA=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>nA)return;const o=t==null?void 0:t.token;Ev!==o&&(Ev=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function iA(n=iw()){const e=xp(n,"auth");if(e.isInitialized())return e.getImmediate();const t=VC(n,{popupRedirectResolver:XR,persistence:[lR,YC,Pw]}),i=ew("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=rA(a.toString());HC(t,c,()=>c(t.currentUser)),qC(t,h=>c(h))}}const o=J_("auth");return o&&FC(t,`http://${o}`),t}function sA(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}NC({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const a=cr("internal-error");a.customData=o,t(a)},i.type="text/javascript",i.charset="UTF-8",sA().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eA("Browser");/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function oA(n,e,t,i){function o(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function h(_){try{m(i.next(_))}catch(E){c(E)}}function f(_){try{m(i.throw(_))}catch(E){c(E)}}function m(_){_.done?a(_.value):o(_.value).then(h,f)}m((i=i.apply(n,[])).next())})}function aA(n,e){var t={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},i,o,a,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(m){return function(_){return f([m,_])}}function f(m){if(i)throw new TypeError("Generator is already executing.");for(;t;)try{if(i=1,o&&(a=m[0]&2?o.return:m[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,m[1])).done)return a;switch(o=0,a&&(m=[m[0]&2,a.value]),m[0]){case 0:case 1:a=m;break;case 4:return t.label++,{value:m[1],done:!1};case 5:t.label++,o=m[1],m=[0];continue;case 7:m=t.ops.pop(),t.trys.pop();continue;default:if(a=t.trys,!(a=a.length>0&&a[a.length-1])&&(m[0]===6||m[0]===2)){t=0;continue}if(m[0]===3&&(!a||m[1]>a[0]&&m[1]<a[3])){t.label=m[1];break}if(m[0]===6&&t.label<a[1]){t.label=a[1],a=m;break}if(a&&t.label<a[2]){t.label=a[2],t.ops.push(m);break}a[2]&&t.ops.pop(),t.trys.pop();continue}m=e.call(n,t)}catch(_){m=[6,_],o=0}finally{i=a=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Yo=function(){return Yo=Object.assign||function(e){for(var t,i=1,o=arguments.length;i<o;i++){t=arguments[i];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Yo.apply(this,arguments)},Fw=function(n){return{loading:n==null,value:n}},lA=function(){return function(n,e){switch(e.type){case"error":return Yo(Yo({},n),{error:e.error,loading:!1,value:void 0});case"reset":return Fw(e.defaultValue);case"value":return Yo(Yo({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},uA=function(n){var e=n(),t=x.useReducer(lA(),Fw(e)),i=t[0],o=t[1],a=x.useCallback(function(){var f=n();o({type:"reset",defaultValue:f})},[n]),c=x.useCallback(function(f){o({type:"error",error:f})},[]),h=x.useCallback(function(f){o({type:"value",value:f})},[]);return x.useMemo(function(){return{error:i.error,loading:i.loading,reset:a,setError:c,setValue:h,value:i.value}},[i.error,i.loading,a,c,h,i.value])},Hl=function(n,e){var t=uA(function(){return n.currentUser}),i=t.error,o=t.loading,a=t.setError,c=t.setValue,h=t.value;return x.useEffect(function(){var f=GC(n,function(m){return oA(void 0,void 0,void 0,function(){var _;return aA(this,function(E){switch(E.label){case 0:return[3,4];case 1:return E.trys.push([1,3,,4]),[4,e.onUserChanged(m)];case 2:return E.sent(),[3,4];case 3:return _=E.sent(),a(_),[3,4];case 4:return c(m),[2]}})})},a);return function(){f()}},[n]),[h,o,i]},cA="firebase",dA="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi(cA,dA,"app");var Tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hs,jw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function k(){}k.prototype=R.prototype,D.D=R.prototype,D.prototype=new k,D.prototype.constructor=D,D.C=function(L,F,M){for(var N=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)N[Be-2]=arguments[Be];return R.prototype[F].apply(L,N)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,k){k||(k=0);var L=Array(16);if(typeof R=="string")for(var F=0;16>F;++F)L[F]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(F=0;16>F;++F)L[F]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=D.g[0],k=D.g[1],F=D.g[2];var M=D.g[3],N=R+(M^k&(F^M))+L[0]+3614090360&4294967295;R=k+(N<<7&4294967295|N>>>25),N=M+(F^R&(k^F))+L[1]+3905402710&4294967295,M=R+(N<<12&4294967295|N>>>20),N=F+(k^M&(R^k))+L[2]+606105819&4294967295,F=M+(N<<17&4294967295|N>>>15),N=k+(R^F&(M^R))+L[3]+3250441966&4294967295,k=F+(N<<22&4294967295|N>>>10),N=R+(M^k&(F^M))+L[4]+4118548399&4294967295,R=k+(N<<7&4294967295|N>>>25),N=M+(F^R&(k^F))+L[5]+1200080426&4294967295,M=R+(N<<12&4294967295|N>>>20),N=F+(k^M&(R^k))+L[6]+2821735955&4294967295,F=M+(N<<17&4294967295|N>>>15),N=k+(R^F&(M^R))+L[7]+4249261313&4294967295,k=F+(N<<22&4294967295|N>>>10),N=R+(M^k&(F^M))+L[8]+1770035416&4294967295,R=k+(N<<7&4294967295|N>>>25),N=M+(F^R&(k^F))+L[9]+2336552879&4294967295,M=R+(N<<12&4294967295|N>>>20),N=F+(k^M&(R^k))+L[10]+4294925233&4294967295,F=M+(N<<17&4294967295|N>>>15),N=k+(R^F&(M^R))+L[11]+2304563134&4294967295,k=F+(N<<22&4294967295|N>>>10),N=R+(M^k&(F^M))+L[12]+1804603682&4294967295,R=k+(N<<7&4294967295|N>>>25),N=M+(F^R&(k^F))+L[13]+4254626195&4294967295,M=R+(N<<12&4294967295|N>>>20),N=F+(k^M&(R^k))+L[14]+2792965006&4294967295,F=M+(N<<17&4294967295|N>>>15),N=k+(R^F&(M^R))+L[15]+1236535329&4294967295,k=F+(N<<22&4294967295|N>>>10),N=R+(F^M&(k^F))+L[1]+4129170786&4294967295,R=k+(N<<5&4294967295|N>>>27),N=M+(k^F&(R^k))+L[6]+3225465664&4294967295,M=R+(N<<9&4294967295|N>>>23),N=F+(R^k&(M^R))+L[11]+643717713&4294967295,F=M+(N<<14&4294967295|N>>>18),N=k+(M^R&(F^M))+L[0]+3921069994&4294967295,k=F+(N<<20&4294967295|N>>>12),N=R+(F^M&(k^F))+L[5]+3593408605&4294967295,R=k+(N<<5&4294967295|N>>>27),N=M+(k^F&(R^k))+L[10]+38016083&4294967295,M=R+(N<<9&4294967295|N>>>23),N=F+(R^k&(M^R))+L[15]+3634488961&4294967295,F=M+(N<<14&4294967295|N>>>18),N=k+(M^R&(F^M))+L[4]+3889429448&4294967295,k=F+(N<<20&4294967295|N>>>12),N=R+(F^M&(k^F))+L[9]+568446438&4294967295,R=k+(N<<5&4294967295|N>>>27),N=M+(k^F&(R^k))+L[14]+3275163606&4294967295,M=R+(N<<9&4294967295|N>>>23),N=F+(R^k&(M^R))+L[3]+4107603335&4294967295,F=M+(N<<14&4294967295|N>>>18),N=k+(M^R&(F^M))+L[8]+1163531501&4294967295,k=F+(N<<20&4294967295|N>>>12),N=R+(F^M&(k^F))+L[13]+2850285829&4294967295,R=k+(N<<5&4294967295|N>>>27),N=M+(k^F&(R^k))+L[2]+4243563512&4294967295,M=R+(N<<9&4294967295|N>>>23),N=F+(R^k&(M^R))+L[7]+1735328473&4294967295,F=M+(N<<14&4294967295|N>>>18),N=k+(M^R&(F^M))+L[12]+2368359562&4294967295,k=F+(N<<20&4294967295|N>>>12),N=R+(k^F^M)+L[5]+4294588738&4294967295,R=k+(N<<4&4294967295|N>>>28),N=M+(R^k^F)+L[8]+2272392833&4294967295,M=R+(N<<11&4294967295|N>>>21),N=F+(M^R^k)+L[11]+1839030562&4294967295,F=M+(N<<16&4294967295|N>>>16),N=k+(F^M^R)+L[14]+4259657740&4294967295,k=F+(N<<23&4294967295|N>>>9),N=R+(k^F^M)+L[1]+2763975236&4294967295,R=k+(N<<4&4294967295|N>>>28),N=M+(R^k^F)+L[4]+1272893353&4294967295,M=R+(N<<11&4294967295|N>>>21),N=F+(M^R^k)+L[7]+4139469664&4294967295,F=M+(N<<16&4294967295|N>>>16),N=k+(F^M^R)+L[10]+3200236656&4294967295,k=F+(N<<23&4294967295|N>>>9),N=R+(k^F^M)+L[13]+681279174&4294967295,R=k+(N<<4&4294967295|N>>>28),N=M+(R^k^F)+L[0]+3936430074&4294967295,M=R+(N<<11&4294967295|N>>>21),N=F+(M^R^k)+L[3]+3572445317&4294967295,F=M+(N<<16&4294967295|N>>>16),N=k+(F^M^R)+L[6]+76029189&4294967295,k=F+(N<<23&4294967295|N>>>9),N=R+(k^F^M)+L[9]+3654602809&4294967295,R=k+(N<<4&4294967295|N>>>28),N=M+(R^k^F)+L[12]+3873151461&4294967295,M=R+(N<<11&4294967295|N>>>21),N=F+(M^R^k)+L[15]+530742520&4294967295,F=M+(N<<16&4294967295|N>>>16),N=k+(F^M^R)+L[2]+3299628645&4294967295,k=F+(N<<23&4294967295|N>>>9),N=R+(F^(k|~M))+L[0]+4096336452&4294967295,R=k+(N<<6&4294967295|N>>>26),N=M+(k^(R|~F))+L[7]+1126891415&4294967295,M=R+(N<<10&4294967295|N>>>22),N=F+(R^(M|~k))+L[14]+2878612391&4294967295,F=M+(N<<15&4294967295|N>>>17),N=k+(M^(F|~R))+L[5]+4237533241&4294967295,k=F+(N<<21&4294967295|N>>>11),N=R+(F^(k|~M))+L[12]+1700485571&4294967295,R=k+(N<<6&4294967295|N>>>26),N=M+(k^(R|~F))+L[3]+2399980690&4294967295,M=R+(N<<10&4294967295|N>>>22),N=F+(R^(M|~k))+L[10]+4293915773&4294967295,F=M+(N<<15&4294967295|N>>>17),N=k+(M^(F|~R))+L[1]+2240044497&4294967295,k=F+(N<<21&4294967295|N>>>11),N=R+(F^(k|~M))+L[8]+1873313359&4294967295,R=k+(N<<6&4294967295|N>>>26),N=M+(k^(R|~F))+L[15]+4264355552&4294967295,M=R+(N<<10&4294967295|N>>>22),N=F+(R^(M|~k))+L[6]+2734768916&4294967295,F=M+(N<<15&4294967295|N>>>17),N=k+(M^(F|~R))+L[13]+1309151649&4294967295,k=F+(N<<21&4294967295|N>>>11),N=R+(F^(k|~M))+L[4]+4149444226&4294967295,R=k+(N<<6&4294967295|N>>>26),N=M+(k^(R|~F))+L[11]+3174756917&4294967295,M=R+(N<<10&4294967295|N>>>22),N=F+(R^(M|~k))+L[2]+718787259&4294967295,F=M+(N<<15&4294967295|N>>>17),N=k+(M^(F|~R))+L[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(F+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+M&4294967295}i.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var k=R-this.blockSize,L=this.B,F=this.h,M=0;M<R;){if(F==0)for(;M<=k;)o(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<R;)if(L[F++]=D.charCodeAt(M++),F==this.blockSize){o(this,L),F=0;break}}else for(;M<R;)if(L[F++]=D[M++],F==this.blockSize){o(this,L),F=0;break}}this.h=F,this.o+=R},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var k=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=k&255,k/=256;for(this.u(D),D=Array(16),R=k=0;4>R;++R)for(var L=0;32>L;L+=8)D[k++]=this.g[R]>>>L&255;return D};function a(D,R){var k=h;return Object.prototype.hasOwnProperty.call(k,D)?k[D]:k[D]=R(D)}function c(D,R){this.h=R;for(var k=[],L=!0,F=D.length-1;0<=F;F--){var M=D[F]|0;L&&M==R||(k[F]=M,L=!1)}this.g=k}var h={};function f(D){return-128<=D&&128>D?a(D,function(R){return new c([R|0],0>R?-1:0)}):new c([D|0],0>D?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return E;if(0>D)return A(m(-D));for(var R=[],k=1,L=0;D>=k;L++)R[L]=D/k|0,k*=4294967296;return new c(R,0)}function _(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return A(_(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(R,8)),L=E,F=0;F<D.length;F+=8){var M=Math.min(8,D.length-F),N=parseInt(D.substring(F,F+M),R);8>M?(M=m(Math.pow(R,M)),L=L.j(M).add(m(N))):(L=L.j(k),L=L.add(m(N)))}return L}var E=f(0),I=f(1),T=f(16777216);n=c.prototype,n.m=function(){if(b(this))return-A(this).m();for(var D=0,R=1,k=0;k<this.g.length;k++){var L=this.i(k);D+=(0<=L?L:4294967296+L)*R,R*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(O(this))return"0";if(b(this))return"-"+A(this).toString(D);for(var R=m(Math.pow(D,6)),k=this,L="";;){var F=te(k,R).g;k=j(k,F.j(R));var M=((0<k.g.length?k.g[0]:k.h)>>>0).toString(D);if(k=F,O(k))return M+L;for(;6>M.length;)M="0"+M;L=M+L}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function O(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function b(D){return D.h==-1}n.l=function(D){return D=j(this,D),b(D)?-1:O(D)?0:1};function A(D){for(var R=D.g.length,k=[],L=0;L<R;L++)k[L]=~D.g[L];return new c(k,~D.h).add(I)}n.abs=function(){return b(this)?A(this):this},n.add=function(D){for(var R=Math.max(this.g.length,D.g.length),k=[],L=0,F=0;F<=R;F++){var M=L+(this.i(F)&65535)+(D.i(F)&65535),N=(M>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);L=N>>>16,M&=65535,N&=65535,k[F]=N<<16|M}return new c(k,k[k.length-1]&-2147483648?-1:0)};function j(D,R){return D.add(A(R))}n.j=function(D){if(O(this)||O(D))return E;if(b(this))return b(D)?A(this).j(A(D)):A(A(this).j(D));if(b(D))return A(this.j(A(D)));if(0>this.l(T)&&0>D.l(T))return m(this.m()*D.m());for(var R=this.g.length+D.g.length,k=[],L=0;L<2*R;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var F=0;F<D.g.length;F++){var M=this.i(L)>>>16,N=this.i(L)&65535,Be=D.i(F)>>>16,at=D.i(F)&65535;k[2*L+2*F]+=N*at,q(k,2*L+2*F),k[2*L+2*F+1]+=M*at,q(k,2*L+2*F+1),k[2*L+2*F+1]+=N*Be,q(k,2*L+2*F+1),k[2*L+2*F+2]+=M*Be,q(k,2*L+2*F+2)}for(L=0;L<R;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=R;L<2*R;L++)k[L]=0;return new c(k,0)};function q(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function Q(D,R){this.g=D,this.h=R}function te(D,R){if(O(R))throw Error("division by zero");if(O(D))return new Q(E,E);if(b(D))return R=te(A(D),R),new Q(A(R.g),A(R.h));if(b(R))return R=te(D,A(R)),new Q(A(R.g),R.h);if(30<D.g.length){if(b(D)||b(R))throw Error("slowDivide_ only works with positive integers.");for(var k=I,L=R;0>=L.l(D);)k=ce(k),L=ce(L);var F=le(k,1),M=le(L,1);for(L=le(L,2),k=le(k,2);!O(L);){var N=M.add(L);0>=N.l(D)&&(F=F.add(k),M=N),L=le(L,1),k=le(k,1)}return R=j(D,F.j(R)),new Q(F,R)}for(F=E;0<=D.l(R);){for(k=Math.max(1,Math.floor(D.m()/R.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),M=m(k),N=M.j(R);b(N)||0<N.l(D);)k-=L,M=m(k),N=M.j(R);O(M)&&(M=I),F=F.add(M),D=j(D,N)}return new Q(F,D)}n.A=function(D){return te(this,D).h},n.and=function(D){for(var R=Math.max(this.g.length,D.g.length),k=[],L=0;L<R;L++)k[L]=this.i(L)&D.i(L);return new c(k,this.h&D.h)},n.or=function(D){for(var R=Math.max(this.g.length,D.g.length),k=[],L=0;L<R;L++)k[L]=this.i(L)|D.i(L);return new c(k,this.h|D.h)},n.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),k=[],L=0;L<R;L++)k[L]=this.i(L)^D.i(L);return new c(k,this.h^D.h)};function ce(D){for(var R=D.g.length+1,k=[],L=0;L<R;L++)k[L]=D.i(L)<<1|D.i(L-1)>>>31;return new c(k,D.h)}function le(D,R){var k=R>>5;R%=32;for(var L=D.g.length-k,F=[],M=0;M<L;M++)F[M]=0<R?D.i(M+k)>>>R|D.i(M+k+1)<<32-R:D.i(M+k);return new c(F,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,jw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,Hs=c}).apply(typeof Tv<"u"?Tv:typeof self<"u"?self:typeof window<"u"?window:{});var vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uw,fl,zw,Oc,Kf,Bw,$w,Ww;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,v){return u==Array.prototype||u==Object.prototype||(u[g]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof vc=="object"&&vc];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,g){if(g)e:{var v=i;u=u.split(".");for(var S=0;S<u.length-1;S++){var B=u[S];if(!(B in v))break e;v=v[B]}u=u[u.length-1],S=v[u],g=g(S),g!=S&&g!=null&&e(v,u,{configurable:!0,writable:!0,value:g})}}function a(u,g){u instanceof String&&(u+="");var v=0,S=!1,B={next:function(){if(!S&&v<u.length){var K=v++;return{value:g(K,u[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(u){return u||function(){return a(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function f(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function _(u,g,v){return u.call.apply(u.bind,arguments)}function E(u,g,v){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),u.apply(g,B)}}return function(){return u.apply(g,arguments)}}function I(u,g,v){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,I.apply(null,arguments)}function T(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function O(u,g){function v(){}v.prototype=g.prototype,u.aa=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(S,B,K){for(var ae=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)ae[Qe-2]=arguments[Qe];return g.prototype[B].apply(S,ae)}}function b(u){const g=u.length;if(0<g){const v=Array(g);for(let S=0;S<g;S++)v[S]=u[S];return v}return[]}function A(u,g){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(f(S)){const B=u.length||0,K=S.length||0;u.length=B+K;for(let ae=0;ae<K;ae++)u[B+ae]=S[ae]}else u.push(S)}}class j{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function q(u){return/^[\s\xa0]*$/.test(u)}function Q(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function te(u){return te[" "](u),u}te[" "]=function(){};var ce=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function le(u,g,v){for(const S in u)g.call(v,u[S],S,u)}function D(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function R(u){const g={};for(const v in u)g[v]=u[v];return g}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(u,g){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)u[v]=S[v];for(let K=0;K<k.length;K++)v=k[K],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function F(u){var g=1;u=u.split(":");const v=[];for(;0<g&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function M(u){h.setTimeout(()=>{throw u},0)}function N(){var u=ne;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Be{constructor(){this.h=this.g=null}add(g,v){const S=at.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var at=new j(()=>new Ke,u=>u.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let be,se=!1,ne=new Be,oe=()=>{const u=h.Promise.resolve(void 0);be=()=>{u.then(z)}};var z=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(v){M(v)}var g=at;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}se=!1};function G(){this.s=this.s,this.C=this.C}G.prototype.s=!1,G.prototype.ma=function(){this.s||(this.s=!0,this.N())},G.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};h.addEventListener("test",v,g),h.removeEventListener("test",v,g)}catch{}return u}();function Ee(u,g){if(ie.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ce){e:{try{te(g.nodeName);var B=!0;break e}catch{}B=!1}B||(g=null)}}else v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Pe[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ee.aa.h.call(this)}}O(Ee,ie);var Pe={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Me=0;function We(u,g,v,S,B){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=B,this.key=++Me,this.da=this.fa=!1}function rt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Zt(u){this.src=u,this.g={},this.h=0}Zt.prototype.add=function(u,g,v,S,B){var K=u.toString();u=this.g[K],u||(u=this.g[K]=[],this.h++);var ae=qn(u,g,S,B);return-1<ae?(g=u[ae],v||(g.fa=!1)):(g=new We(g,this.src,K,!!S,B),g.fa=v,u.push(g)),g};function ci(u,g){var v=g.type;if(v in u.g){var S=u.g[v],B=Array.prototype.indexOf.call(S,g,void 0),K;(K=0<=B)&&Array.prototype.splice.call(S,B,1),K&&(rt(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function qn(u,g,v,S){for(var B=0;B<u.length;++B){var K=u[B];if(!K.da&&K.listener==g&&K.capture==!!v&&K.ha==S)return B}return-1}var Dr="closure_lm_"+(1e6*Math.random()|0),fr={};function fs(u,g,v,S,B){if(Array.isArray(g)){for(var K=0;K<g.length;K++)fs(u,g[K],v,S,B);return null}return v=ms(v),u&&u[Se]?u.K(g,v,m(S)?!!S.capture:!1,B):di(u,g,v,!1,S,B)}function di(u,g,v,S,B,K){if(!g)throw Error("Invalid event type");var ae=m(B)?!!B.capture:!!B,Qe=It(u);if(Qe||(u[Dr]=Qe=new Zt(u)),v=Qe.add(g,v,S,ae,K),v.proxy)return v;if(S=Or(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)me||(B=ae),B===void 0&&(B=!1),u.addEventListener(g.toString(),S,B);else if(u.attachEvent)u.attachEvent(Hn(g.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Or(){function u(v){return g.call(u.src,u.listener,v)}const g=ps;return u}function Lr(u,g,v,S,B){if(Array.isArray(g))for(var K=0;K<g.length;K++)Lr(u,g[K],v,S,B);else S=m(S)?!!S.capture:!!S,v=ms(v),u&&u[Se]?(u=u.i,g=String(g).toString(),g in u.g&&(K=u.g[g],v=qn(K,v,S,B),-1<v&&(rt(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete u.g[g],u.h--)))):u&&(u=It(u))&&(g=u.g[g.toString()],u=-1,g&&(u=qn(g,v,S,B)),(v=-1<u?g[u]:null)&&Bt(v))}function Bt(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Se])ci(g.i,u);else{var v=u.type,S=u.proxy;g.removeEventListener?g.removeEventListener(v,S,u.capture):g.detachEvent?g.detachEvent(Hn(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=It(g))?(ci(v,u),v.h==0&&(v.src=null,g[Dr]=null)):rt(u)}}}function Hn(u){return u in fr?fr[u]:fr[u]="on"+u}function ps(u,g){if(u.da)u=!0;else{g=new Ee(g,this);var v=u.listener,S=u.ha||u.src;u.fa&&Bt(u),u=v.call(S,g)}return u}function It(u){return u=u[Dr],u instanceof Zt?u:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ms(u){return typeof u=="function"?u:(u[wn]||(u[wn]=function(g){return u.handleEvent(g)}),u[wn])}function pt(){G.call(this),this.i=new Zt(this),this.M=this,this.F=null}O(pt,G),pt.prototype[Se]=!0,pt.prototype.removeEventListener=function(u,g,v,S){Lr(this,u,g,v,S)};function it(u,g){var v,S=u.F;if(S)for(v=[];S;S=S.F)v.push(S);if(u=u.M,S=g.type||g,typeof g=="string")g=new ie(g,u);else if(g instanceof ie)g.target=g.target||u;else{var B=g;g=new ie(S,u),L(g,B)}if(B=!0,v)for(var K=v.length-1;0<=K;K--){var ae=g.g=v[K];B=Gn(ae,S,!0,g)&&B}if(ae=g.g=u,B=Gn(ae,S,!0,g)&&B,B=Gn(ae,S,!1,g)&&B,v)for(K=0;K<v.length;K++)ae=g.g=v[K],B=Gn(ae,S,!1,g)&&B}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var v=u.g[g],S=0;S<v.length;S++)rt(v[S]);delete u.g[g],u.h--}}this.F=null},pt.prototype.K=function(u,g,v,S){return this.i.add(String(u),g,!1,v,S)},pt.prototype.L=function(u,g,v,S){return this.i.add(String(u),g,!0,v,S)};function Gn(u,g,v,S){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var B=!0,K=0;K<g.length;++K){var ae=g[K];if(ae&&!ae.da&&ae.capture==v){var Qe=ae.listener,St=ae.ha||ae.src;ae.fa&&ci(u.i,ae),B=Qe.call(St,S)!==!1&&B}}return B&&!S.defaultPrevented}function Vr(u,g,v){if(typeof u=="function")v&&(u=I(u,v));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(u,g||0)}function en(u){u.g=Vr(()=>{u.g=null,u.i&&(u.i=!1,en(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class pr extends G{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:en(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bn(u){G.call(this),this.h=u,this.g={}}O(bn,G);var hi=[];function gs(u){le(u.g,function(g,v){this.g.hasOwnProperty(v)&&Bt(g)},u),u.g={}}bn.prototype.N=function(){bn.aa.N.call(this),gs(this)},bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fi=h.JSON.stringify,pi=h.JSON.parse,ys=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Kn(){}Kn.prototype.h=null;function tn(u){return u.h||(u.h=u.i())}function mi(){}var _e={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function De(){ie.call(this,"d")}O(De,ie);function He(){ie.call(this,"c")}O(He,ie);var ht={},$t=null;function Nn(){return $t=$t||new pt}ht.La="serverreachability";function vs(u){ie.call(this,ht.La,u)}O(vs,ie);function Mr(u){const g=Nn();it(g,new vs(g))}ht.STAT_EVENT="statevent";function Ca(u,g){ie.call(this,ht.STAT_EVENT,u),this.stat=g}O(Ca,ie);function mt(u){const g=Nn();it(g,new Ca(g,u))}ht.Ma="timingevent";function ro(u,g){ie.call(this,ht.Ma,u),this.size=g}O(ro,ie);function Qn(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},g)}function _s(){this.g=!0}_s.prototype.xa=function(){this.g=!1};function ws(u,g,v,S,B,K){u.info(function(){if(u.g)if(K)for(var ae="",Qe=K.split("&"),St=0;St<Qe.length;St++){var Ue=Qe[St].split("=");if(1<Ue.length){var kt=Ue[0];Ue=Ue[1];var vt=kt.split("_");ae=2<=vt.length&&vt[1]=="type"?ae+(kt+"="+Ue+"&"):ae+(kt+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+g+`
`+v+`
`+ae})}function io(u,g,v,S,B,K,ae){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+g+`
`+v+`
`+K+" "+ae})}function Yn(u,g,v,S){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+Md(u,v)+(S?" "+S:"")})}function Ra(u,g){u.info(function(){return"TIMEOUT: "+g})}_s.prototype.info=function(){};function Md(u,g){if(!u.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var S=v[u];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<B.length;ae++)B[ae]=""}}}}return fi(v)}catch{return g}}var so={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},eu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function Es(){}O(Es,Kn),Es.prototype.g=function(){return new XMLHttpRequest},Es.prototype.i=function(){return{}},Xn=new Es;function Jn(u,g,v,S){this.j=u,this.i=g,this.l=v,this.R=S||1,this.U=new bn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new tu}function tu(){this.i=null,this.g="",this.h=!1}var Aa={},oo={};function ao(u,g,v){u.L=1,u.v=wi(Tn(g)),u.m=v,u.P=!0,ka(u,null)}function ka(u,g){u.F=Date.now(),Xe(u),u.A=Tn(u.v);var v=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),Ti(v.i,"t",S),u.C=0,v=u.j.J,u.h=new tu,u.g=_u(u.j,v?g:null,!u.m),0<u.O&&(u.M=new pr(I(u.Y,u,u.g),u.O)),g=u.U,v=u.g,S=u.ca;var B="readystatechange";Array.isArray(B)||(B&&(hi[0]=B.toString()),B=hi);for(var K=0;K<B.length;K++){var ae=fs(v,B[K],S||g.handleEvent,!1,g.h||g);if(!ae)break;g.g[ae.key]=ae}g=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Mr(),ws(u.i,u.u,u.A,u.l,u.R,u.m)}Jn.prototype.ca=function(u){u=u.target;const g=this.M;g&&ln(u)==3?g.j():this.Y(u)},Jn.prototype.Y=function(u){try{if(u==this.g)e:{const vt=ln(this.g);var g=this.g.Ba();const Ln=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||La(this.g)))){this.J||vt!=4||g==7||(g==8||0>=Ln?Mr(3):Mr(2)),Ts(this);var v=this.g.Z();this.X=v;t:if(nu(this)){var S=La(this.g);u="";var B=S.length,K=ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dn(this),gi(this);var ae="";break t}this.h.i=new h.TextDecoder}for(g=0;g<B;g++)this.h.h=!0,u+=this.h.i.decode(S[g],{stream:!(K&&g==B-1)});S.length=0,this.h.g+=u,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,io(this.i,this.u,this.A,this.l,this.R,vt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,St=this.g;if((Qe=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(Qe)){var Ue=Qe;break t}}Ue=null}if(v=Ue)Yn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pa(this,v);else{this.o=!1,this.s=3,mt(12),Dn(this),gi(this);break e}}if(this.P){v=!0;let Sn;for(;!this.J&&this.C<ae.length;)if(Sn=Fd(this,ae),Sn==oo){vt==4&&(this.s=4,mt(14),v=!1),Yn(this.i,this.l,null,"[Incomplete Response]");break}else if(Sn==Aa){this.s=4,mt(15),Yn(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else Yn(this.i,this.l,Sn,null),Pa(this,Sn);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||ae.length!=0||this.h.h||(this.s=1,mt(16),v=!1),this.o=this.o&&v,!v)Yn(this.i,this.l,ae,"[Invalid Chunked Response]"),Dn(this),gi(this);else if(0<ae.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Ma(kt),kt.M=!0,mt(11))}}else Yn(this.i,this.l,ae,null),Pa(this,ae);vt==4&&Dn(this),this.o&&!this.J&&(vt==4?_o(this.j,this):(this.o=!1,Xe(this)))}else po(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Dn(this),gi(this)}}}catch{}finally{}};function nu(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Fd(u,g){var v=u.C,S=g.indexOf(`
`,v);return S==-1?oo:(v=Number(g.substring(v,S)),isNaN(v)?Aa:(S+=1,S+v>g.length?oo:(g=g.slice(S,S+v),u.C=S+v,g)))}Jn.prototype.cancel=function(){this.J=!0,Dn(this)};function Xe(u){u.S=Date.now()+u.I,ru(u,u.I)}function ru(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Qn(I(u.ba,u),g)}function Ts(u){u.B&&(h.clearTimeout(u.B),u.B=null)}Jn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ra(this.i,this.A),this.L!=2&&(Mr(),mt(17)),Dn(this),this.s=2,gi(this)):ru(this,this.S-u)};function gi(u){u.j.G==0||u.J||_o(u.j,u)}function Dn(u){Ts(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,gs(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function Pa(u,g){try{var v=u.j;if(v.G!=0&&(v.g==u||nn(v.h,u))){if(!u.K&&nn(v.h,u)&&v.G==3){try{var S=v.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)vo(v),rr(v);else break e;yo(v),mt(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=Qn(I(v.Za,v),6e3));if(1>=su(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Br(v,11)}else if((u.K||v.g==u)&&vo(v),!q(g))for(B=v.Da.g.parse(g),g=0;g<B.length;g++){let Ue=B[g];if(v.T=Ue[0],Ue=Ue[1],v.G==2)if(Ue[0]=="c"){v.K=Ue[1],v.ia=Ue[2];const kt=Ue[3];kt!=null&&(v.la=kt,v.j.info("VER="+v.la));const vt=Ue[4];vt!=null&&(v.Aa=vt,v.j.info("SVER="+v.Aa));const Ln=Ue[5];Ln!=null&&typeof Ln=="number"&&0<Ln&&(S=1.5*Ln,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Sn=u.g;if(Sn){const ks=Sn.g?Sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ks){var K=S.h;K.g||ks.indexOf("spdy")==-1&&ks.indexOf("quic")==-1&&ks.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ba(K,K.h),K.h=null))}if(S.D){const Eo=Sn.g?Sn.g.getResponseHeader("X-HTTP-Session-Id"):null;Eo&&(S.ya=Eo,Ye(S.I,S.D,Eo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ae=u;if(S.qa=vu(S,S.J?S.ia:null,S.W),ae.K){ou(S.h,ae);var Qe=ae,St=S.L;St&&(Qe.I=St),Qe.B&&(Ts(Qe),Xe(Qe)),S.g=ae}else As(S);0<v.i.length&&vr(v)}else Ue[0]!="stop"&&Ue[0]!="close"||Br(v,7);else v.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Br(v,7):Lt(v):Ue[0]!="noop"&&v.l&&v.l.ta(Ue),v.v=0)}}Mr(4)}catch{}}var iu=class{constructor(u,g){this.g=u,this.map=g}};function Is(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function En(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function su(u){return u.h?1:u.g?u.g.size:0}function nn(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function ba(u,g){u.g?u.g.add(g):u.h=g}function ou(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Is.prototype.cancel=function(){if(this.i=au(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function au(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.D);return g}return b(u.i)}function lo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(f(u)){for(var g=[],v=u.length,S=0;S<v;S++)g.push(u[S]);return g}g=[],v=0;for(S in u)g[v++]=u[S];return g}function uo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(f(u)||typeof u=="string"){var g=[];u=u.length;for(var v=0;v<u;v++)g.push(v);return g}g=[],v=0;for(const S in u)g[v++]=S;return g}}}function yi(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(f(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var v=uo(u),S=lo(u),B=S.length,K=0;K<B;K++)g.call(void 0,S[K],v&&v[K],u)}var Ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jd(u,g){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var S=u[v].indexOf("="),B=null;if(0<=S){var K=u[v].substring(0,S);B=u[v].substring(S+1)}else K=u[v];g(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Fr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Fr){this.h=u.h,xs(this,u.j),this.o=u.o,this.g=u.g,vi(this,u.s),this.l=u.l;var g=u.i,v=new mr;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),_i(this,v),this.m=u.m}else u&&(g=String(u).match(Ss))?(this.h=!1,xs(this,g[1]||"",!0),this.o=Fe(g[2]||""),this.g=Fe(g[3]||"",!0),vi(this,g[4]),this.l=Fe(g[5]||"",!0),_i(this,g[6]||"",!0),this.m=Fe(g[7]||"")):(this.h=!1,this.i=new mr(null,this.h))}Fr.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Ei(g,co,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Ei(g,co,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ei(v,v.charAt(0)=="/"?cu:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ei(v,Na)),u.join("")};function Tn(u){return new Fr(u)}function xs(u,g,v){u.j=v?Fe(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function vi(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function _i(u,g,v){g instanceof mr?(u.i=g,gr(u.i,u.h)):(v||(g=Ei(g,du)),u.i=new mr(g,u.h))}function Ye(u,g,v){u.i.set(g,v)}function wi(u){return Ye(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Fe(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ei(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,lu),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function lu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var co=/[#\/\?@]/g,uu=/[#\?:]/g,cu=/[#\?]/g,du=/[#\?@]/g,Na=/#/g;function mr(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Ot(u){u.g||(u.g=new Map,u.h=0,u.i&&jd(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}n=mr.prototype,n.add=function(u,g){Ot(this),this.i=null,u=On(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function Zn(u,g){Ot(u),g=On(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function er(u,g){return Ot(u),g=On(u,g),u.g.has(g)}n.forEach=function(u,g){Ot(this),this.g.forEach(function(v,S){v.forEach(function(B){u.call(g,B,S,this)},this)},this)},n.na=function(){Ot(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let S=0;S<g.length;S++){const B=u[S];for(let K=0;K<B.length;K++)v.push(g[S])}return v},n.V=function(u){Ot(this);let g=[];if(typeof u=="string")er(this,u)&&(g=g.concat(this.g.get(On(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)g=g.concat(u[v])}return g},n.set=function(u,g){return Ot(this),this.i=null,u=On(this,u),er(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},n.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Ti(u,g,v){Zn(u,g),0<v.length&&(u.i=null,u.g.set(On(u,g),b(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var S=g[v];const K=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var B=K;ae[S]!==""&&(B+="="+encodeURIComponent(String(ae[S]))),u.push(B)}}return this.i=u.join("&")};function On(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function gr(u,g){g&&!u.j&&(Ot(u),u.i=null,u.g.forEach(function(v,S){var B=S.toLowerCase();S!=B&&(Zn(this,S),Ti(this,B,v))},u)),u.j=g}function Ud(u,g){const v=new _s;if(h.Image){const S=new Image;S.onload=T(an,v,"TestLoadImage: loaded",!0,g,S),S.onerror=T(an,v,"TestLoadImage: error",!1,g,S),S.onabort=T(an,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=T(an,v,"TestLoadImage: timeout",!1,g,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else g(!1)}function hu(u,g){const v=new _s,S=new AbortController,B=setTimeout(()=>{S.abort(),an(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:S.signal}).then(K=>{clearTimeout(B),K.ok?an(v,"TestPingServer: ok",!0,g):an(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),an(v,"TestPingServer: error",!1,g)})}function an(u,g,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function zd(){this.g=new ys}function fu(u,g,v){const S=v||"";try{yi(u,function(B,K){let ae=B;m(B)&&(ae=fi(B)),g.push(S+K+"="+encodeURIComponent(ae))})}catch(B){throw g.push(S+"type="+encodeURIComponent("_badmap")),B}}function jr(u){this.l=u.Ub||null,this.j=u.eb||!1}O(jr,Kn),jr.prototype.g=function(){return new Cs(this.l,this.j)},jr.prototype.i=function(u){return function(){return u}}({});function Cs(u,g){pt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Cs,pt),n=Cs.prototype,n.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,nr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,nr(this)),this.g&&(this.readyState=3,nr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;pu(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function pu(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?tr(this):nr(this),this.readyState==3&&pu(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,tr(this))},n.Qa=function(u){this.g&&(this.response=u,tr(this))},n.ga=function(){this.g&&tr(this)};function tr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,nr(u)}n.setRequestHeader=function(u,g){this.u.append(u,g)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function nr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ur(u){let g="";return le(u,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function Ii(u,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Ur(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Ye(u,g,v))}function st(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(st,pt);var Bd=/^https?$/i,Da=["POST","PUT"];n=st.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?tn(this.o):tn(Xn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(K){Rs(this,K);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())v.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),B=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Da,g,void 0))||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of v)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fo(this),this.u=!0,this.g.send(u),this.u=!1}catch(K){Rs(this,K)}};function Rs(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,ho(u),In(u)}function ho(u){u.A||(u.A=!0,it(u,"complete"),it(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,it(this,"complete"),it(this,"abort"),In(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),In(this,!0)),st.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},n.bb=function(){Oa(this)};function Oa(u){if(u.h&&typeof c<"u"&&(!u.v[1]||ln(u)!=4||u.Z()!=2)){if(u.u&&ln(u)==4)Vr(u.Ea,0,u);else if(it(u,"readystatechange"),ln(u)==4){u.h=!1;try{const ae=u.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=ae===0){var B=String(u.D).match(Ss)[1]||null;!B&&h.self&&h.self.location&&(B=h.self.location.protocol.slice(0,-1)),S=!Bd.test(B?B.toLowerCase():"")}v=S}if(v)it(u,"complete"),it(u,"success");else{u.m=6;try{var K=2<ln(u)?u.g.statusText:""}catch{K=""}u.l=K+" ["+u.Z()+"]",ho(u)}}finally{In(u)}}}}function In(u,g){if(u.g){fo(u);const v=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||it(u,"ready");try{v.onreadystatechange=S}catch{}}}function fo(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function ln(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),pi(g)}};function La(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function po(u){const g={};u=(u.g&&2<=ln(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(q(u[S]))continue;var v=F(u[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=g[B]||[];g[B]=K,K.push(v)}D(g,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yr(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function Va(u){this.Aa=0,this.i=[],this.j=new _s,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yr("baseRetryDelayMs",5e3,u),this.cb=yr("retryDelaySeedMs",1e4,u),this.Wa=yr("forwardChannelMaxRetries",2,u),this.wa=yr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Is(u&&u.concurrentRequestLimit),this.Da=new zd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Va.prototype,n.la=8,n.G=1,n.connect=function(u,g,v,S){mt(0),this.W=u,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=vu(this,null,this.W),vr(this)};function Lt(u){if(mo(u),u.G==3){var g=u.U++,v=Tn(u.I);if(Ye(v,"SID",u.K),Ye(v,"RID",g),Ye(v,"TYPE","terminate"),zr(u,v),g=new Jn(u,u.j,g),g.L=2,g.v=wi(Tn(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&h.Image&&(new Image().src=g.v,v=!0),v||(g.g=_u(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Xe(g)}yu(u)}function rr(u){u.g&&(Ma(u),u.g.cancel(),u.g=null)}function mo(u){rr(u),u.u&&(h.clearTimeout(u.u),u.u=null),vo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function vr(u){if(!En(u.h)&&!u.s){u.s=!0;var g=u.Ga;be||oe(),se||(be(),se=!0),ne.add(g,u),u.B=0}}function $d(u,g){return su(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Qn(I(u.Ga,u,g),gu(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const B=new Jn(this,this.j,u);let K=this.o;if(this.S&&(K?(K=R(K),L(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Si(this,B,g),v=Tn(this.I),Ye(v,"RID",u),Ye(v,"CVER",22),this.D&&Ye(v,"X-HTTP-Session-Id",this.D),zr(this,v),K&&(this.O?g="headers="+encodeURIComponent(String(Ur(K)))+"&"+g:this.m&&Ii(v,this.m,K)),ba(this.h,B),this.Ua&&Ye(v,"TYPE","init"),this.P?(Ye(v,"$req",g),Ye(v,"SID","null"),B.T=!0,ao(B,v,null)):ao(B,v,g),this.G=2}}else this.G==3&&(u?go(this,u):this.i.length==0||En(this.h)||go(this))};function go(u,g){var v;g?v=g.l:v=u.U++;const S=Tn(u.I);Ye(S,"SID",u.K),Ye(S,"RID",v),Ye(S,"AID",u.T),zr(u,S),u.m&&u.o&&Ii(S,u.m,u.o),v=new Jn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Si(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ba(u.h,v),ao(v,S,g)}function zr(u,g){u.H&&le(u.H,function(v,S){Ye(g,S,v)}),u.l&&yi({},function(v,S){Ye(g,S,v)})}function Si(u,g,v){v=Math.min(u.i.length,v);var S=u.l?I(u.l.Na,u.l,u):null;e:{var B=u.i;let K=-1;for(;;){const ae=["count="+v];K==-1?0<v?(K=B[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let Qe=!0;for(let St=0;St<v;St++){let Ue=B[St].g;const kt=B[St].map;if(Ue-=K,0>Ue)K=Math.max(0,B[St].g-100),Qe=!1;else try{fu(kt,ae,"req"+Ue+"_")}catch{S&&S(kt)}}if(Qe){S=ae.join("&");break e}}}return u=u.i.splice(0,v),g.D=u,S}function As(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;be||oe(),se||(be(),se=!0),ne.add(g,u),u.v=0}}function yo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Qn(I(u.Fa,u),gu(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Qn(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),rr(this),mu(this))};function Ma(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function mu(u){u.g=new Jn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Tn(u.qa);Ye(g,"RID","rpc"),Ye(g,"SID",u.K),Ye(g,"AID",u.T),Ye(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ye(g,"TO",u.ja),Ye(g,"TYPE","xmlhttp"),zr(u,g),u.m&&u.o&&Ii(g,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=wi(Tn(g)),v.m=null,v.P=!0,ka(v,u)}n.Za=function(){this.C!=null&&(this.C=null,rr(this),yo(this),mt(19))};function vo(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function _o(u,g){var v=null;if(u.g==g){vo(u),Ma(u),u.g=null;var S=2}else if(nn(u.h,g))v=g.D,ou(u.h,g),S=1;else return;if(u.G!=0){if(g.o)if(S==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var B=u.B;S=Nn(),it(S,new ro(S,v)),vr(u)}else As(u);else if(B=g.s,B==3||B==0&&0<g.X||!(S==1&&$d(u,g)||S==2&&yo(u)))switch(v&&0<v.length&&(g=u.h,g.i=g.i.concat(v)),B){case 1:Br(u,5);break;case 4:Br(u,10);break;case 3:Br(u,6);break;default:Br(u,2)}}}function gu(u,g){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*g}function Br(u,g){if(u.j.info("Error code "+g),g==2){var v=I(u.fb,u),S=u.Xa;const B=!S;S=new Fr(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||xs(S,"https"),wi(S),B?Ud(S.toString(),v):hu(S.toString(),v)}else mt(2);u.G=0,u.l&&u.l.sa(g),yu(u),mo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function yu(u){if(u.G=0,u.ka=[],u.l){const g=au(u.h);(g.length!=0||u.i.length!=0)&&(A(u.ka,g),A(u.ka,u.i),u.h.i.length=0,b(u.i),u.i.length=0),u.l.ra()}}function vu(u,g,v){var S=v instanceof Fr?Tn(v):new Fr(v);if(S.g!="")g&&(S.g=g+"."+S.g),vi(S,S.s);else{var B=h.location;S=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;var K=new Fr(null);S&&xs(K,S),g&&(K.g=g),B&&vi(K,B),v&&(K.l=v),S=K}return v=u.D,g=u.ya,v&&g&&Ye(S,v,g),Ye(S,"VER",u.la),zr(u,S),S}function _u(u,g,v){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new st(new jr({eb:v})):new st(u.pa),g.Ha(u.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fa(){}n=Fa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wo(){}wo.prototype.g=function(u,g){return new rn(u,g)};function rn(u,g){pt.call(this),this.g=new Va(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!q(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!q(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new _r(this)}O(rn,pt),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Lt(this.g)},rn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=fi(u),u=v);g.i.push(new iu(g.Ya++,u)),g.G==3&&vr(g)},rn.prototype.N=function(){this.g.l=null,delete this.j,Lt(this.g),delete this.g,rn.aa.N.call(this)};function wu(u){De.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const v in g){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}O(wu,De);function Eu(){He.call(this),this.status=1}O(Eu,He);function _r(u){this.g=u}O(_r,Fa),_r.prototype.ua=function(){it(this.g,"a")},_r.prototype.ta=function(u){it(this.g,new wu(u))},_r.prototype.sa=function(u){it(this.g,new Eu)},_r.prototype.ra=function(){it(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,Ww=function(){return new wo},$w=function(){return Nn()},Bw=ht,Kf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},so.NO_ERROR=0,so.TIMEOUT=8,so.HTTP_ERROR=6,Oc=so,eu.COMPLETE="complete",zw=eu,mi.EventType=_e,_e.OPEN="a",_e.CLOSE="b",_e.ERROR="c",_e.MESSAGE="d",pt.prototype.listen=pt.prototype.K,fl=mi,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,Uw=st}).apply(typeof vc<"u"?vc:typeof self<"u"?self:typeof window<"u"?window:{});const Iv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qt.UNAUTHENTICATED=new Qt(null),Qt.GOOGLE_CREDENTIALS=new Qt("google-credentials-uid"),Qt.FIRST_PARTY=new Qt("first-party-uid"),Qt.MOCK_USER=new Qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new Ip("@firebase/firestore");function Ho(){return Ys.logLevel}function he(n,...e){if(Ys.logLevel<=Le.DEBUG){const t=e.map(Vp);Ys.debug(`Firestore (${ga}): ${n}`,...t)}}function oi(n,...e){if(Ys.logLevel<=Le.ERROR){const t=e.map(Vp);Ys.error(`Firestore (${ga}): ${n}`,...t)}}function sa(n,...e){if(Ys.logLevel<=Le.WARN){const t=e.map(Vp);Ys.warn(`Firestore (${ga}): ${n}`,...t)}}function Vp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(n="Unexpected state"){const e=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: `+n;throw oi(e),new Error(e)}function Ge(n,e){n||Ce()}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Qt.UNAUTHENTICATED))}shutdown(){}}class fA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class pA{constructor(e){this.t=e,this.currentUser=Qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,t(f)):Promise.resolve();let a=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Ji,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},h=f=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Ji)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ge(typeof i.accessToken=="string"),new qw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string"),new Qt(e)}}class mA{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Qt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class gA{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new mA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yA{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vA{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ge(this.o===void 0);const i=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string"),this.R=t.token,new yA(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=_A(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<t&&(i+=e.charAt(o[a]%e.length))}return i}}function je(n,e){return n<e?-1:n>e?1:0}function oa(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Rt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new fe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Rt(0,0))}static max(){return new Ae(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ce(),i===void 0?i=e.length-t:i>e.length-t&&Ce(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Rl.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rl?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const a=e.get(o),c=t.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nt extends Rl{construct(e,t,i){return new nt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new fe(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new nt(t)}static emptyPath(){return new nt([])}}const wA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class jt extends Rl{construct(e,t,i){return new jt(e,t,i)}static isValidIdentifier(e){return wA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new jt(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const a=()=>{if(i.length===0)throw new fe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new fe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new fe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(i+=h,o++):(a(),o++)}if(a(),c)throw new fe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new jt(t)}static emptyPath(){return new jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.path=e}static fromPath(e){return new we(nt.fromString(e))}static fromName(e){return new we(nt.fromString(e).popFirst(5))}static empty(){return new we(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new we(new nt(e.slice()))}}function EA(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(i===1e9?new Rt(t+1,0):new Rt(t,i));return new ns(o,we.empty(),e)}function TA(n){return new ns(n.readTime,n.key,-1)}class ns{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ns(Ae.min(),we.empty(),-1)}static max(){return new ns(Ae.max(),we.empty(),-1)}}function IA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=we.comparator(n.documentKey,e.documentKey),t!==0?t:je(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==SA)throw n;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Y.reject(t)}static resolve(e){return new Y((t,i)=>{t(e)})}static reject(e){return new Y((t,i)=>{i(e)})}static waitFor(e){return new Y((t,i)=>{let o=0,a=0,c=!1;e.forEach(h=>{++o,h.next(()=>{++a,c&&a===o&&t()},f=>i(f))}),c=!0,a===o&&t()})}static or(e){let t=Y.resolve(!1);for(const i of e)t=t.next(o=>o?Y.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,a)=>{i.push(t.call(this,o,a))}),this.waitFor(i)}static mapArray(e,t){return new Y((i,o)=>{const a=e.length,c=new Array(a);let h=0;for(let f=0;f<a;f++){const m=f;t(e[m]).next(_=>{c[m]=_,++h,h===a&&i(c)},_=>o(_))}})}static doWhile(e,t){return new Y((i,o)=>{const a=()=>{e()===!0?t().next(()=>{a()},o):i()};a()})}}function CA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function va(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}md.oe=-1;function gd(n){return n==null}function Xc(n){return n===0&&1/n==-1/0}function RA(n){return typeof n=="number"&&Number.isInteger(n)&&!Xc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Sv(e)),e=kA(n.get(t),e);return Sv(e)}function kA(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const a=n.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function Sv(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function cs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Gw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _c(this.root,e,this.comparator,!1)}getReverseIterator(){return new _c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _c(this.root,e,this.comparator,!0)}}class _c{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,i,o,a){this.key=e,this.value=t,this.color=i??Ft.RED,this.left=o??Ft.EMPTY,this.right=a??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,a){return new Ft(e??this.key,t??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,i),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,t,i,o,a){return this}insert(e,t,i){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Cv(this.data.getIterator())}getIteratorFrom(e){return new Cv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new At(this.comparator);return t.data=e,t}}class Cv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new kn([])}unionWith(e){let t=new At(jt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Kw("Invalid base64 string: "+a):a}}(e);return new zt(t)}static fromUint8Array(e){const t=function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a}(e);return new zt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const PA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(n){if(Ge(!!n),typeof n=="string"){let e=0;const t=PA.exec(n);if(Ge(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yt(n.seconds),nanos:yt(n.nanos)}}function yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function is(n){return typeof n=="string"?zt.fromBase64String(n):zt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function yd(n){const e=n.mapValue.fields.__previous_value__;return Mp(e)?yd(e):e}function Al(n){const e=rs(n.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,t,i,o,a,c,h,f,m){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m}}class kl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ss(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Mp(n)?4:DA(n)?9007199254740991:NA(n)?10:11:Ce()}function br(n,e){if(n===e)return!0;const t=ss(n);if(t!==ss(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Al(n).isEqual(Al(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=rs(o.timestampValue),h=rs(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,a){return is(o.bytesValue).isEqual(is(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,a){return yt(o.geoPointValue.latitude)===yt(a.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(a.geoPointValue.longitude)}(n,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return yt(o.integerValue)===yt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=yt(o.doubleValue),h=yt(a.doubleValue);return c===h?Xc(c)===Xc(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return oa(n.arrayValue.values||[],e.arrayValue.values||[],br);case 10:case 11:return function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(xv(c)!==xv(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!br(c[f],h[f])))return!1;return!0}(n,e);default:return Ce()}}function Pl(n,e){return(n.values||[]).find(t=>br(t,e))!==void 0}function aa(n,e){if(n===e)return 0;const t=ss(n),i=ss(e);if(t!==i)return je(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(n.booleanValue,e.booleanValue);case 2:return function(a,c){const h=yt(a.integerValue||a.doubleValue),f=yt(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(n,e);case 3:return Rv(n.timestampValue,e.timestampValue);case 4:return Rv(Al(n),Al(e));case 5:return je(n.stringValue,e.stringValue);case 6:return function(a,c){const h=is(a),f=is(c);return h.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const h=a.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const _=je(h[m],f[m]);if(_!==0)return _}return je(h.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const h=je(yt(a.latitude),yt(c.latitude));return h!==0?h:je(yt(a.longitude),yt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Av(n.arrayValue,e.arrayValue);case 10:return function(a,c){var h,f,m,_;const E=a.fields||{},I=c.fields||{},T=(h=E.value)===null||h===void 0?void 0:h.arrayValue,O=(f=I.value)===null||f===void 0?void 0:f.arrayValue,b=je(((m=T==null?void 0:T.values)===null||m===void 0?void 0:m.length)||0,((_=O==null?void 0:O.values)===null||_===void 0?void 0:_.length)||0);return b!==0?b:Av(T,O)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===wc.mapValue&&c===wc.mapValue)return 0;if(a===wc.mapValue)return 1;if(c===wc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),m=c.fields||{},_=Object.keys(m);f.sort(),_.sort();for(let E=0;E<f.length&&E<_.length;++E){const I=je(f[E],_[E]);if(I!==0)return I;const T=aa(h[f[E]],m[_[E]]);if(T!==0)return T}return je(f.length,_.length)}(n.mapValue,e.mapValue);default:throw Ce()}}function Rv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return je(n,e);const t=rs(n),i=rs(e),o=je(t.seconds,i.seconds);return o!==0?o:je(t.nanos,i.nanos)}function Av(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const a=aa(t[o],i[o]);if(a)return a}return je(t.length,i.length)}function la(n){return Qf(n)}function Qf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=rs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return is(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return we.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const a of t.values||[])o?o=!1:i+=",",i+=Qf(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of i)a?a=!1:o+=",",o+=`${c}:${Qf(t.fields[c])}`;return o+"}"}(n.mapValue):Ce()}function Lc(n){switch(ss(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yd(n);return e?16+Lc(e):16;case 5:return 2*n.stringValue.length;case 6:return is(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Lc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return cs(i.fields,(a,c)=>{o+=a.length+Lc(c)}),o}(n.mapValue);default:throw Ce()}}function kv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Yf(n){return!!n&&"integerValue"in n}function Fp(n){return!!n&&"arrayValue"in n}function Pv(n){return!!n&&"nullValue"in n}function bv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vc(n){return!!n&&"mapValue"in n}function NA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function vl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return cs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=vl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function DA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Vc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vl(t)}setAll(e){let t=jt.emptyPath(),i={},o=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const f=this.getFieldsMap(t);this.applyChanges(f,i,o),i={},o=[],t=h.popLast()}c?i[h.lastSegment()]=vl(c):o.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,o)}delete(e){const t=this.field(e.popLast());Vc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return br(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];Vc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){cs(t,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new vn(vl(this.value))}}function Qw(n){const e=[];return cs(n.fields,(t,i)=>{const o=new jt([t]);if(Vc(i)){const a=Qw(i.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,t,i,o,a,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Yt(e,0,Ae.min(),Ae.min(),Ae.min(),vn.empty(),0)}static newFoundDocument(e,t,i,o){return new Yt(e,1,t,Ae.min(),i,o,0)}static newNoDocument(e,t){return new Yt(e,2,t,Ae.min(),Ae.min(),vn.empty(),0)}static newUnknownDocument(e,t){return new Yt(e,3,t,Ae.min(),Ae.min(),vn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t){this.position=e,this.inclusive=t}}function Nv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const a=e[o],c=n.position[o];if(a.field.isKeyField()?i=we.comparator(we.fromName(c.referenceValue),t.key):i=aa(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Dv(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!br(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,t="asc"){this.field=e,this.dir=t}}function OA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{}class Et extends Yw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new VA(e,t,i):t==="array-contains"?new jA(e,i):t==="in"?new UA(e,i):t==="not-in"?new zA(e,i):t==="array-contains-any"?new BA(e,i):new Et(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new MA(e,i):new FA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(aa(t,this.value)):t!==null&&ss(this.value)===ss(t)&&this.matchesComparison(aa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends Yw{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new dr(e,t)}matches(e){return Xw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xw(n){return n.op==="and"}function Jw(n){return LA(n)&&Xw(n)}function LA(n){for(const e of n.filters)if(e instanceof dr)return!1;return!0}function Xf(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+la(n.value);if(Jw(n))return n.filters.map(e=>Xf(e)).join(",");{const e=n.filters.map(t=>Xf(t)).join(",");return`${n.op}(${e})`}}function Zw(n,e){return n instanceof Et?function(i,o){return o instanceof Et&&i.op===o.op&&i.field.isEqual(o.field)&&br(i.value,o.value)}(n,e):n instanceof dr?function(i,o){return o instanceof dr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,c,h)=>a&&Zw(c,o.filters[h]),!0):!1}(n,e):void Ce()}function eE(n){return n instanceof Et?function(t){return`${t.field.canonicalString()} ${t.op} ${la(t.value)}`}(n):n instanceof dr?function(t){return t.op.toString()+" {"+t.getFilters().map(eE).join(" ,")+"}"}(n):"Filter"}class VA extends Et{constructor(e,t,i){super(e,t,i),this.key=we.fromName(i.referenceValue)}matches(e){const t=we.comparator(e.key,this.key);return this.matchesComparison(t)}}class MA extends Et{constructor(e,t){super(e,"in",t),this.keys=tE("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class FA extends Et{constructor(e,t){super(e,"not-in",t),this.keys=tE("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function tE(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>we.fromName(i.referenceValue))}class jA extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fp(t)&&Pl(t.arrayValue,this.value)}}class UA extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pl(this.value.arrayValue,t)}}class zA extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Pl(this.value.arrayValue,t)}}class BA extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Pl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,t=null,i=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.ue=null}}function Ov(n,e=null,t=[],i=[],o=null,a=null,c=null){return new $A(n,e,t,i,o,a,c)}function jp(n){const e=ke(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Xf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),gd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>la(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>la(i)).join(",")),e.ue=t}return e.ue}function Up(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!OA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Zw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Dv(n.startAt,e.startAt)&&Dv(n.endAt,e.endAt)}function Jf(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(e,t=null,i=[],o=[],a=null,c="F",h=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function WA(n,e,t,i,o,a,c,h){return new _a(n,e,t,i,o,a,c,h)}function vd(n){return new _a(n)}function Lv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function nE(n){return n.collectionGroup!==null}function _l(n){const e=ke(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new At(jt.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new bl(a,i))}),t.has(jt.keyField().canonicalString())||e.ce.push(new bl(jt.keyField(),i))}return e.ce}function Cr(n){const e=ke(n);return e.le||(e.le=qA(e,_l(n))),e.le}function qA(n,e){if(n.limitType==="F")return Ov(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new bl(o.field,a)});const t=n.endAt?new Jc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Jc(n.startAt.position,n.startAt.inclusive):null;return Ov(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Zf(n,e){const t=n.filters.concat([e]);return new _a(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Zc(n,e,t){return new _a(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function _d(n,e){return Up(Cr(n),Cr(e))&&n.limitType===e.limitType}function rE(n){return`${jp(Cr(n))}|lt:${n.limitType}`}function Go(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>eE(o)).join(", ")}]`),gd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>la(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>la(o)).join(",")),`Target(${i})`}(Cr(n))}; limitType=${n.limitType})`}function wd(n,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):we.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,o){for(const a of _l(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,h,f){const m=Nv(c,h,f);return c.inclusive?m<=0:m<0}(i.startAt,_l(i),o)||i.endAt&&!function(c,h,f){const m=Nv(c,h,f);return c.inclusive?m>=0:m>0}(i.endAt,_l(i),o))}(n,e)}function HA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iE(n){return(e,t)=>{let i=!1;for(const o of _l(n)){const a=GA(o,e,t);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function GA(n,e,t){const i=n.field.isKeyField()?we.comparator(e.key,t.key):function(a,c,h){const f=c.data.field(a),m=h.data.field(a);return f!==null&&m!==null?aa(f,m):Ce()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,(t,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return Gw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA=new dt(we.comparator);function ai(){return KA}const sE=new dt(we.comparator);function pl(...n){let e=sE;for(const t of n)e=e.insert(t.key,t);return e}function oE(n){let e=sE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ws(){return wl()}function aE(){return wl()}function wl(){return new eo(n=>n.toString(),(n,e)=>n.isEqual(e))}const QA=new dt(we.comparator),YA=new At(we.comparator);function Ve(...n){let e=YA;for(const t of n)e=e.add(t);return e}const XA=new At(je);function JA(){return XA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(e)?"-0":e}}function lE(n){return{integerValue:""+n}}function uE(n,e){return RA(e)?lE(e):zp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this._=void 0}}function ZA(n,e,t){return n instanceof Nl?function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Mp(a)&&(a=yd(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof Dl?dE(n,e):n instanceof Ol?hE(n,e):function(o,a){const c=cE(o,a),h=Vv(c)+Vv(o.Pe);return Yf(c)&&Yf(o.Pe)?lE(h):zp(o.serializer,h)}(n,e)}function ek(n,e,t){return n instanceof Dl?dE(n,e):n instanceof Ol?hE(n,e):t}function cE(n,e){return n instanceof Ll?function(i){return Yf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Nl extends Ed{}class Dl extends Ed{constructor(e){super(),this.elements=e}}function dE(n,e){const t=fE(e);for(const i of n.elements)t.some(o=>br(o,i))||t.push(i);return{arrayValue:{values:t}}}class Ol extends Ed{constructor(e){super(),this.elements=e}}function hE(n,e){let t=fE(e);for(const i of n.elements)t=t.filter(o=>!br(o,i));return{arrayValue:{values:t}}}class Ll extends Ed{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Vv(n){return yt(n.integerValue||n.doubleValue)}function fE(n){return Fp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,t){this.field=e,this.transform=t}}function tk(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Dl&&o instanceof Dl||i instanceof Ol&&o instanceof Ol?oa(i.elements,o.elements,br):i instanceof Ll&&o instanceof Ll?br(i.Pe,o.Pe):i instanceof Nl&&o instanceof Nl}(n.transform,e.transform)}class nk{constructor(e,t){this.version=e,this.transformResults=t}}class Bn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Td{}function mE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Bp(n.key,Bn.none()):new Gl(n.key,n.data,Bn.none());{const t=n.data,i=vn.empty();let o=new At(jt.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),o=o.add(a)}return new ds(n.key,i,new kn(o.toArray()),Bn.none())}}function rk(n,e,t){n instanceof Gl?function(o,a,c){const h=o.value.clone(),f=Fv(o.fieldTransforms,a,c.transformResults);h.setAll(f),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof ds?function(o,a,c){if(!Mc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=Fv(o.fieldTransforms,a,c.transformResults),f=a.data;f.setAll(gE(o)),f.setAll(h),a.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,e,t):function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function El(n,e,t,i){return n instanceof Gl?function(a,c,h,f){if(!Mc(a.precondition,c))return h;const m=a.value.clone(),_=jv(a.fieldTransforms,f,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof ds?function(a,c,h,f){if(!Mc(a.precondition,c))return h;const m=jv(a.fieldTransforms,f,c),_=c.data;return _.setAll(gE(a)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(E=>E.field))}(n,e,t,i):function(a,c,h){return Mc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function ik(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),a=cE(i.transform,o||null);a!=null&&(t===null&&(t=vn.empty()),t.set(i.field,a))}return t||null}function Mv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&oa(i,o,(a,c)=>tk(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Gl extends Td{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ds extends Td{constructor(e,t,i,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function gE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Fv(n,e,t){const i=new Map;Ge(n.length===t.length);for(let o=0;o<t.length;o++){const a=n[o],c=a.transform,h=e.data.field(a.field);i.set(a.field,ek(c,h,t[o]))}return i}function jv(n,e,t){const i=new Map;for(const o of n){const a=o.transform,c=t.data.field(o.field);i.set(o.field,ZA(a,c,e))}return i}class Bp extends Td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sk extends Td{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&rk(a,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=El(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=El(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=aE();return this.mutations.forEach(o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(o.key)?null:h;const f=mE(c,h);f!==null&&i.set(o.key,f),c.isValidDocument()||c.convertToNoDocument(Ae.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(t,i)=>Mv(t,i))&&oa(this.baseMutations,e.baseMutations,(t,i)=>Mv(t,i))}}class $p{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ge(e.mutations.length===i.length);let o=function(){return QA}();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,i[c].version);return new $p(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ak=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,ze;function uk(n){switch(n){default:return Ce();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function yE(n){if(n===void 0)return oi("GRPC error has no .code"),X.UNKNOWN;switch(n){case wt.OK:return X.OK;case wt.CANCELLED:return X.CANCELLED;case wt.UNKNOWN:return X.UNKNOWN;case wt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case wt.INTERNAL:return X.INTERNAL;case wt.UNAVAILABLE:return X.UNAVAILABLE;case wt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case wt.NOT_FOUND:return X.NOT_FOUND;case wt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case wt.ABORTED:return X.ABORTED;case wt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case wt.DATA_LOSS:return X.DATA_LOSS;default:return Ce()}}(ze=wt||(wt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dk=new Hs([4294967295,4294967295],0);function Uv(n){const e=ck().encode(n),t=new jw;return t.update(e),new Uint8Array(t.digest())}function zv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Hs([t,i],0),new Hs([o,a],0)]}class Wp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ml(`Invalid padding: ${t}`);if(i<0)throw new ml(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ml(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ml(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Hs.fromNumber(this.Te)}Ee(e,t,i){let o=e.add(t.multiply(Hs.fromNumber(i)));return o.compare(dk)===1&&(o=new Hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=Uv(e),[i,o]=zv(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);if(!this.de(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Wp(a,o,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.Te===0)return;const t=Uv(e),[i,o]=zv(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(i,o,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,t,i,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Id(Ae.min(),o,new dt(je),ai(),Ve())}}class Kl{constructor(e,t,i,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Kl(i,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class vE{constructor(e,t){this.targetId=e,this.me=t}}class _E{constructor(e,t,i=zt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class Bv{constructor(){this.fe=0,this.ge=$v(),this.pe=zt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ve(),t=Ve(),i=Ve();return this.ge.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ce()}}),new Kl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=$v()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ge(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hk{constructor(e){this.Le=e,this.Be=new Map,this.ke=ai(),this.qe=Ec(),this.Qe=Ec(),this.Ke=new dt(je)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.je(o)&&t(o)})}Je(e){const t=e.targetId,i=e.me.count,o=this.Ye(t);if(o){const a=o.target;if(Jf(a))if(i===0){const c=new we(a.path);this.We(t,c,Yt.newNoDocument(c,Ae.min()))}else Ge(i===1);else{const c=this.Ze(t);if(c!==i){const h=this.Xe(e),f=h?this.et(h,e,c):1;if(f!==0){this.He(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=t;let c,h;try{c=is(i).toUint8Array()}catch(f){if(f instanceof Kw)return sa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Wp(c,o,a)}catch(f){return sa(f instanceof ml?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Te===0?null:h}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(a=>{const c=this.Le.nt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.We(t,a,null),o++)}),o}it(e){const t=new Map;this.Be.forEach((a,c)=>{const h=this.Ye(c);if(h){if(a.current&&Jf(h.target)){const f=new we(h.target.path);this.st(f).has(c)||this.ot(c,f)||this.We(c,f,Yt.newNoDocument(f,e))}a.be&&(t.set(c,a.ve()),a.Ce())}});let i=Ve();this.Qe.forEach((a,c)=>{let h=!0;c.forEachWhile(f=>{const m=this.Ye(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(a))}),this.ke.forEach((a,c)=>c.setReadTime(e));const o=new Id(e,t,this.Ke,this.ke,i);return this.ke=ai(),this.qe=Ec(),this.Qe=Ec(),this.Ke=new dt(je),o}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const o=this.ze(e);this.ot(e,t)?o.Fe(t,1):o.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Bv,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new At(je),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new At(je),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Bv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Ec(){return new dt(we.comparator)}function $v(){return new dt(we.comparator)}const fk={asc:"ASCENDING",desc:"DESCENDING"},pk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mk={and:"AND",or:"OR"};class gk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ep(n,e){return n.useProto3Json||gd(e)?e:{value:e}}function ed(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yk(n,e){return ed(n,e.toTimestamp())}function Rr(n){return Ge(!!n),Ae.fromTimestamp(function(t){const i=rs(t);return new Rt(i.seconds,i.nanos)}(n))}function qp(n,e){return tp(n,e).canonicalString()}function tp(n,e){const t=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function EE(n){const e=nt.fromString(n);return Ge(CE(e)),e}function np(n,e){return qp(n.databaseId,e.path)}function Sf(n,e){const t=EE(e);if(t.get(1)!==n.databaseId.projectId)throw new fe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new fe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new we(IE(t))}function TE(n,e){return qp(n.databaseId,e)}function vk(n){const e=EE(n);return e.length===4?nt.emptyPath():IE(e)}function rp(n){return new nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function IE(n){return Ge(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Wv(n,e,t){return{name:np(n,e),fields:t.value.mapValue.fields}}function _k(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(m,_){return m.useProto3Json?(Ge(_===void 0||typeof _=="string"),zt.fromBase64String(_||"")):(Ge(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),zt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(m){const _=m.code===void 0?X.UNKNOWN:yE(m.code);return new fe(_,m.message||"")}(c);t=new _E(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Sf(n,i.document.name),a=Rr(i.document.updateTime),c=i.document.createTime?Rr(i.document.createTime):Ae.min(),h=new vn({mapValue:{fields:i.document.fields}}),f=Yt.newFoundDocument(o,a,c,h),m=i.targetIds||[],_=i.removedTargetIds||[];t=new Fc(m,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Sf(n,i.document),a=i.readTime?Rr(i.readTime):Ae.min(),c=Yt.newNoDocument(o,a),h=i.removedTargetIds||[];t=new Fc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Sf(n,i.document),a=i.removedTargetIds||[];t=new Fc([],a,o,null)}else{if(!("filter"in e))return Ce();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,c=new lk(o,a),h=i.targetId;t=new vE(h,c)}}return t}function wk(n,e){let t;if(e instanceof Gl)t={update:Wv(n,e.key,e.value)};else if(e instanceof Bp)t={delete:np(n,e.key)};else if(e instanceof ds)t={update:Wv(n,e.key,e.data),updateMask:kk(e.fieldMask)};else{if(!(e instanceof sk))return Ce();t={verify:np(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const h=c.transform;if(h instanceof Nl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Dl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ol)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Ll)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw Ce()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:yk(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ce()}(n,e.precondition)),t}function Ek(n,e){return n&&n.length>0?(Ge(e!==void 0),n.map(t=>function(o,a){let c=o.updateTime?Rr(o.updateTime):Rr(a);return c.isEqual(Ae.min())&&(c=Rr(a)),new nk(c,o.transformResults||[])}(t,e))):[]}function Tk(n,e){return{documents:[TE(n,e.path)]}}function Ik(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=TE(n,o);const a=function(m){if(m.length!==0)return xE(dr.create(m,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(m){if(m.length!==0)return m.map(_=>function(I){return{field:Ko(I.field),direction:Ck(I.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=ep(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ct:t,parent:o}}function Sk(n){let e=vk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ge(i===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(E){const I=SE(E);return I instanceof dr&&Jw(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=function(E){return E.map(I=>function(O){return new bl(Qo(O.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(I))}(t.orderBy));let h=null;t.limit&&(h=function(E){let I;return I=typeof E=="object"?E.value:E,gd(I)?null:I}(t.limit));let f=null;t.startAt&&(f=function(E){const I=!!E.before,T=E.values||[];return new Jc(T,I)}(t.startAt));let m=null;return t.endAt&&(m=function(E){const I=!E.before,T=E.values||[];return new Jc(T,I)}(t.endAt)),WA(e,o,c,a,h,"F",f,m)}function xk(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function SE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Qo(t.unaryFilter.field);return Et.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Qo(t.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Qo(t.unaryFilter.field);return Et.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Qo(t.unaryFilter.field);return Et.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(n):n.fieldFilter!==void 0?function(t){return Et.create(Qo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return dr.create(t.compositeFilter.filters.map(i=>SE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce()}}(t.compositeFilter.op))}(n):Ce()}function Ck(n){return fk[n]}function Rk(n){return pk[n]}function Ak(n){return mk[n]}function Ko(n){return{fieldPath:n.canonicalString()}}function Qo(n){return jt.fromServerFormat(n.fieldPath)}function xE(n){return n instanceof Et?function(t){if(t.op==="=="){if(bv(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NAN"}};if(Pv(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(bv(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NAN"}};if(Pv(t.value))return{unaryFilter:{field:Ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(t.field),op:Rk(t.op),value:t.value}}}(n):n instanceof dr?function(t){const i=t.getFilters().map(o=>xE(o));return i.length===1?i[0]:{compositeFilter:{op:Ak(t.op),filters:i}}}(n):Ce()}function kk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function CE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t,i,o,a=Ae.min(),c=Ae.min(),h=zt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e){this.ht=e}}function bk(n){const e=Sk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Zc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.ln=new Dk}addToCollectionParentIndex(e,t){return this.ln.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(ns.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(ns.min())}updateCollectionGroup(e,t,i){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class Dk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new At(nt.comparator),a=!o.has(i);return this.index[t]=o.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new At(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(41943040,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ua(0)}static Qn(){return new ua(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv([n,e],[t,i]){const o=je(n,t);return o===0?je(e,i):o}class Ok{constructor(e){this.Gn=e,this.buffer=new At(Hv),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Hv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Lk{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){he("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){va(t)?he("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await ya(t)}await this.Yn(3e5)})}}class Vk{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(md.oe);const i=new Ok(t);return this.Zn.forEachTarget(e,o=>i.Hn(o.sequenceNumber)).next(()=>this.Zn.er(e,o=>i.Hn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(qv)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qv):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,o,a,c,h,f,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,c=Date.now(),this.nthSequenceNumber(e,o))).next(E=>(i=E,h=Date.now(),this.removeTargets(e,i,t))).next(E=>(a=E,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(E=>(m=Date.now(),Ho()<=Le.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${E} documents in `+(m-f)+`ms
Total Duration: ${m-_}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:E})))}}function Mk(n,e){return new Vk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(){this.changes=new eo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Y.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&El(i.mutation,o,kn.empty(),Rt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ve()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ve()){const o=Ws();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(a=>{let c=pl();return a.forEach((h,f)=>{c=c.insert(h,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Ws();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ve()))}populateOverlays(e,t,i){const o=[];return i.forEach(a=>{t.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,o){let a=ai();const c=wl(),h=function(){return wl()}();return t.forEach((f,m)=>{const _=i.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof ds)?a=a.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),El(_.mutation,m,_.mutation.getFieldMask(),Rt.now())):c.set(m.key,kn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((m,_)=>c.set(m,_)),t.forEach((m,_)=>{var E;return h.set(m,new jk(_,(E=c.get(m))!==null&&E!==void 0?E:null))}),h))}recalculateAndSaveOverlays(e,t){const i=wl();let o=new dt((c,h)=>c-h),a=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let _=i.get(f)||kn.empty();_=h.applyToLocalView(m,_),i.set(f,_);const E=(o.get(h.batchId)||Ve()).add(f);o=o.insert(h.batchId,E)})}).next(()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,_=f.value,E=aE();_.forEach(I=>{if(!a.has(I)){const T=mE(t.get(I),i.get(I));T!==null&&E.set(I,T),a=a.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,E))}return Y.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return we.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-a.size):Y.resolve(Ws());let h=-1,f=a;return c.next(m=>Y.forEach(m,(_,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),a.get(_)?Y.resolve():this.remoteDocumentCache.getEntry(e,_).next(I=>{f=f.insert(_,I)}))).next(()=>this.populateOverlays(e,m,a)).next(()=>this.computeViews(e,f,m,Ve())).next(_=>({batchId:h,changes:oE(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new we(t)).next(i=>{let o=pl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const a=t.collectionGroup;let c=pl();return this.indexManager.getCollectionParents(e,a).next(h=>Y.forEach(h,f=>{const m=function(E,I){return new _a(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,m,i,o).next(_=>{_.forEach((E,I)=>{c=c.insert(E,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,o))).next(c=>{a.forEach((f,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,Yt.newInvalidDocument(_)))});let h=pl();return c.forEach((f,m)=>{const _=a.get(f);_!==void 0&&El(_.mutation,m,kn.empty(),Rt.now()),wd(t,m)&&(h=h.insert(f,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return Y.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Rr(o.createTime)}}(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(o){return{name:o.name,query:bk(o.bundledQuery),readTime:Rr(o.readTime)}}(t)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(){this.overlays=new dt(we.comparator),this.Er=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ws();return Y.forEach(t,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,a)=>{this.Tt(e,t,a)}),Y.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Er.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Er.delete(i)),Y.resolve()}getOverlaysForCollection(e,t,i){const o=Ws(),a=t.length+1,c=new we(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let a=new dt((m,_)=>m-_);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let _=a.get(m.largestBatchId);_===null&&(_=Ws(),a=a.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const h=Ws(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,_)=>h.set(m,_)),!(h.size()>=o)););return Y.resolve(h)}Tt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Er.get(o.largestBatchId).delete(i.key);this.Er.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new ak(t,i));let a=this.Er.get(t);a===void 0&&(a=Ve(),this.Er.set(t,a)),this.Er.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this.dr=new At(Dt.Ar),this.Rr=new At(Dt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const i=new Dt(e,t);this.dr=this.dr.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Dt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new we(new nt([])),i=new Dt(t,e),o=new Dt(t,e+1),a=[];return this.Rr.forEachInRange([i,o],c=>{this.gr(c),a.push(c.key)}),a}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new we(new nt([])),i=new Dt(t,e),o=new Dt(t,e+1);let a=Ve();return this.Rr.forEachInRange([i,o],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Dt(e,0),i=this.dr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Dt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return we.comparator(e.key,t.key)||je(e.br,t.br)}static Vr(e,t){return je(e.br,t.br)||we.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new At(Dt.Ar)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new ok(a,t,i,o);this.mutationQueue.push(c);for(const h of o)this.vr=this.vr.add(new Dt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Y.resolve(c)}lookupMutationBatch(e,t){return Y.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Fr(i),a=o<0?0:o;return Y.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Dt(t,0),o=new Dt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,o],c=>{const h=this.Cr(c.br);a.push(h)}),Y.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new At(je);return t.forEach(o=>{const a=new Dt(o,0),c=new Dt(o,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,c],h=>{i=i.add(h.br)})}),Y.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let a=i;we.isDocumentKey(a)||(a=a.child(""));const c=new Dt(new we(a),0);let h=new At(je);return this.vr.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===o&&(h=h.add(f.br)),!0)},c),Y.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(i=>{const o=this.Cr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ge(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return Y.forEach(t.mutations,o=>{const a=new Dt(o.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.vr=i})}Ln(e){}containsKey(e,t){const i=new Dt(t,0),o=this.vr.firstAfterOrEqual(i);return Y.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.Nr=e,this.docs=function(){return new dt(we.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),a=o?o.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Y.resolve(i?i.document.mutableCopy():Yt.newInvalidDocument(t))}getEntries(e,t){let i=ai();return t.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Yt.newInvalidDocument(o))}),Y.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let a=ai();const c=t.path,h=new we(c.child("")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:_}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||IA(TA(_),i)<=0||(o.has(_.key)||wd(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return Y.resolve(a)}getAllFromCollectionGroup(e,t,i,o){Ce()}Lr(e,t){return Y.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Hk(this)}getSize(e){return Y.resolve(this.size)}}class Hk extends Fk{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.hr.addEntry(e,o)):this.hr.removeEntry(i)}),Y.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e){this.persistence=e,this.Br=new eo(t=>jp(t),Up),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.kr=0,this.qr=new Hp,this.targetCount=0,this.Qr=ua.qn()}forEachTarget(e,t){return this.Br.forEach((i,o)=>t(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),Y.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ua(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Un(t),Y.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,i){let o=0;const a=[];return this.Br.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Br.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),Y.waitFor(a).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const i=this.Br.get(t)||null;return Y.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),Y.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach(c=>{a.push(o.markPotentiallyOrphaned(e,c))}),Y.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return Y.resolve(i)}containsKey(e,t){return Y.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,t){this.Kr={},this.overlays={},this.$r=new md(0),this.Ur=!1,this.Ur=!0,this.Wr=new $k,this.referenceDelegate=e(this),this.Gr=new Gk(this),this.indexManager=new Nk,this.remoteDocumentCache=function(o){return new qk(o)}(i=>this.referenceDelegate.zr(i)),this.serializer=new Pk(t),this.jr=new zk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Bk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new Wk(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){he("MemoryPersistence","Starting transaction:",e);const o=new Kk(this.$r.next());return this.referenceDelegate.Hr(),i(o).next(a=>this.referenceDelegate.Jr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}Yr(e,t){return Y.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class Kk extends xA{constructor(e){super(),this.currentSequenceNumber=e}}class Gp{constructor(e){this.persistence=e,this.Zr=new Hp,this.Xr=null}static ei(e){return new Gp(e)}get ti(){if(this.Xr)return this.Xr;throw Ce()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),Y.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(o=>this.ti.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.ti,i=>{const o=we.fromPath(i);return this.ni(e,o).next(a=>{a||t.removeEntry(o,Ae.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return Y.or([()=>Y.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class td{constructor(e,t){this.persistence=e,this.ri=new eo(i=>AA(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=Mk(this,t)}static ei(e,t){return new td(e,t)}Hr(){}Jr(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return Y.forEach(this.ri,(i,o)=>this.ir(e,i,o).next(a=>a?Y.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Lr(e,c=>this.ir(e,c,t).next(h=>{h||(i++,a.removeEntry(c,Ae.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),Y.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lc(e.data.value)),t}ir(e,t,i){return Y.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ri.get(t);return Y.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=o}static zi(e,t){let i=Ve(),o=Ve();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Kp(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return $x()?8:CA(Jt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,o){const a={result:null};return this.Xi(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.es(e,t,o,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new Qk;return this.ts(e,t,c).next(h=>{if(a.result=h,this.Hi)return this.ns(e,t,c,h.size)})}).next(()=>a.result)}ns(e,t,i,o){return i.documentReadCount<this.Ji?(Ho()<=Le.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",Go(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Y.resolve()):(Ho()<=Le.DEBUG&&he("QueryEngine","Query:",Go(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Yi*o?(Ho()<=Le.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",Go(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(t))):Y.resolve())}Xi(e,t){if(Lv(t))return Y.resolve(null);let i=Cr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Zc(t,null,"F"),i=Cr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Ve(...a);return this.Zi.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const m=this.rs(t,h);return this.ss(t,m,c,f.readTime)?this.Xi(e,Zc(t,null,"F")):this.os(e,m,t,f)}))})))}es(e,t,i,o){return Lv(t)||o.isEqual(Ae.min())?Y.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const c=this.rs(t,a);return this.ss(t,c,i,o)?Y.resolve(null):(Ho()<=Le.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Go(t)),this.os(e,c,t,EA(o,-1)).next(h=>h))})}rs(e,t){let i=new At(iE(e));return t.forEach((o,a)=>{wd(e,a)&&(i=i.add(a))}),i}ss(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}ts(e,t,i){return Ho()<=Le.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",Go(t)),this.Zi.getDocumentsMatchingQuery(e,t,ns.min(),i)}os(e,t,i,o){return this.Zi.getDocumentsMatchingQuery(e,i,o).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,t,i,o){this.persistence=e,this._s=t,this.serializer=o,this.us=new dt(je),this.cs=new eo(a=>jp(a),Up),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uk(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function Jk(n,e,t,i){return new Xk(n,e,t,i)}async function AE(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],h=[];let f=Ve();for(const m of o){c.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}for(const m of a){h.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}return t.localDocuments.getDocuments(i,f).next(m=>({Ts:m,removedBatchIds:c,addedBatchIds:h}))})})}function Zk(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,f,m,_){const E=m.batch,I=E.keys();let T=Y.resolve();return I.forEach(O=>{T=T.next(()=>_.getEntry(f,O)).next(b=>{const A=m.docVersions.get(O);Ge(A!==null),b.version.compareTo(A)<0&&(E.applyToRemoteDocument(b,m),b.isValidDocument()&&(b.setReadTime(m.commitVersion),_.addEntry(b)))})}),T.next(()=>h.mutationQueue.removeMutationBatch(f,E))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=Ve();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function kE(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function eP(n,e){const t=ke(n),i=e.snapshotVersion;let o=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});o=t.us;const h=[];e.targetChanges.forEach((_,E)=>{const I=o.get(E);if(!I)return;h.push(t.Gr.removeMatchingKeys(a,_.removedDocuments,E).next(()=>t.Gr.addMatchingKeys(a,_.addedDocuments,E)));let T=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(E)!==null?T=T.withResumeToken(zt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):_.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(_.resumeToken,i)),o=o.insert(E,T),function(b,A,j){return b.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(I,T,_)&&h.push(t.Gr.updateTargetData(a,T))});let f=ai(),m=Ve();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),h.push(tP(a,c,e.documentUpdates).next(_=>{f=_.Is,m=_.Es})),!i.isEqual(Ae.min())){const _=t.Gr.getLastRemoteSnapshotVersion(a).next(E=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(_)}return Y.waitFor(h).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,m)).next(()=>f)}).then(a=>(t.us=o,a))}function tP(n,e,t){let i=Ve(),o=Ve();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=ai();return t.forEach((h,f)=>{const m=a.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Ae.min())?(e.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),c=c.insert(h,f)):he("LocalStore","Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)}),{Is:c,Es:o}})}function nP(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function rP(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Gr.getTargetData(i,e).next(a=>a?(o=a,Y.resolve(o)):t.Gr.allocateTargetId(i).next(c=>(o=new Hi(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.us.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function ip(n,e,t){const i=ke(n),o=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!va(c))throw c;he("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(o.target)}function Gv(n,e,t){const i=ke(n);let o=Ae.min(),a=Ve();return i.persistence.runTransaction("Execute query","readwrite",c=>function(f,m,_){const E=ke(f),I=E.cs.get(_);return I!==void 0?Y.resolve(E.us.get(I)):E.Gr.getTargetData(m,_)}(i,c,Cr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,h.targetId).next(f=>{a=f})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?o:Ae.min(),t?a:Ve())).next(h=>(iP(i,HA(e),h),{documents:h,ds:a})))}function iP(n,e,t){let i=n.ls.get(e)||Ae.min();t.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(e,i)}class Kv{constructor(){this.activeTargetIds=JA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sP{constructor(){this._o=new Kv,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Kv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){he("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){he("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc=null;function xf(){return Tc===null?Tc=function(){return 268435456+Math.round(2147483648*Math.random())}():Tc++,"0x"+Tc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class uP extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${o}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}Oo(t,i,o,a,c){const h=xf(),f=this.No(t,i.toUriEncodedString());he("RestConnection",`Sending RPC '${t}' ${h}:`,f,o);const m={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(m,a,c),this.Bo(t,f,m,o).then(_=>(he("RestConnection",`Received RPC '${t}' ${h}: `,_),_),_=>{throw sa("RestConnection",`RPC '${t}' ${h} failed with error: `,_,"url: ",f,"request:",o),_})}ko(t,i,o,a,c,h){return this.Oo(t,i,o,a,c)}Lo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ga}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,c)=>t[c]=a),o&&o.headers.forEach((a,c)=>t[c]=a)}No(t,i){const o=aP[t];return`${this.Fo}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,i,o){const a=xf();return new Promise((c,h)=>{const f=new Uw;f.setWithCredentials(!0),f.listenOnce(zw.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Oc.NO_ERROR:const _=f.getResponseJson();he(Kt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),c(_);break;case Oc.TIMEOUT:he(Kt,`RPC '${e}' ${a} timed out`),h(new fe(X.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const E=f.getStatus();if(he(Kt,`RPC '${e}' ${a} failed with status:`,E,"response text:",f.getResponseText()),E>0){let I=f.getResponseJson();Array.isArray(I)&&(I=I[0]);const T=I==null?void 0:I.error;if(T&&T.status&&T.message){const O=function(A){const j=A.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(j)>=0?j:X.UNKNOWN}(T.status);h(new fe(O,T.message))}else h(new fe(X.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new fe(X.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{he(Kt,`RPC '${e}' ${a} completed.`)}});const m=JSON.stringify(o);he(Kt,`RPC '${e}' ${a} sending request:`,o),f.send(t,"POST",m,i,15)})}qo(e,t,i){const o=xf(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Ww(),h=$w(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Lo(f.initMessageHeaders,t,i),f.encodeInitMessageHeaders=!0;const _=a.join("");he(Kt,`Creating RPC '${e}' stream ${o}: ${_}`,f);const E=c.createWebChannel(_,f);let I=!1,T=!1;const O=new lP({Eo:A=>{T?he(Kt,`Not sending because RPC '${e}' stream ${o} is closed:`,A):(I||(he(Kt,`Opening RPC '${e}' stream ${o} transport.`),E.open(),I=!0),he(Kt,`RPC '${e}' stream ${o} sending:`,A),E.send(A))},Ao:()=>E.close()}),b=(A,j,q)=>{A.listen(j,Q=>{try{q(Q)}catch(te){setTimeout(()=>{throw te},0)}})};return b(E,fl.EventType.OPEN,()=>{T||(he(Kt,`RPC '${e}' stream ${o} transport opened.`),O.So())}),b(E,fl.EventType.CLOSE,()=>{T||(T=!0,he(Kt,`RPC '${e}' stream ${o} transport closed`),O.Do())}),b(E,fl.EventType.ERROR,A=>{T||(T=!0,sa(Kt,`RPC '${e}' stream ${o} transport errored:`,A),O.Do(new fe(X.UNAVAILABLE,"The operation could not be completed")))}),b(E,fl.EventType.MESSAGE,A=>{var j;if(!T){const q=A.data[0];Ge(!!q);const Q=q,te=(Q==null?void 0:Q.error)||((j=Q[0])===null||j===void 0?void 0:j.error);if(te){he(Kt,`RPC '${e}' stream ${o} received error:`,te);const ce=te.status;let le=function(k){const L=wt[k];if(L!==void 0)return yE(L)}(ce),D=te.message;le===void 0&&(le=X.INTERNAL,D="Unknown error status: "+ce+" with message "+te.message),T=!0,O.Do(new fe(le,D)),E.close()}else he(Kt,`RPC '${e}' stream ${o} received:`,q),O.vo(q)}}),b(h,Bw.STAT_EVENT,A=>{A.stat===Kf.PROXY?he(Kt,`RPC '${e}' stream ${o} detected buffering proxy`):A.stat===Kf.NOPROXY&&he(Kt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.bo()},0),O}}function Cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(n){return new gk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,t,i=1e3,o=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=o,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),o=Math.max(0,t-i);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,o,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,t,i,o,a,c,h,f){this.li=e,this.Yo=i,this.Zo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new PE(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(oi(t.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Xo===t&&this.I_(i,o)},i=>{e(()=>{const o=new fe(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.E_(o)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(o=>{i(()=>this.E_(o))}),this.stream.onMessage(o=>{i(()=>++this.n_==1?this.A_(o):this.onNext(o))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return he("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(he("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cP extends bE{constructor(e,t,i,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=_k(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ae.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Rr(c.readTime):Ae.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=rp(this.serializer),t.addTarget=function(a,c){let h;const f=c.target;if(h=Jf(f)?{documents:Tk(a,f)}:{query:Ik(a,f).ct},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=wE(a,c.resumeToken);const m=ep(a,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Ae.min())>0){h.readTime=ed(a,c.snapshotVersion.toTimestamp());const m=ep(a,c.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const i=xk(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=rp(this.serializer),t.removeTarget=e,this.c_(t)}}class dP extends bE{constructor(e,t,i,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ge(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=Ek(e.writeResults,e.commitTime),i=Rr(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=rp(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>wk(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.S_=!1}b_(){if(this.S_)throw new fe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Oo(e,tp(t,i),o,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new fe(X.UNKNOWN,a.toString())})}ko(e,t,i,o,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.ko(e,tp(t,i),o,c,h,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(X.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class fP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(oi(t),this.C_=!1):he("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,t,i,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{to(this)&&(he("RemoteStore","Restarting streams for network reachability change."),await async function(f){const m=ke(f);m.k_.add(4),await Ql(m),m.K_.set("Unknown"),m.k_.delete(4),await xd(m)}(this))})}),this.K_=new fP(i,o)}}async function xd(n){if(to(n))for(const e of n.q_)await e(!0)}async function Ql(n){for(const e of n.q_)await e(!1)}function NE(n,e){const t=ke(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Jp(t)?Xp(t):wa(t).s_()&&Yp(t,e))}function Qp(n,e){const t=ke(n),i=wa(t);t.B_.delete(e),i.s_()&&DE(t,e),t.B_.size===0&&(i.s_()?i.a_():to(t)&&t.K_.set("Unknown"))}function Yp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wa(n).V_(e)}function DE(n,e){n.U_.xe(e),wa(n).m_(e)}function Xp(n){n.U_=new hk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),wa(n).start(),n.K_.F_()}function Jp(n){return to(n)&&!wa(n).i_()&&n.B_.size>0}function to(n){return ke(n).k_.size===0}function OE(n){n.U_=void 0}async function mP(n){n.K_.set("Online")}async function gP(n){n.B_.forEach((e,t)=>{Yp(n,e)})}async function yP(n,e){OE(n),Jp(n)?(n.K_.O_(e),Xp(n)):n.K_.set("Unknown")}async function vP(n,e,t){if(n.K_.set("Online"),e instanceof _E&&e.state===2&&e.cause)try{await async function(o,a){const c=a.cause;for(const h of a.targetIds)o.B_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.B_.delete(h),o.U_.removeTarget(h))}(n,e)}catch(i){he("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await nd(n,i)}else if(e instanceof Fc?n.U_.$e(e):e instanceof vE?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ae.min()))try{const i=await kE(n.localStore);t.compareTo(i)>=0&&await function(a,c){const h=a.U_.it(c);return h.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const _=a.B_.get(m);_&&a.B_.set(m,_.withResumeToken(f.resumeToken,c))}}),h.targetMismatches.forEach((f,m)=>{const _=a.B_.get(f);if(!_)return;a.B_.set(f,_.withResumeToken(zt.EMPTY_BYTE_STRING,_.snapshotVersion)),DE(a,f);const E=new Hi(_.target,f,m,_.sequenceNumber);Yp(a,E)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){he("RemoteStore","Failed to raise snapshot:",i),await nd(n,i)}}async function nd(n,e,t){if(!va(e))throw e;n.k_.add(1),await Ql(n),n.K_.set("Offline"),t||(t=()=>kE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{he("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await xd(n)})}function LE(n,e){return e().catch(t=>nd(n,t,e))}async function Cd(n){const e=ke(n),t=os(e);let i=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;_P(e);)try{const o=await nP(e.localStore,i);if(o===null){e.L_.length===0&&t.a_();break}i=o.batchId,wP(e,o)}catch(o){await nd(e,o)}VE(e)&&ME(e)}function _P(n){return to(n)&&n.L_.length<10}function wP(n,e){n.L_.push(e);const t=os(n);t.s_()&&t.f_&&t.g_(e.mutations)}function VE(n){return to(n)&&!os(n).i_()&&n.L_.length>0}function ME(n){os(n).start()}async function EP(n){os(n).w_()}async function TP(n){const e=os(n);for(const t of n.L_)e.g_(t.mutations)}async function IP(n,e,t){const i=n.L_.shift(),o=$p.from(i,e,t);await LE(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Cd(n)}async function SP(n,e){e&&os(n).f_&&await async function(i,o){if(function(c){return uk(c)&&c!==X.ABORTED}(o.code)){const a=i.L_.shift();os(i).__(),await LE(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Cd(i)}}(n,e),VE(n)&&ME(n)}async function Yv(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),he("RemoteStore","RemoteStore received new credentials");const i=to(t);t.k_.add(3),await Ql(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await xd(t)}async function xP(n,e){const t=ke(n);e?(t.k_.delete(2),await xd(t)):e||(t.k_.add(2),await Ql(t),t.K_.set("Unknown"))}function wa(n){return n.W_||(n.W_=function(t,i,o){const a=ke(t);return a.b_(),new cP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:mP.bind(null,n),mo:gP.bind(null,n),po:yP.bind(null,n),R_:vP.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Jp(n)?Xp(n):n.K_.set("Unknown")):(await n.W_.stop(),OE(n))})),n.W_}function os(n){return n.G_||(n.G_=function(t,i,o){const a=ke(t);return a.b_(),new dP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:EP.bind(null,n),po:SP.bind(null,n),p_:TP.bind(null,n),y_:IP.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Cd(n)):(await n.G_.stop(),n.L_.length>0&&(he("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t,i,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,a){const c=Date.now()+i,h=new Zp(e,t,c,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function em(n,e){if(oi("AsyncQueue",`${e}: ${n}`),va(n))return new fe(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{static emptySet(e){return new ea(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||we.comparator(t.key,i.key):(t,i)=>we.comparator(t.key,i.key),this.keyedMap=pl(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ea)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ea;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(){this.z_=new dt(we.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ce():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ca{constructor(e,t,i,o,a,c,h,f,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,o,a){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new ca(e,t,ea.emptySet(t),c,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_d(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class RP{constructor(){this.queries=Jv(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const o=ke(t),a=o.queries;o.queries=Jv(),a.forEach((c,h)=>{for(const f of h.J_)f.onError(i)})})(this,new fe(X.ABORTED,"Firestore shutting down"))}}function Jv(){return new eo(n=>rE(n),_d)}async function FE(n,e){const t=ke(n);let i=3;const o=e.query;let a=t.queries.get(o);a?!a.Y_()&&e.Z_()&&(i=2):(a=new CP,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(o,!0);break;case 1:a.H_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=em(c,`Initialization of query '${Go(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&tm(t)}async function jE(n,e){const t=ke(n),i=e.query;let o=3;const a=t.queries.get(i);if(a){const c=a.J_.indexOf(e);c>=0&&(a.J_.splice(c,1),a.J_.length===0?o=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function AP(n,e){const t=ke(n);let i=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const h of c.J_)h.ta(o)&&(i=!0);c.H_=o}}i&&tm(t)}function kP(n,e,t){const i=ke(n),o=i.queries.get(e);if(o)for(const a of o.J_)a.onError(t);i.queries.delete(e)}function tm(n){n.X_.forEach(e=>{e.next()})}var sp,Zv;(Zv=sp||(sp={})).na="default",Zv.Cache="cache";class UE{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new ca(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e){this.key=e}}class BE{constructor(e){this.key=e}}class PP{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ve(),this.mutatedKeys=Ve(),this.Va=iE(e),this.ma=new ea(this.Va)}get fa(){return this.da}ga(e,t){const i=t?t.pa:new Xv,o=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,E)=>{const I=o.get(_),T=wd(this.query,E)?E:null,O=!!I&&this.mutatedKeys.has(I.key),b=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let A=!1;I&&T?I.data.isEqual(T.data)?O!==b&&(i.track({type:3,doc:T}),A=!0):this.ya(I,T)||(i.track({type:2,doc:T}),A=!0,(f&&this.Va(T,f)>0||m&&this.Va(T,m)<0)&&(h=!0)):!I&&T?(i.track({type:0,doc:T}),A=!0):I&&!T&&(i.track({type:1,doc:I}),A=!0,(f||m)&&(h=!0)),A&&(T?(c=c.add(T),a=b?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{ma:c,pa:i,ss:h,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((_,E)=>function(T,O){const b=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return b(T)-b(O)}(_.type,E.type)||this.Va(_.doc,E.doc)),this.wa(i),o=o!=null&&o;const h=t&&!o?this.Sa():[],f=this.Ra.size===0&&this.current&&!o?1:0,m=f!==this.Aa;return this.Aa=f,c.length!==0||m?{snapshot:new ca(this.query,e.ma,a,c,e.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Xv,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ve(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new BE(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new zE(i))}),t}va(e){this.da=e.ds,this.Ra=Ve();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ca.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class bP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class NP{constructor(e){this.key=e,this.Fa=!1}}class DP{constructor(e,t,i,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new eo(h=>rE(h),_d),this.Oa=new Map,this.Na=new Set,this.La=new dt(we.comparator),this.Ba=new Map,this.ka=new Hp,this.qa={},this.Qa=new Map,this.Ka=ua.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function OP(n,e,t=!0){const i=KE(n);let o;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Ca()):o=await $E(i,e,t,!0),o}async function LP(n,e){const t=KE(n);await $E(t,e,!0,!1)}async function $E(n,e,t,i){const o=await rP(n.localStore,Cr(e)),a=o.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await VP(n,e,a,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&NE(n.remoteStore,o),h}async function VP(n,e,t,i,o){n.Ua=(E,I,T)=>async function(b,A,j,q){let Q=A.view.ga(j);Q.ss&&(Q=await Gv(b.localStore,A.query,!1).then(({documents:D})=>A.view.ga(D,Q)));const te=q&&q.targetChanges.get(A.targetId),ce=q&&q.targetMismatches.get(A.targetId)!=null,le=A.view.applyChanges(Q,b.isPrimaryClient,te,ce);return t_(b,A.targetId,le.ba),le.snapshot}(n,E,I,T);const a=await Gv(n.localStore,e,!0),c=new PP(e,a.ds),h=c.ga(a.documents),f=Kl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),m=c.applyChanges(h,n.isPrimaryClient,f);t_(n,t,m.ba);const _=new bP(e,t,c);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),m.snapshot}async function MP(n,e,t){const i=ke(n),o=i.xa.get(e),a=i.Oa.get(o.targetId);if(a.length>1)return i.Oa.set(o.targetId,a.filter(c=>!_d(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await ip(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Qp(i.remoteStore,o.targetId),op(i,o.targetId)}).catch(ya)):(op(i,o.targetId),await ip(i.localStore,o.targetId,!0))}async function FP(n,e){const t=ke(n),i=t.xa.get(e),o=t.Oa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Qp(t.remoteStore,i.targetId))}async function jP(n,e,t){const i=HP(n);try{const o=await function(c,h){const f=ke(c),m=Rt.now(),_=h.reduce((T,O)=>T.add(O.key),Ve());let E,I;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let O=ai(),b=Ve();return f.hs.getEntries(T,_).next(A=>{O=A,O.forEach((j,q)=>{q.isValidDocument()||(b=b.add(j))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,O)).next(A=>{E=A;const j=[];for(const q of h){const Q=ik(q,E.get(q.key).overlayedDocument);Q!=null&&j.push(new ds(q.key,Q,Qw(Q.value.mapValue),Bn.exists(!0)))}return f.mutationQueue.addMutationBatch(T,m,j,h)}).next(A=>{I=A;const j=A.applyToLocalDocumentSet(E,b);return f.documentOverlayCache.saveOverlays(T,A.batchId,j)})}).then(()=>({batchId:I.batchId,changes:oE(E)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,h,f){let m=c.qa[c.currentUser.toKey()];m||(m=new dt(je)),m=m.insert(h,f),c.qa[c.currentUser.toKey()]=m}(i,o.batchId,t),await Yl(i,o.changes),await Cd(i.remoteStore)}catch(o){const a=em(o,"Failed to persist write");t.reject(a)}}async function WE(n,e){const t=ke(n);try{const i=await eP(t.localStore,e);e.targetChanges.forEach((o,a)=>{const c=t.Ba.get(a);c&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Fa=!0:o.modifiedDocuments.size>0?Ge(c.Fa):o.removedDocuments.size>0&&(Ge(c.Fa),c.Fa=!1))}),await Yl(t,i,e)}catch(i){await ya(i)}}function e_(n,e,t){const i=ke(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.xa.forEach((a,c)=>{const h=c.view.ea(e);h.snapshot&&o.push(h.snapshot)}),function(c,h){const f=ke(c);f.onlineState=h;let m=!1;f.queries.forEach((_,E)=>{for(const I of E.J_)I.ea(h)&&(m=!0)}),m&&tm(f)}(i.eventManager,e),o.length&&i.Ma.R_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function UP(n,e,t){const i=ke(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ba.get(e),a=o&&o.key;if(a){let c=new dt(we.comparator);c=c.insert(a,Yt.newNoDocument(a,Ae.min()));const h=Ve().add(a),f=new Id(Ae.min(),new Map,new dt(je),c,h);await WE(i,f),i.La=i.La.remove(a),i.Ba.delete(e),nm(i)}else await ip(i.localStore,e,!1).then(()=>op(i,e,t)).catch(ya)}async function zP(n,e){const t=ke(n),i=e.batch.batchId;try{const o=await Zk(t.localStore,e);HE(t,i,null),qE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Yl(t,o)}catch(o){await ya(o)}}async function BP(n,e,t){const i=ke(n);try{const o=await function(c,h){const f=ke(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return f.mutationQueue.lookupMutationBatch(m,h).next(E=>(Ge(E!==null),_=E.keys(),f.mutationQueue.removeMutationBatch(m,E))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,_,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>f.localDocuments.getDocuments(m,_))})}(i.localStore,e);HE(i,e,t),qE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Yl(i,o)}catch(o){await ya(o)}}function qE(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function HE(n,e,t){const i=ke(n);let o=i.qa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),i.qa[i.currentUser.toKey()]=o}}function op(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||GE(n,i)})}function GE(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Qp(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),nm(n))}function t_(n,e,t){for(const i of t)i instanceof zE?(n.ka.addReference(i.key,e),$P(n,i)):i instanceof BE?(he("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||GE(n,i.key)):Ce()}function $P(n,e){const t=e.key,i=t.path.canonicalString();n.La.get(t)||n.Na.has(i)||(he("SyncEngine","New document in limbo: "+t),n.Na.add(i),nm(n))}function nm(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new we(nt.fromString(e)),i=n.Ka.next();n.Ba.set(i,new NP(t)),n.La=n.La.insert(t,i),NE(n.remoteStore,new Hi(Cr(vd(t.path)),i,"TargetPurposeLimboResolution",md.oe))}}async function Yl(n,e,t){const i=ke(n),o=[],a=[],c=[];i.xa.isEmpty()||(i.xa.forEach((h,f)=>{c.push(i.Ua(f,e,t).then(m=>{var _;if((m||t)&&i.isPrimaryClient){const E=m?!m.fromCache:(_=t==null?void 0:t.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(f.targetId,E?"current":"not-current")}if(m){o.push(m);const E=Kp.zi(f.targetId,m);a.push(E)}}))}),await Promise.all(c),i.Ma.R_(o),await async function(f,m){const _=ke(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>Y.forEach(m,I=>Y.forEach(I.Wi,T=>_.persistence.referenceDelegate.addReference(E,I.targetId,T)).next(()=>Y.forEach(I.Gi,T=>_.persistence.referenceDelegate.removeReference(E,I.targetId,T)))))}catch(E){if(!va(E))throw E;he("LocalStore","Failed to update sequence numbers: "+E)}for(const E of m){const I=E.targetId;if(!E.fromCache){const T=_.us.get(I),O=T.snapshotVersion,b=T.withLastLimboFreeSnapshotVersion(O);_.us=_.us.insert(I,b)}}}(i.localStore,a))}async function WP(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){he("SyncEngine","User change. New user:",e.toKey());const i=await AE(t.localStore,e);t.currentUser=e,function(a,c){a.Qa.forEach(h=>{h.forEach(f=>{f.reject(new fe(X.CANCELLED,c))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Yl(t,i.Ts)}}function qP(n,e){const t=ke(n),i=t.Ba.get(e);if(i&&i.Fa)return Ve().add(i.key);{let o=Ve();const a=t.Oa.get(e);if(!a)return o;for(const c of a){const h=t.xa.get(c);o=o.unionWith(h.view.fa)}return o}}function KE(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=WE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UP.bind(null,e),e.Ma.R_=AP.bind(null,e.eventManager),e.Ma.Wa=kP.bind(null,e.eventManager),e}function HP(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BP.bind(null,e),e}class rd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Sd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Jk(this.persistence,new Yk,e.initialUser,this.serializer)}ja(e){return new RE(Gp.ei,this.serializer)}za(e){return new sP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rd.provider={build:()=>new rd};class GP extends rd{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){Ge(this.persistence.referenceDelegate instanceof td);const i=this.persistence.referenceDelegate.garbageCollector;return new Lk(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new RE(i=>td.ei(i,t),this.serializer)}}class ap{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>e_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=WP.bind(null,this.syncEngine),await xP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new RP}()}createDatastore(e){const t=Sd(e.databaseInfo.databaseId),i=function(a){return new uP(a)}(e.databaseInfo);return function(a,c,h,f){return new hP(a,c,h,f)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,a,c,h){return new pP(i,o,a,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>e_(this.syncEngine,t,0),function(){return Qv.p()?new Qv:new oP}())}createSyncEngine(e,t){return function(o,a,c,h,f,m,_){const E=new DP(o,a,c,h,f,m);return _&&(E.$a=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const a=ke(o);he("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Ql(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}ap.provider={build:()=>new ap};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,t,i,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=Qt.UNAUTHENTICATED,this.clientId=Hw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{he("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(he("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=em(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Rf(n,e){n.asyncQueue.verifyOperationInProgress(),he("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await AE(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function n_(n,e){n.asyncQueue.verifyOperationInProgress();const t=await QP(n);he("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Yv(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>Yv(e.remoteStore,o)),n._onlineComponents=e}async function QP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){he("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;sa("Error using user provided cache. Falling back to memory cache: "+t),await Rf(n,new rd)}}else he("FirestoreClient","Using default OfflineComponentProvider"),await Rf(n,new GP(void 0));return n._offlineComponents}async function YE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(he("FirestoreClient","Using user provided OnlineComponentProvider"),await n_(n,n._uninitializedComponentsProvider._online)):(he("FirestoreClient","Using default OnlineComponentProvider"),await n_(n,new ap))),n._onlineComponents}function YP(n){return YE(n).then(e=>e.syncEngine)}async function lp(n){const e=await YE(n),t=e.eventManager;return t.onListen=OP.bind(null,e.syncEngine),t.onUnlisten=MP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=LP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=FP.bind(null,e.syncEngine),t}function XP(n,e,t={}){const i=new Ji;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,h,f,m){const _=new QE({next:I=>{_.eu(),c.enqueueAndForget(()=>jE(a,E));const T=I.docs.has(h);!T&&I.fromCache?m.reject(new fe(X.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&I.fromCache&&f&&f.source==="server"?m.reject(new fe(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(I)},error:I=>m.reject(I)}),E=new UE(vd(h.path),_,{includeMetadataChanges:!0,ua:!0});return FE(a,E)}(await lp(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(n,e,t){if(!t)throw new fe(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function JP(n,e,t,i){if(e===!0&&i===!0)throw new fe(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function i_(n){if(!we.isDocumentKey(n))throw new fe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function s_(n){if(we.isDocumentKey(n))throw new fe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Rd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ce()}function $n(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new fe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Rd(n);throw new fe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new fe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ad{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o_(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new hA;switch(i.type){case"firstParty":return new gA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new fe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=r_.get(t);i&&(he("ComponentProvider","Removing Datastore"),r_.delete(t),i.terminate())}(this),Promise.resolve()}}function ZP(n,e,t,i={}){var o;const a=(n=$n(n,Ad))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let h,f;if(typeof i.mockUserToken=="string")h=i.mockUserToken,f=Qt.MOCK_USER;else{h=Vx(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new fe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Qt(m)}n._authCredentials=new fA(new qw(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new hs(this.firestore,e,this._query)}}class Xt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xt(this.firestore,e,this._key)}}class Zi extends hs{constructor(e,t,i){super(e,t,vd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xt(this.firestore,null,new we(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function Gs(n,e,...t){if(n=Ut(n),JE("collection","path",e),n instanceof Ad){const i=nt.fromString(e,...t);return s_(i),new Zi(n,null,i)}{if(!(n instanceof Xt||n instanceof Zi))throw new fe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(nt.fromString(e,...t));return s_(i),new Zi(n.firestore,null,i)}}function Ar(n,e,...t){if(n=Ut(n),arguments.length===1&&(e=Hw.newId()),JE("doc","path",e),n instanceof Ad){const i=nt.fromString(e,...t);return i_(i),new Xt(n,null,new we(i))}{if(!(n instanceof Xt||n instanceof Zi))throw new fe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(nt.fromString(e,...t));return i_(i),new Xt(n.firestore,n instanceof Zi?n.converter:null,new we(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new PE(this,"async_queue_retry"),this.fu=()=>{const i=Cf();i&&he("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Cf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Cf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Ji;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!va(e))throw e;he("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const o=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw oi("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const o=Zp.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.du.push(o),o}pu(){this.Au&&Ce()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function l_(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of i)if(a in o&&typeof o[a]=="function")return!0;return!1}(n,["next","error","complete"])}class as extends Ad{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new a_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new a_(e),this._firestoreClient=void 0,await e}}}function eb(n,e){const t=typeof n=="object"?n:iw(),i=typeof n=="string"?n:"(default)",o=xp(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=Ox("firestore");a&&ZP(o,...a)}return o}function rm(n){if(n._terminated)throw new fe(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||tb(n),n._firestoreClient}function tb(n){var e,t,i;const o=n._freezeSettings(),a=function(h,f,m,_){return new bA(h,f,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,XE(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new KP(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new da(zt.fromBase64String(e))}catch(t){throw new fe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new da(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=/^__.*__$/;class rb{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gl(e,this.data,t,this.fieldTransforms)}}class ZE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ds(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function e0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class om{constructor(e,t,i,o,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new om(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Lu(e),o}Bu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.xu({path:i,Nu:!1});return o.Fu(),o}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return id(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(e0(this.Mu)&&nb.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class ib{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Sd(e)}$u(e,t,i,o=!1){return new om({Mu:e,methodName:t,Ku:i,path:jt.emptyPath(),Nu:!1,Qu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pd(n){const e=n._freezeSettings(),t=Sd(n._databaseId);return new ib(n._databaseId,!!e.ignoreUndefinedProperties,t)}function t0(n,e,t,i,o,a={}){const c=n.$u(a.merge||a.mergeFields?2:0,e,t,o);um("Data must be an object, but it was:",c,i);const h=n0(i,c);let f,m;if(a.merge)f=new kn(c.fieldMask),m=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const E of a.mergeFields){const I=up(e,E,t);if(!c.contains(I))throw new fe(X.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);i0(_,I)||_.push(I)}f=new kn(_),m=c.fieldTransforms.filter(E=>f.covers(E.field))}else f=null,m=c.fieldTransforms;return new rb(new vn(h),f,m)}class bd extends Xl{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bd}}class am extends Xl{_toFieldTransform(e){return new pE(e.path,new Nl)}isEqual(e){return e instanceof am}}class lm extends Xl{constructor(e,t){super(e),this.Wu=t}_toFieldTransform(e){const t=new Ll(e.serializer,uE(e.serializer,this.Wu));return new pE(e.path,t)}isEqual(e){return e instanceof lm&&this.Wu===e.Wu}}function sb(n,e,t,i){const o=n.$u(1,e,t);um("Data must be an object, but it was:",o,i);const a=[],c=vn.empty();cs(i,(f,m)=>{const _=cm(e,f,t);m=Ut(m);const E=o.Bu(_);if(m instanceof bd)a.push(_);else{const I=Jl(m,E);I!=null&&(a.push(_),c.set(_,I))}});const h=new kn(a);return new ZE(c,h,o.fieldTransforms)}function ob(n,e,t,i,o,a){const c=n.$u(1,e,t),h=[up(e,i,t)],f=[o];if(a.length%2!=0)throw new fe(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<a.length;I+=2)h.push(up(e,a[I])),f.push(a[I+1]);const m=[],_=vn.empty();for(let I=h.length-1;I>=0;--I)if(!i0(m,h[I])){const T=h[I];let O=f[I];O=Ut(O);const b=c.Bu(T);if(O instanceof bd)m.push(T);else{const A=Jl(O,b);A!=null&&(m.push(T),_.set(T,A))}}const E=new kn(m);return new ZE(_,E,c.fieldTransforms)}function ab(n,e,t,i=!1){return Jl(t,n.$u(i?4:3,e))}function Jl(n,e){if(r0(n=Ut(n)))return um("Unsupported field value:",e,n),n0(n,e);if(n instanceof Xl)return function(i,o){if(!e0(o.Mu))throw o.qu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,o){const a=[];let c=0;for(const h of i){let f=Jl(h,o.ku(c));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,o){if((i=Ut(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return uE(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Rt.fromDate(i);return{timestampValue:ed(o.serializer,a)}}if(i instanceof Rt){const a=new Rt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ed(o.serializer,a)}}if(i instanceof im)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof da)return{bytesValue:wE(o.serializer,i._byteString)};if(i instanceof Xt){const a=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw o.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:qp(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof sm)return function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(f=>{if(typeof f!="number")throw h.qu("VectorValues must only contain numeric values.");return zp(h.serializer,f)})}}}}}}(i,o);throw o.qu(`Unsupported field value: ${Rd(i)}`)}(n,e)}function n0(n,e){const t={};return Gw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(n,(i,o)=>{const a=Jl(o,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function r0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Rt||n instanceof im||n instanceof da||n instanceof Xt||n instanceof Xl||n instanceof sm)}function um(n,e,t){if(!r0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Rd(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function up(n,e,t){if((e=Ut(e))instanceof kd)return e._internalPath;if(typeof e=="string")return cm(n,e);throw id("Field path arguments must be of type string or ",n,!1,void 0,t)}const lb=new RegExp("[~\\*/\\[\\]]");function cm(n,e,t){if(e.search(lb)>=0)throw id(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new kd(...e.split("."))._internalPath}catch{throw id(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function id(n,e,t,i,o){const a=i&&!i.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||c)&&(f+=" (found",a&&(f+=` in field ${i}`),c&&(f+=` in document ${o}`),f+=")"),new fe(X.INVALID_ARGUMENT,h+n+f)}function i0(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e,t,i,o,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ub(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ub extends s0{data(){return super.data()}}function dm(n,e){return typeof e=="string"?cm(n,e):e instanceof kd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new fe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hm{}class fm extends hm{}function pm(n,e,...t){let i=[];e instanceof hm&&i.push(e),i=i.concat(t),function(a){const c=a.filter(f=>f instanceof gm).length,h=a.filter(f=>f instanceof mm).length;if(c>1||c>0&&h>0)throw new fe(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class mm extends fm{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new mm(e,t,i)}_apply(e){const t=this._parse(e);return l0(e._query,t),new hs(e.firestore,e.converter,Zf(e._query,t))}_parse(e){const t=Pd(e.firestore);return function(a,c,h,f,m,_,E){let I;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new fe(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){c_(E,_);const T=[];for(const O of E)T.push(u_(f,a,O));I={arrayValue:{values:T}}}else I=u_(f,a,E)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||c_(E,_),I=ab(h,c,E,_==="in"||_==="not-in");return Et.create(m,_,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class gm extends hm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new gm(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:dr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,a){let c=o;const h=a.getFlattenedFilters();for(const f of h)l0(c,f),c=Zf(c,f)}(e._query,t),new hs(e.firestore,e.converter,Zf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ym extends fm{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ym(e,t)}_apply(e){const t=function(o,a,c){if(o.startAt!==null)throw new fe(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bl(a,c)}(e._query,this._field,this._direction);return new hs(e.firestore,e.converter,function(o,a){const c=o.explicitOrderBy.concat([a]);return new _a(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function o0(n,e="asc"){const t=e,i=dm("orderBy",n);return ym._create(i,t)}class vm extends fm{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new vm(e,t,i)}_apply(e){return new hs(e.firestore,e.converter,Zc(e._query,this._limit,this._limitType))}}function a0(n){return vm._create("limit",n,"F")}function u_(n,e,t){if(typeof(t=Ut(t))=="string"){if(t==="")throw new fe(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nE(e)&&t.indexOf("/")!==-1)throw new fe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(nt.fromString(t));if(!we.isDocumentKey(i))throw new fe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return kv(n,new we(i))}if(t instanceof Xt)return kv(n,t._key);throw new fe(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rd(t)}.`)}function c_(n,e){if(!Array.isArray(n)||n.length===0)throw new fe(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function l0(n,e){const t=function(o,a){for(const c of o)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class db{convertValue(e,t="none"){switch(ss(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return cs(e,(o,a)=>{i[o]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,o;const a=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>yt(c.doubleValue));return new sm(a)}convertGeoPoint(e){return new im(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=yd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Al(e));default:return null}}convertTimestamp(e){const t=rs(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=nt.fromString(e);Ge(CE(i));const o=new kl(i.get(1),i.get(3)),a=new we(i.popFirst(5));return o.isEqual(t)||oi(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class c0 extends s0{constructor(e,t,i,o,a,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(dm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class jc extends c0{data(e={}){return super.data(e)}}class hb{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new gl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new jc(this._firestore,this._userDataWriter,i.key,i,new gl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(h=>{const f=new jc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new gl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new jc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new gl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:fb(h.type),doc:f,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function fb(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pb(n){n=$n(n,Xt);const e=$n(n.firestore,as);return XP(rm(e),n._key).then(t=>f0(e,n,t))}class d0 extends db{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xt(this.firestore,null,t)}}function h0(n,e,t){n=$n(n,Xt);const i=$n(n.firestore,as),o=u0(n.converter,e);return Nd(i,[t0(Pd(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Bn.none())])}function sd(n,e,t,...i){n=$n(n,Xt);const o=$n(n.firestore,as),a=Pd(o);let c;return c=typeof(e=Ut(e))=="string"||e instanceof kd?ob(a,"updateDoc",n._key,e,t,i):sb(a,"updateDoc",n._key,e),Nd(o,[c.toMutation(n._key,Bn.exists(!0))])}function mb(n){return Nd($n(n.firestore,as),[new Bp(n._key,Bn.none())])}function cp(n,e){const t=$n(n.firestore,as),i=Ar(n),o=u0(n.converter,e);return Nd(t,[t0(Pd(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,Bn.exists(!1))]).then(()=>i)}function Vl(n,...e){var t,i,o;n=Ut(n);let a={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||l_(e[c])||(a=e[c],c++);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(l_(e[c])){const E=e[c];e[c]=(t=E.next)===null||t===void 0?void 0:t.bind(E),e[c+1]=(i=E.error)===null||i===void 0?void 0:i.bind(E),e[c+2]=(o=E.complete)===null||o===void 0?void 0:o.bind(E)}let f,m,_;if(n instanceof Xt)m=$n(n.firestore,as),_=vd(n._key.path),f={next:E=>{e[c]&&e[c](f0(m,n,E))},error:e[c+1],complete:e[c+2]};else{const E=$n(n,hs);m=$n(E.firestore,as),_=E._query;const I=new d0(m);f={next:T=>{e[c]&&e[c](new hb(m,I,E,T))},error:e[c+1],complete:e[c+2]},cb(n._query)}return function(I,T,O,b){const A=new QE(b),j=new UE(T,A,O);return I.asyncQueue.enqueueAndForget(async()=>FE(await lp(I),j)),()=>{A.eu(),I.asyncQueue.enqueueAndForget(async()=>jE(await lp(I),j))}}(rm(m),_,h,f)}function Nd(n,e){return function(i,o){const a=new Ji;return i.asyncQueue.enqueueAndForget(async()=>jP(await YP(i),o,a)),a.promise}(rm(n),e)}function f0(n,e,t){const i=t.docs.get(e._key),o=new d0(n);return new c0(n,o,e._key,i,new gl(t.hasPendingWrites,t.fromCache),e.converter)}function dp(){return new am("serverTimestamp")}function gb(n){return new lm("increment",n)}(function(e,t=!0){(function(o){ga=o})(pa),ra(new Ks("firestore",(i,{instanceIdentifier:o,options:a})=>{const c=i.getProvider("app").getImmediate(),h=new as(new pA(i.getProvider("auth-internal")),new vA(i.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new fe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(m.options.projectId,_)}(c,o),c);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Xi(Iv,"4.7.5",e),Xi(Iv,"4.7.5","esm2017")})();const yb={apiKey:"AIzaSyDv8HTTnVSD0gAq_0-7UYkgnkRS1ZYLYs4",authDomain:"misfinanzas-162de.firebaseapp.com",projectId:"misfinanzas-162de",storageBucket:"misfinanzas-162de.firebasestorage.app",messagingSenderId:"874193199968",appId:"1:874193199968:web:291bbbbcf5f6defd8b3405"},p0=rw(yb),Ea=iA(p0),yn=eb(p0);function m0(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=m0(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function g0(){for(var n,e,t=0,i="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=m0(n))&&(i&&(i+=" "),i+=e);return i}const _m="-",vb=n=>{const e=wb(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:c=>{const h=c.split(_m);return h[0]===""&&h.length!==1&&h.shift(),y0(h,e)||_b(c)},getConflictingClassGroupIds:(c,h)=>{const f=t[c]||[];return h&&i[c]?[...f,...i[c]]:f}}},y0=(n,e)=>{var c;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),o=i?y0(n.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const a=n.join(_m);return(c=e.validators.find(({validator:h})=>h(a)))==null?void 0:c.classGroupId},d_=/^\[(.+)\]$/,_b=n=>{if(d_.test(n)){const e=d_.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},wb=n=>{const{theme:e,prefix:t}=n,i={nextPart:new Map,validators:[]};return Tb(Object.entries(n.classGroups),t).forEach(([a,c])=>{hp(c,i,a,e)}),i},hp=(n,e,t,i)=>{n.forEach(o=>{if(typeof o=="string"){const a=o===""?e:h_(e,o);a.classGroupId=t;return}if(typeof o=="function"){if(Eb(o)){hp(o(i),e,t,i);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([a,c])=>{hp(c,h_(e,a),t,i)})})},h_=(n,e)=>{let t=n;return e.split(_m).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},Eb=n=>n.isThemeGetter,Tb=(n,e)=>e?n.map(([t,i])=>{const o=i.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([c,h])=>[e+c,h])):a);return[t,o]}):n,Ib=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const o=(a,c)=>{t.set(a,c),e++,e>n&&(e=0,i=t,t=new Map)};return{get(a){let c=t.get(a);if(c!==void 0)return c;if((c=i.get(a))!==void 0)return o(a,c),c},set(a,c){t.has(a)?t.set(a,c):o(a,c)}}},v0="!",Sb=n=>{const{separator:e,experimentalParseClassName:t}=n,i=e.length===1,o=e[0],a=e.length,c=h=>{const f=[];let m=0,_=0,E;for(let A=0;A<h.length;A++){let j=h[A];if(m===0){if(j===o&&(i||h.slice(A,A+a)===e)){f.push(h.slice(_,A)),_=A+a;continue}if(j==="/"){E=A;continue}}j==="["?m++:j==="]"&&m--}const I=f.length===0?h:h.substring(_),T=I.startsWith(v0),O=T?I.substring(1):I,b=E&&E>_?E-_:void 0;return{modifiers:f,hasImportantModifier:T,baseClassName:O,maybePostfixModifierPosition:b}};return t?h=>t({className:h,parseClassName:c}):c},xb=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(i=>{i[0]==="["?(e.push(...t.sort(),i),t=[]):t.push(i)}),e.push(...t.sort()),e},Cb=n=>({cache:Ib(n.cacheSize),parseClassName:Sb(n),...vb(n)}),Rb=/\s+/,Ab=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:o}=e,a=[],c=n.trim().split(Rb);let h="";for(let f=c.length-1;f>=0;f-=1){const m=c[f],{modifiers:_,hasImportantModifier:E,baseClassName:I,maybePostfixModifierPosition:T}=t(m);let O=!!T,b=i(O?I.substring(0,T):I);if(!b){if(!O){h=m+(h.length>0?" "+h:h);continue}if(b=i(I),!b){h=m+(h.length>0?" "+h:h);continue}O=!1}const A=xb(_).join(":"),j=E?A+v0:A,q=j+b;if(a.includes(q))continue;a.push(q);const Q=o(b,O);for(let te=0;te<Q.length;++te){const ce=Q[te];a.push(j+ce)}h=m+(h.length>0?" "+h:h)}return h};function kb(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=_0(e))&&(i&&(i+=" "),i+=t);return i}const _0=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=_0(n[i]))&&(t&&(t+=" "),t+=e);return t};function Pb(n,...e){let t,i,o,a=c;function c(f){const m=e.reduce((_,E)=>E(_),n());return t=Cb(m),i=t.cache.get,o=t.cache.set,a=h,h(f)}function h(f){const m=i(f);if(m)return m;const _=Ab(f,t);return o(f,_),_}return function(){return a(kb.apply(null,arguments))}}const tt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},w0=/^\[(?:([a-z-]+):)?(.+)\]$/i,bb=/^\d+\/\d+$/,Nb=new Set(["px","full","screen"]),Db=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ob=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Lb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Vb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Mb=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xr=n=>ta(n)||Nb.has(n)||bb.test(n),Ui=n=>Ta(n,"length",qb),ta=n=>!!n&&!Number.isNaN(Number(n)),Af=n=>Ta(n,"number",ta),dl=n=>!!n&&Number.isInteger(Number(n)),Fb=n=>n.endsWith("%")&&ta(n.slice(0,-1)),Ne=n=>w0.test(n),zi=n=>Db.test(n),jb=new Set(["length","size","percentage"]),Ub=n=>Ta(n,jb,E0),zb=n=>Ta(n,"position",E0),Bb=new Set(["image","url"]),$b=n=>Ta(n,Bb,Gb),Wb=n=>Ta(n,"",Hb),hl=()=>!0,Ta=(n,e,t)=>{const i=w0.exec(n);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):t(i[2]):!1},qb=n=>Ob.test(n)&&!Lb.test(n),E0=()=>!1,Hb=n=>Vb.test(n),Gb=n=>Mb.test(n),Kb=()=>{const n=tt("colors"),e=tt("spacing"),t=tt("blur"),i=tt("brightness"),o=tt("borderColor"),a=tt("borderRadius"),c=tt("borderSpacing"),h=tt("borderWidth"),f=tt("contrast"),m=tt("grayscale"),_=tt("hueRotate"),E=tt("invert"),I=tt("gap"),T=tt("gradientColorStops"),O=tt("gradientColorStopPositions"),b=tt("inset"),A=tt("margin"),j=tt("opacity"),q=tt("padding"),Q=tt("saturate"),te=tt("scale"),ce=tt("sepia"),le=tt("skew"),D=tt("space"),R=tt("translate"),k=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Ne,e],M=()=>[Ne,e],N=()=>["",Xr,Ui],Be=()=>["auto",ta,Ne],at=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ke=()=>["solid","dashed","dotted","double","none"],be=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>["start","end","center","between","around","evenly","stretch"],ne=()=>["","0",Ne],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],z=()=>[ta,Ne];return{cacheSize:500,separator:":",theme:{colors:[hl],spacing:[Xr,Ui],blur:["none","",zi,Ne],brightness:z(),borderColor:[n],borderRadius:["none","","full",zi,Ne],borderSpacing:M(),borderWidth:N(),contrast:z(),grayscale:ne(),hueRotate:z(),invert:ne(),gap:M(),gradientColorStops:[n],gradientColorStopPositions:[Fb,Ui],inset:F(),margin:F(),opacity:z(),padding:M(),saturate:z(),scale:z(),sepia:ne(),skew:z(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Ne]}],container:["container"],columns:[{columns:[zi]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...at(),Ne]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",dl,Ne]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ne]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",dl,Ne]}],"grid-cols":[{"grid-cols":[hl]}],"col-start-end":[{col:["auto",{span:["full",dl,Ne]},Ne]}],"col-start":[{"col-start":Be()}],"col-end":[{"col-end":Be()}],"grid-rows":[{"grid-rows":[hl]}],"row-start-end":[{row:["auto",{span:[dl,Ne]},Ne]}],"row-start":[{"row-start":Be()}],"row-end":[{"row-end":Be()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ne]}],gap:[{gap:[I]}],"gap-x":[{"gap-x":[I]}],"gap-y":[{"gap-y":[I]}],"justify-content":[{justify:["normal",...se()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...se(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...se(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[q]}],px:[{px:[q]}],py:[{py:[q]}],ps:[{ps:[q]}],pe:[{pe:[q]}],pt:[{pt:[q]}],pr:[{pr:[q]}],pb:[{pb:[q]}],pl:[{pl:[q]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ne,e]}],"min-w":[{"min-w":[Ne,e,"min","max","fit"]}],"max-w":[{"max-w":[Ne,e,"none","full","min","max","fit","prose",{screen:[zi]},zi]}],h:[{h:[Ne,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ne,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ne,e,"auto","min","max","fit"]}],"font-size":[{text:["base",zi,Ui]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Af]}],"font-family":[{font:[hl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ne]}],"line-clamp":[{"line-clamp":["none",ta,Af]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xr,Ne]}],"list-image":[{"list-image":["none",Ne]}],"list-style-type":[{list:["none","disc","decimal",Ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ke(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xr,Ui]}],"underline-offset":[{"underline-offset":["auto",Xr,Ne]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...at(),zb]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ub]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},$b]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[O]}],"gradient-via-pos":[{via:[O]}],"gradient-to-pos":[{to:[O]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...Ke(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:Ke()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...Ke()]}],"outline-offset":[{"outline-offset":[Xr,Ne]}],"outline-w":[{outline:[Xr,Ui]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Xr,Ui]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",zi,Wb]}],"shadow-color":[{shadow:[hl]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...be(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":be()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[i]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",zi,Ne]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[_]}],invert:[{invert:[E]}],saturate:[{saturate:[Q]}],sepia:[{sepia:[ce]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_]}],"backdrop-invert":[{"backdrop-invert":[E]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[Q]}],"backdrop-sepia":[{"backdrop-sepia":[ce]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ne]}],duration:[{duration:z()}],ease:[{ease:["linear","in","out","in-out",Ne]}],delay:[{delay:z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[te]}],"scale-x":[{"scale-x":[te]}],"scale-y":[{"scale-y":[te]}],rotate:[{rotate:[dl,Ne]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[le]}],"skew-y":[{"skew-y":[le]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ne]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ne]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ne]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Xr,Ui,Af]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Qb=Pb(Kb);function Tt(...n){return Qb(g0(n))}const Gi=x.forwardRef(({className:n,...e},t)=>C.jsx("div",{ref:t,className:Tt("rounded-xl border bg-card text-card-foreground shadow",n),...e}));Gi.displayName="Card";const Tl=x.forwardRef(({className:n,...e},t)=>C.jsx("div",{ref:t,className:Tt("flex flex-col space-y-1.5 p-6",n),...e}));Tl.displayName="CardHeader";const Il=x.forwardRef(({className:n,...e},t)=>C.jsx("div",{ref:t,className:Tt("font-semibold leading-none tracking-tight",n),...e}));Il.displayName="CardTitle";const Yb=x.forwardRef(({className:n,...e},t)=>C.jsx("div",{ref:t,className:Tt("text-sm text-muted-foreground",n),...e}));Yb.displayName="CardDescription";const Ki=x.forwardRef(({className:n,...e},t)=>C.jsx("div",{ref:t,className:Tt("p-6 pt-0",n),...e}));Ki.displayName="CardContent";const Xb=x.forwardRef(({className:n,...e},t)=>C.jsx("div",{ref:t,className:Tt("flex items-center p-6 pt-0",n),...e}));Xb.displayName="CardFooter";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),T0=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=x.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:c,...h},f)=>x.createElement("svg",{ref:f,...Zb,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:T0("lucide",o),...h},[...c.map(([m,_])=>x.createElement(m,_)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=(n,e)=>{const t=x.forwardRef(({className:i,...o},a)=>x.createElement(eN,{ref:a,iconNode:e,className:T0(`lucide-${Jb(n)}`,i),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=Pn("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=Pn("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=Pn("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=Pn("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=Pn("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=Pn("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=Pn("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=Pn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=Pn("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=Pn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=Pn("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=Pn("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=Pn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function k0({name:n,amount:e,type:t,date:i}){const o=e<0;return C.jsxs("div",{className:"flex items-center justify-between py-4",children:[C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsx("div",{className:Tt("w-10 h-10 rounded-full flex items-center justify-center",o?"bg-red-100":"bg-green-100"),children:t==="shopping"?C.jsx(oN,{className:"h-5 w-5 text-muted-foreground"}):o?C.jsx(S0,{className:"h-5 w-5 text-red-500"}):C.jsx(I0,{className:"h-5 w-5 text-green-500"})}),C.jsxs("div",{children:[C.jsx("p",{className:"font-medium",children:n}),C.jsx("p",{className:"text-sm text-muted-foreground text-black",children:i})]})]}),C.jsxs("p",{className:Tt("font-medium",o?"text-black":"text-green-500"),children:[o?"-":"+","$",Math.abs(e)]})]})}function es(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n==null||n(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function f_(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function P0(...n){return e=>{let t=!1;const i=n.map(o=>{const a=f_(o,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let o=0;o<i.length;o++){const a=i[o];typeof a=="function"?a():f_(n[o],null)}}}}function no(...n){return x.useCallback(P0(...n),n)}function lN(n,e){const t=x.createContext(e),i=a=>{const{children:c,...h}=a,f=x.useMemo(()=>h,Object.values(h));return C.jsx(t.Provider,{value:f,children:c})};i.displayName=n+"Provider";function o(a){const c=x.useContext(t);if(c)return c;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[i,o]}function b0(n,e=[]){let t=[];function i(a,c){const h=x.createContext(c),f=t.length;t=[...t,c];const m=E=>{var j;const{scope:I,children:T,...O}=E,b=((j=I==null?void 0:I[n])==null?void 0:j[f])||h,A=x.useMemo(()=>O,Object.values(O));return C.jsx(b.Provider,{value:A,children:T})};m.displayName=a+"Provider";function _(E,I){var b;const T=((b=I==null?void 0:I[n])==null?void 0:b[f])||h,O=x.useContext(T);if(O)return O;if(c!==void 0)return c;throw new Error(`\`${E}\` must be used within \`${a}\``)}return[m,_]}const o=()=>{const a=t.map(c=>x.createContext(c));return function(h){const f=(h==null?void 0:h[n])||a;return x.useMemo(()=>({[`__scope${n}`]:{...h,[n]:f}}),[h,f])}};return o.scopeName=n,[i,uN(o,...e)]}function uN(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const i=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(a){const c=i.reduce((h,{useScope:f,scopeName:m})=>{const E=f(a)[`__scope${m}`];return{...h,...E}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}var od=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},cN=RI.useId||(()=>{}),dN=0;function kf(n){const[e,t]=x.useState(cN());return od(()=>{n||t(i=>i??String(dN++))},[n]),n||(e?`radix-${e}`:"")}function Xs(n){const e=x.useRef(n);return x.useEffect(()=>{e.current=n}),x.useMemo(()=>(...t)=>{var i;return(i=e.current)==null?void 0:i.call(e,...t)},[])}function hN({prop:n,defaultProp:e,onChange:t=()=>{}}){const[i,o]=fN({defaultProp:e,onChange:t}),a=n!==void 0,c=a?n:i,h=Xs(t),f=x.useCallback(m=>{if(a){const E=typeof m=="function"?m(n):m;E!==n&&h(E)}else o(m)},[a,n,o,h]);return[c,f]}function fN({defaultProp:n,onChange:e}){const t=x.useState(n),[i]=t,o=x.useRef(i),a=Xs(e);return x.useEffect(()=>{o.current!==i&&(a(i),o.current=i)},[i,o,a]),t}var Dd=x.forwardRef((n,e)=>{const{children:t,...i}=n,o=x.Children.toArray(t),a=o.find(mN);if(a){const c=a.props.children,h=o.map(f=>f===a?x.Children.count(c)>1?x.Children.only(null):x.isValidElement(c)?c.props.children:null:f);return C.jsx(fp,{...i,ref:e,children:x.isValidElement(c)?x.cloneElement(c,void 0,h):null})}return C.jsx(fp,{...i,ref:e,children:t})});Dd.displayName="Slot";var fp=x.forwardRef((n,e)=>{const{children:t,...i}=n;if(x.isValidElement(t)){const o=yN(t);return x.cloneElement(t,{...gN(i,t.props),ref:e?P0(e,o):o})}return x.Children.count(t)>1?x.Children.only(null):null});fp.displayName="SlotClone";var pN=({children:n})=>C.jsx(C.Fragment,{children:n});function mN(n){return x.isValidElement(n)&&n.type===pN}function gN(n,e){const t={...e};for(const i in e){const o=n[i],a=e[i];/^on[A-Z]/.test(i)?o&&a?t[i]=(...h)=>{a(...h),o(...h)}:o&&(t[i]=o):i==="style"?t[i]={...o,...a}:i==="className"&&(t[i]=[o,a].filter(Boolean).join(" "))}return{...n,...t}}function yN(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var vN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Wn=vN.reduce((n,e)=>{const t=x.forwardRef((i,o)=>{const{asChild:a,...c}=i,h=a?Dd:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(h,{...c,ref:o})});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function _N(n,e){n&&G_.flushSync(()=>n.dispatchEvent(e))}function wN(n,e=globalThis==null?void 0:globalThis.document){const t=Xs(n);x.useEffect(()=>{const i=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[t,e])}var EN="DismissableLayer",pp="dismissableLayer.update",TN="dismissableLayer.pointerDownOutside",IN="dismissableLayer.focusOutside",p_,N0=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),D0=x.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:a,onInteractOutside:c,onDismiss:h,...f}=n,m=x.useContext(N0),[_,E]=x.useState(null),I=(_==null?void 0:_.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=x.useState({}),O=no(e,D=>E(D)),b=Array.from(m.layers),[A]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(A),q=_?b.indexOf(_):-1,Q=m.layersWithOutsidePointerEventsDisabled.size>0,te=q>=j,ce=CN(D=>{const R=D.target,k=[...m.branches].some(L=>L.contains(R));!te||k||(o==null||o(D),c==null||c(D),D.defaultPrevented||h==null||h())},I),le=RN(D=>{const R=D.target;[...m.branches].some(L=>L.contains(R))||(a==null||a(D),c==null||c(D),D.defaultPrevented||h==null||h())},I);return wN(D=>{q===m.layers.size-1&&(i==null||i(D),!D.defaultPrevented&&h&&(D.preventDefault(),h()))},I),x.useEffect(()=>{if(_)return t&&(m.layersWithOutsidePointerEventsDisabled.size===0&&(p_=I.body.style.pointerEvents,I.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(_)),m.layers.add(_),m_(),()=>{t&&m.layersWithOutsidePointerEventsDisabled.size===1&&(I.body.style.pointerEvents=p_)}},[_,I,t,m]),x.useEffect(()=>()=>{_&&(m.layers.delete(_),m.layersWithOutsidePointerEventsDisabled.delete(_),m_())},[_,m]),x.useEffect(()=>{const D=()=>T({});return document.addEventListener(pp,D),()=>document.removeEventListener(pp,D)},[]),C.jsx(Wn.div,{...f,ref:O,style:{pointerEvents:Q?te?"auto":"none":void 0,...n.style},onFocusCapture:es(n.onFocusCapture,le.onFocusCapture),onBlurCapture:es(n.onBlurCapture,le.onBlurCapture),onPointerDownCapture:es(n.onPointerDownCapture,ce.onPointerDownCapture)})});D0.displayName=EN;var SN="DismissableLayerBranch",xN=x.forwardRef((n,e)=>{const t=x.useContext(N0),i=x.useRef(null),o=no(e,i);return x.useEffect(()=>{const a=i.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),C.jsx(Wn.div,{...n,ref:o})});xN.displayName=SN;function CN(n,e=globalThis==null?void 0:globalThis.document){const t=Xs(n),i=x.useRef(!1),o=x.useRef(()=>{});return x.useEffect(()=>{const a=h=>{if(h.target&&!i.current){let f=function(){O0(TN,t,m,{discrete:!0})};const m={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=f,e.addEventListener("click",o.current,{once:!0})):f()}else e.removeEventListener("click",o.current);i.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",a),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>i.current=!0}}function RN(n,e=globalThis==null?void 0:globalThis.document){const t=Xs(n),i=x.useRef(!1);return x.useEffect(()=>{const o=a=>{a.target&&!i.current&&O0(IN,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function m_(){const n=new CustomEvent(pp);document.dispatchEvent(n)}function O0(n,e,t,{discrete:i}){const o=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),i?_N(o,a):o.dispatchEvent(a)}var Pf="focusScope.autoFocusOnMount",bf="focusScope.autoFocusOnUnmount",g_={bubbles:!1,cancelable:!0},AN="FocusScope",L0=x.forwardRef((n,e)=>{const{loop:t=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:a,...c}=n,[h,f]=x.useState(null),m=Xs(o),_=Xs(a),E=x.useRef(null),I=no(e,b=>f(b)),T=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(i){let b=function(Q){if(T.paused||!h)return;const te=Q.target;h.contains(te)?E.current=te:Bi(E.current,{select:!0})},A=function(Q){if(T.paused||!h)return;const te=Q.relatedTarget;te!==null&&(h.contains(te)||Bi(E.current,{select:!0}))},j=function(Q){if(document.activeElement===document.body)for(const ce of Q)ce.removedNodes.length>0&&Bi(h)};document.addEventListener("focusin",b),document.addEventListener("focusout",A);const q=new MutationObserver(j);return h&&q.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",A),q.disconnect()}}},[i,h,T.paused]),x.useEffect(()=>{if(h){v_.add(T);const b=document.activeElement;if(!h.contains(b)){const j=new CustomEvent(Pf,g_);h.addEventListener(Pf,m),h.dispatchEvent(j),j.defaultPrevented||(kN(ON(V0(h)),{select:!0}),document.activeElement===b&&Bi(h))}return()=>{h.removeEventListener(Pf,m),setTimeout(()=>{const j=new CustomEvent(bf,g_);h.addEventListener(bf,_),h.dispatchEvent(j),j.defaultPrevented||Bi(b??document.body,{select:!0}),h.removeEventListener(bf,_),v_.remove(T)},0)}}},[h,m,_,T]);const O=x.useCallback(b=>{if(!t&&!i||T.paused)return;const A=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,j=document.activeElement;if(A&&j){const q=b.currentTarget,[Q,te]=PN(q);Q&&te?!b.shiftKey&&j===te?(b.preventDefault(),t&&Bi(Q,{select:!0})):b.shiftKey&&j===Q&&(b.preventDefault(),t&&Bi(te,{select:!0})):j===q&&b.preventDefault()}},[t,i,T.paused]);return C.jsx(Wn.div,{tabIndex:-1,...c,ref:I,onKeyDown:O})});L0.displayName=AN;function kN(n,{select:e=!1}={}){const t=document.activeElement;for(const i of n)if(Bi(i,{select:e}),document.activeElement!==t)return}function PN(n){const e=V0(n),t=y_(e,n),i=y_(e.reverse(),n);return[t,i]}function V0(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function y_(n,e){for(const t of n)if(!bN(t,{upTo:e}))return t}function bN(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function NN(n){return n instanceof HTMLInputElement&&"select"in n}function Bi(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&NN(n)&&e&&n.select()}}var v_=DN();function DN(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=__(n,e),n.unshift(e)},remove(e){var t;n=__(n,e),(t=n[0])==null||t.resume()}}}function __(n,e){const t=[...n],i=t.indexOf(e);return i!==-1&&t.splice(i,1),t}function ON(n){return n.filter(e=>e.tagName!=="A")}var LN="Portal",M0=x.forwardRef((n,e)=>{var h;const{container:t,...i}=n,[o,a]=x.useState(!1);od(()=>a(!0),[]);const c=t||o&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return c?K_.createPortal(C.jsx(Wn.div,{...i,ref:e}),c):null});M0.displayName=LN;function VN(n,e){return x.useReducer((t,i)=>e[t][i]??t,n)}var Od=n=>{const{present:e,children:t}=n,i=MN(e),o=typeof t=="function"?t({present:i.isPresent}):x.Children.only(t),a=no(i.ref,FN(o));return typeof t=="function"||i.isPresent?x.cloneElement(o,{ref:a}):null};Od.displayName="Presence";function MN(n){const[e,t]=x.useState(),i=x.useRef({}),o=x.useRef(n),a=x.useRef("none"),c=n?"mounted":"unmounted",[h,f]=VN(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const m=Ic(i.current);a.current=h==="mounted"?m:"none"},[h]),od(()=>{const m=i.current,_=o.current;if(_!==n){const I=a.current,T=Ic(m);n?f("MOUNT"):T==="none"||(m==null?void 0:m.display)==="none"?f("UNMOUNT"):f(_&&I!==T?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,f]),od(()=>{if(e){let m;const _=e.ownerDocument.defaultView??window,E=T=>{const b=Ic(i.current).includes(T.animationName);if(T.target===e&&b&&(f("ANIMATION_END"),!o.current)){const A=e.style.animationFillMode;e.style.animationFillMode="forwards",m=_.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=A)})}},I=T=>{T.target===e&&(a.current=Ic(i.current))};return e.addEventListener("animationstart",I),e.addEventListener("animationcancel",E),e.addEventListener("animationend",E),()=>{_.clearTimeout(m),e.removeEventListener("animationstart",I),e.removeEventListener("animationcancel",E),e.removeEventListener("animationend",E)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:x.useCallback(m=>{m&&(i.current=getComputedStyle(m)),t(m)},[])}}function Ic(n){return(n==null?void 0:n.animationName)||"none"}function FN(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Nf=0;function jN(){x.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??w_()),document.body.insertAdjacentElement("beforeend",n[1]??w_()),Nf++,()=>{Nf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Nf--}},[])}function w_(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Uc="right-scroll-bar-position",zc="width-before-scroll-bar",UN="with-scroll-bars-hidden",zN="--removed-body-scroll-bar-size";function Df(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function BN(n,e){var t=x.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(i){var o=t.value;o!==i&&(t.value=i,t.callback(i,o))}}}})[0];return t.callback=e,t.facade}var $N=typeof window<"u"?x.useLayoutEffect:x.useEffect,E_=new WeakMap;function WN(n,e){var t=BN(null,function(i){return n.forEach(function(o){return Df(o,i)})});return $N(function(){var i=E_.get(t);if(i){var o=new Set(i),a=new Set(n),c=t.current;o.forEach(function(h){a.has(h)||Df(h,null)}),a.forEach(function(h){o.has(h)||Df(h,c)})}E_.set(t,n)},[n]),t}function qN(n){return n}function HN(n,e){e===void 0&&(e=qN);var t=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var c=e(a,i);return t.push(c),function(){t=t.filter(function(h){return h!==c})}},assignSyncMedium:function(a){for(i=!0;t.length;){var c=t;t=[],c.forEach(a)}t={push:function(h){return a(h)},filter:function(){return t}}},assignMedium:function(a){i=!0;var c=[];if(t.length){var h=t;t=[],h.forEach(a),c=t}var f=function(){var _=c;c=[],_.forEach(a)},m=function(){return Promise.resolve().then(f)};m(),t={push:function(_){c.push(_),m()},filter:function(_){return c=c.filter(_),t}}}};return o}function GN(n){n===void 0&&(n={});var e=HN(null);return e.options=Sr({async:!0,ssr:!1},n),e}var F0=function(n){var e=n.sideCar,t=Bl(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return x.createElement(i,Sr({},t))};F0.isSideCarExport=!0;function KN(n,e){return n.useMedium(e),F0}var j0=GN(),Of=function(){},Ld=x.forwardRef(function(n,e){var t=x.useRef(null),i=x.useState({onScrollCapture:Of,onWheelCapture:Of,onTouchMoveCapture:Of}),o=i[0],a=i[1],c=n.forwardProps,h=n.children,f=n.className,m=n.removeScrollBar,_=n.enabled,E=n.shards,I=n.sideCar,T=n.noIsolation,O=n.inert,b=n.allowPinchZoom,A=n.as,j=A===void 0?"div":A,q=n.gapMode,Q=Bl(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),te=I,ce=WN([t,e]),le=Sr(Sr({},Q),o);return x.createElement(x.Fragment,null,_&&x.createElement(te,{sideCar:j0,removeScrollBar:m,shards:E,noIsolation:T,inert:O,setCallbacks:a,allowPinchZoom:!!b,lockRef:t,gapMode:q}),c?x.cloneElement(x.Children.only(h),Sr(Sr({},le),{ref:ce})):x.createElement(j,Sr({},le,{className:f,ref:ce}),h))});Ld.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ld.classNames={fullWidth:zc,zeroRight:Uc};var QN=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function YN(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=QN();return e&&n.setAttribute("nonce",e),n}function XN(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function JN(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var ZN=function(){var n=0,e=null;return{add:function(t){n==0&&(e=YN())&&(XN(e,t),JN(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},e2=function(){var n=ZN();return function(e,t){x.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},U0=function(){var n=e2(),e=function(t){var i=t.styles,o=t.dynamic;return n(i,o),null};return e},t2={left:0,top:0,right:0,gap:0},Lf=function(n){return parseInt(n||"",10)||0},n2=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],i=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[Lf(t),Lf(i),Lf(o)]},r2=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return t2;var e=n2(n),t=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-t+e[2]-e[0])}},i2=U0(),na="data-scroll-locked",s2=function(n,e,t,i){var o=n.left,a=n.top,c=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(UN,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(h,"px ").concat(i,`;
  }
  body[`).concat(na,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(i,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Uc,` {
    right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(zc,` {
    margin-right: `).concat(h,"px ").concat(i,`;
  }
  
  .`).concat(Uc," .").concat(Uc,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(zc," .").concat(zc,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(na,`] {
    `).concat(zN,": ").concat(h,`px;
  }
`)},T_=function(){var n=parseInt(document.body.getAttribute(na)||"0",10);return isFinite(n)?n:0},o2=function(){x.useEffect(function(){return document.body.setAttribute(na,(T_()+1).toString()),function(){var n=T_()-1;n<=0?document.body.removeAttribute(na):document.body.setAttribute(na,n.toString())}},[])},a2=function(n){var e=n.noRelative,t=n.noImportant,i=n.gapMode,o=i===void 0?"margin":i;o2();var a=x.useMemo(function(){return r2(o)},[o]);return x.createElement(i2,{styles:s2(a,!e,o,t?"":"!important")})},mp=!1;if(typeof window<"u")try{var Sc=Object.defineProperty({},"passive",{get:function(){return mp=!0,!0}});window.addEventListener("test",Sc,Sc),window.removeEventListener("test",Sc,Sc)}catch{mp=!1}var Bo=mp?{passive:!1}:!1,l2=function(n){return n.tagName==="TEXTAREA"},z0=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!l2(n)&&t[e]==="visible")},u2=function(n){return z0(n,"overflowY")},c2=function(n){return z0(n,"overflowX")},I_=function(n,e){var t=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=B0(n,i);if(o){var a=$0(n,i),c=a[1],h=a[2];if(c>h)return!0}i=i.parentNode}while(i&&i!==t.body);return!1},d2=function(n){var e=n.scrollTop,t=n.scrollHeight,i=n.clientHeight;return[e,t,i]},h2=function(n){var e=n.scrollLeft,t=n.scrollWidth,i=n.clientWidth;return[e,t,i]},B0=function(n,e){return n==="v"?u2(e):c2(e)},$0=function(n,e){return n==="v"?d2(e):h2(e)},f2=function(n,e){return n==="h"&&e==="rtl"?-1:1},p2=function(n,e,t,i,o){var a=f2(n,window.getComputedStyle(e).direction),c=a*i,h=t.target,f=e.contains(h),m=!1,_=c>0,E=0,I=0;do{var T=$0(n,h),O=T[0],b=T[1],A=T[2],j=b-A-a*O;(O||j)&&B0(n,h)&&(E+=j,I+=O),h instanceof ShadowRoot?h=h.host:h=h.parentNode}while(!f&&h!==document.body||f&&(e.contains(h)||e===h));return(_&&Math.abs(E)<1||!_&&Math.abs(I)<1)&&(m=!0),m},xc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},S_=function(n){return[n.deltaX,n.deltaY]},x_=function(n){return n&&"current"in n?n.current:n},m2=function(n,e){return n[0]===e[0]&&n[1]===e[1]},g2=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},y2=0,$o=[];function v2(n){var e=x.useRef([]),t=x.useRef([0,0]),i=x.useRef(),o=x.useState(y2++)[0],a=x.useState(U0)[0],c=x.useRef(n);x.useEffect(function(){c.current=n},[n]),x.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var b=oC([n.lockRef.current],(n.shards||[]).map(x_),!0).filter(Boolean);return b.forEach(function(A){return A.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),b.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var h=x.useCallback(function(b,A){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!c.current.allowPinchZoom;var j=xc(b),q=t.current,Q="deltaX"in b?b.deltaX:q[0]-j[0],te="deltaY"in b?b.deltaY:q[1]-j[1],ce,le=b.target,D=Math.abs(Q)>Math.abs(te)?"h":"v";if("touches"in b&&D==="h"&&le.type==="range")return!1;var R=I_(D,le);if(!R)return!0;if(R?ce=D:(ce=D==="v"?"h":"v",R=I_(D,le)),!R)return!1;if(!i.current&&"changedTouches"in b&&(Q||te)&&(i.current=ce),!ce)return!0;var k=i.current||ce;return p2(k,A,b,k==="h"?Q:te)},[]),f=x.useCallback(function(b){var A=b;if(!(!$o.length||$o[$o.length-1]!==a)){var j="deltaY"in A?S_(A):xc(A),q=e.current.filter(function(ce){return ce.name===A.type&&(ce.target===A.target||A.target===ce.shadowParent)&&m2(ce.delta,j)})[0];if(q&&q.should){A.cancelable&&A.preventDefault();return}if(!q){var Q=(c.current.shards||[]).map(x_).filter(Boolean).filter(function(ce){return ce.contains(A.target)}),te=Q.length>0?h(A,Q[0]):!c.current.noIsolation;te&&A.cancelable&&A.preventDefault()}}},[]),m=x.useCallback(function(b,A,j,q){var Q={name:b,delta:A,target:j,should:q,shadowParent:_2(j)};e.current.push(Q),setTimeout(function(){e.current=e.current.filter(function(te){return te!==Q})},1)},[]),_=x.useCallback(function(b){t.current=xc(b),i.current=void 0},[]),E=x.useCallback(function(b){m(b.type,S_(b),b.target,h(b,n.lockRef.current))},[]),I=x.useCallback(function(b){m(b.type,xc(b),b.target,h(b,n.lockRef.current))},[]);x.useEffect(function(){return $o.push(a),n.setCallbacks({onScrollCapture:E,onWheelCapture:E,onTouchMoveCapture:I}),document.addEventListener("wheel",f,Bo),document.addEventListener("touchmove",f,Bo),document.addEventListener("touchstart",_,Bo),function(){$o=$o.filter(function(b){return b!==a}),document.removeEventListener("wheel",f,Bo),document.removeEventListener("touchmove",f,Bo),document.removeEventListener("touchstart",_,Bo)}},[]);var T=n.removeScrollBar,O=n.inert;return x.createElement(x.Fragment,null,O?x.createElement(a,{styles:g2(o)}):null,T?x.createElement(a2,{gapMode:n.gapMode}):null)}function _2(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const w2=KN(j0,v2);var W0=x.forwardRef(function(n,e){return x.createElement(Ld,Sr({},n,{ref:e,sideCar:w2}))});W0.classNames=Ld.classNames;var E2=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Wo=new WeakMap,Cc=new WeakMap,Rc={},Vf=0,q0=function(n){return n&&(n.host||q0(n.parentNode))},T2=function(n,e){return e.map(function(t){if(n.contains(t))return t;var i=q0(t);return i&&n.contains(i)?i:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},I2=function(n,e,t,i){var o=T2(e,Array.isArray(n)?n:[n]);Rc[t]||(Rc[t]=new WeakMap);var a=Rc[t],c=[],h=new Set,f=new Set(o),m=function(E){!E||h.has(E)||(h.add(E),m(E.parentNode))};o.forEach(m);var _=function(E){!E||f.has(E)||Array.prototype.forEach.call(E.children,function(I){if(h.has(I))_(I);else try{var T=I.getAttribute(i),O=T!==null&&T!=="false",b=(Wo.get(I)||0)+1,A=(a.get(I)||0)+1;Wo.set(I,b),a.set(I,A),c.push(I),b===1&&O&&Cc.set(I,!0),A===1&&I.setAttribute(t,"true"),O||I.setAttribute(i,"true")}catch(j){console.error("aria-hidden: cannot operate on ",I,j)}})};return _(e),h.clear(),Vf++,function(){c.forEach(function(E){var I=Wo.get(E)-1,T=a.get(E)-1;Wo.set(E,I),a.set(E,T),I||(Cc.has(E)||E.removeAttribute(i),Cc.delete(E)),T||E.removeAttribute(t)}),Vf--,Vf||(Wo=new WeakMap,Wo=new WeakMap,Cc=new WeakMap,Rc={})}},S2=function(n,e,t){t===void 0&&(t="data-aria-hidden");var i=Array.from(Array.isArray(n)?n:[n]),o=E2(n);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live]"))),I2(i,o,t,"aria-hidden")):function(){return null}},wm="Dialog",[H0,vD]=b0(wm),[x2,hr]=H0(wm),G0=n=>{const{__scopeDialog:e,children:t,open:i,defaultOpen:o,onOpenChange:a,modal:c=!0}=n,h=x.useRef(null),f=x.useRef(null),[m=!1,_]=hN({prop:i,defaultProp:o,onChange:a});return C.jsx(x2,{scope:e,triggerRef:h,contentRef:f,contentId:kf(),titleId:kf(),descriptionId:kf(),open:m,onOpenChange:_,onOpenToggle:x.useCallback(()=>_(E=>!E),[_]),modal:c,children:t})};G0.displayName=wm;var K0="DialogTrigger",C2=x.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=hr(K0,t),a=no(e,o.triggerRef);return C.jsx(Wn.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Im(o.open),...i,ref:a,onClick:es(n.onClick,o.onOpenToggle)})});C2.displayName=K0;var Em="DialogPortal",[R2,Q0]=H0(Em,{forceMount:void 0}),Y0=n=>{const{__scopeDialog:e,forceMount:t,children:i,container:o}=n,a=hr(Em,e);return C.jsx(R2,{scope:e,forceMount:t,children:x.Children.map(i,c=>C.jsx(Od,{present:t||a.open,children:C.jsx(M0,{asChild:!0,container:o,children:c})}))})};Y0.displayName=Em;var ad="DialogOverlay",X0=x.forwardRef((n,e)=>{const t=Q0(ad,n.__scopeDialog),{forceMount:i=t.forceMount,...o}=n,a=hr(ad,n.__scopeDialog);return a.modal?C.jsx(Od,{present:i||a.open,children:C.jsx(A2,{...o,ref:e})}):null});X0.displayName=ad;var A2=x.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=hr(ad,t);return C.jsx(W0,{as:Dd,allowPinchZoom:!0,shards:[o.contentRef],children:C.jsx(Wn.div,{"data-state":Im(o.open),...i,ref:e,style:{pointerEvents:"auto",...i.style}})})}),Js="DialogContent",J0=x.forwardRef((n,e)=>{const t=Q0(Js,n.__scopeDialog),{forceMount:i=t.forceMount,...o}=n,a=hr(Js,n.__scopeDialog);return C.jsx(Od,{present:i||a.open,children:a.modal?C.jsx(k2,{...o,ref:e}):C.jsx(P2,{...o,ref:e})})});J0.displayName=Js;var k2=x.forwardRef((n,e)=>{const t=hr(Js,n.__scopeDialog),i=x.useRef(null),o=no(e,t.contentRef,i);return x.useEffect(()=>{const a=i.current;if(a)return S2(a)},[]),C.jsx(Z0,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:es(n.onCloseAutoFocus,a=>{var c;a.preventDefault(),(c=t.triggerRef.current)==null||c.focus()}),onPointerDownOutside:es(n.onPointerDownOutside,a=>{const c=a.detail.originalEvent,h=c.button===0&&c.ctrlKey===!0;(c.button===2||h)&&a.preventDefault()}),onFocusOutside:es(n.onFocusOutside,a=>a.preventDefault())})}),P2=x.forwardRef((n,e)=>{const t=hr(Js,n.__scopeDialog),i=x.useRef(!1),o=x.useRef(!1);return C.jsx(Z0,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var c,h;(c=n.onCloseAutoFocus)==null||c.call(n,a),a.defaultPrevented||(i.current||(h=t.triggerRef.current)==null||h.focus(),a.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:a=>{var f,m;(f=n.onInteractOutside)==null||f.call(n,a),a.defaultPrevented||(i.current=!0,a.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=a.target;((m=t.triggerRef.current)==null?void 0:m.contains(c))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&o.current&&a.preventDefault()}})}),Z0=x.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:a,...c}=n,h=hr(Js,t),f=x.useRef(null),m=no(e,f);return jN(),C.jsxs(C.Fragment,{children:[C.jsx(L0,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:a,children:C.jsx(D0,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":Im(h.open),...c,ref:m,onDismiss:()=>h.onOpenChange(!1)})}),C.jsxs(C.Fragment,{children:[C.jsx(b2,{titleId:h.titleId}),C.jsx(D2,{contentRef:f,descriptionId:h.descriptionId})]})]})}),Tm="DialogTitle",eT=x.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=hr(Tm,t);return C.jsx(Wn.h2,{id:o.titleId,...i,ref:e})});eT.displayName=Tm;var tT="DialogDescription",nT=x.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=hr(tT,t);return C.jsx(Wn.p,{id:o.descriptionId,...i,ref:e})});nT.displayName=tT;var rT="DialogClose",iT=x.forwardRef((n,e)=>{const{__scopeDialog:t,...i}=n,o=hr(rT,t);return C.jsx(Wn.button,{type:"button",...i,ref:e,onClick:es(n.onClick,()=>o.onOpenChange(!1))})});iT.displayName=rT;function Im(n){return n?"open":"closed"}var sT="DialogTitleWarning",[_D,oT]=lN(sT,{contentName:Js,titleName:Tm,docsSlug:"dialog"}),b2=({titleId:n})=>{const e=oT(sT),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},N2="DialogDescriptionWarning",D2=({contentRef:n,descriptionId:e})=>{const i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oT(N2).contentName}}.`;return x.useEffect(()=>{var a;const o=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(i))},[i,n,e]),null},O2=G0,L2=Y0,aT=X0,lT=J0,uT=eT,cT=nT,V2=iT;const Zl=O2,M2=L2,dT=x.forwardRef(({className:n,...e},t)=>C.jsx(aT,{ref:t,className:Tt("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));dT.displayName=aT.displayName;const Ia=x.forwardRef(({className:n,children:e,...t},i)=>C.jsxs(M2,{children:[C.jsx(dT,{}),C.jsxs(lT,{ref:i,className:Tt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,C.jsxs(V2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[C.jsx(aN,{className:"h-4 w-4"}),C.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ia.displayName=lT.displayName;const Sa=({className:n,...e})=>C.jsx("div",{className:Tt("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});Sa.displayName="DialogHeader";const Vd=({className:n,...e})=>C.jsx("div",{className:Tt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});Vd.displayName="DialogFooter";const xa=x.forwardRef(({className:n,...e},t)=>C.jsx(uT,{ref:t,className:Tt("text-lg font-semibold leading-none tracking-tight",n),...e}));xa.displayName=uT.displayName;const F2=x.forwardRef(({className:n,...e},t)=>C.jsx(cT,{ref:t,className:Tt("text-sm text-muted-foreground",n),...e}));F2.displayName=cT.displayName;const ls=x.forwardRef(({className:n,type:e,...t},i)=>C.jsx("input",{type:e,className:Tt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:i,...t}));ls.displayName="Input";const C_=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,R_=g0,hT=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return R_(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:a}=e,c=Object.keys(o).map(m=>{const _=t==null?void 0:t[m],E=a==null?void 0:a[m];if(_===null)return null;const I=C_(_)||C_(E);return o[m][I]}),h=t&&Object.entries(t).reduce((m,_)=>{let[E,I]=_;return I===void 0||(m[E]=I),m},{}),f=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((m,_)=>{let{class:E,className:I,...T}=_;return Object.entries(T).every(O=>{let[b,A]=O;return Array.isArray(A)?A.includes({...a,...h}[b]):{...a,...h}[b]===A})?[...m,E,I]:m},[]);return R_(n,c,f,t==null?void 0:t.class,t==null?void 0:t.className)},j2=hT("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),_n=x.forwardRef(({className:n,variant:e,size:t,asChild:i=!1,...o},a)=>{const c=i?Dd:"button";return C.jsx(c,{className:Tt(j2({variant:e,size:t,className:n})),ref:a,...o})});_n.displayName="Button";var U2="Label",fT=x.forwardRef((n,e)=>C.jsx(Wn.label,{...n,ref:e,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=n.onMouseDown)==null||o.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));fT.displayName=U2;var pT=fT;const z2=hT("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Zs=x.forwardRef(({className:n,...e},t)=>C.jsx(pT,{ref:t,className:Tt(z2(),n),...e}));Zs.displayName=pT.displayName;function B2({isOpen:n,onClose:e,onRecharge:t}){const[i,o]=x.useState(""),a=c=>{c.preventDefault();const h=parseFloat(i);!isNaN(h)&&h>0&&(t(h),o(""),e())};return C.jsx(Zl,{open:n,onOpenChange:e,children:C.jsxs(Ia,{className:"sm:max-w-[425px]",children:[C.jsx(Sa,{children:C.jsx(xa,{children:"Recargar Saldo"})}),C.jsxs("form",{onSubmit:a,className:"space-y-4",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(Zs,{htmlFor:"amount",children:"Cantidad a recargar"}),C.jsx(ls,{id:"amount",type:"number",placeholder:"0",value:i,onChange:c=>o(c.target.value),className:"text-lg",min:"0",step:"0.01",required:!0})]}),C.jsx(_n,{type:"submit",className:"w-full",children:"Recargar"})]})]})})}function $2({isOpen:n,onClose:e,onWithdraw:t,maxAmount:i}){const[o,a]=x.useState(""),c=h=>{h.preventDefault();const f=parseFloat(o);!isNaN(f)&&f>0&&f<=i&&(t(f),a(""),e())};return C.jsx(Zl,{open:n,onOpenChange:e,children:C.jsxs(Ia,{className:"sm:max-w-[425px]",children:[C.jsx(Sa,{children:C.jsx(xa,{children:"Retirar Saldo"})}),C.jsxs("form",{onSubmit:c,className:"space-y-4",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(Zs,{htmlFor:"amount",children:"Cantidad a retirar"}),C.jsx(ls,{id:"amount",type:"number",placeholder:"0",value:o,onChange:h=>a(h.target.value),className:"text-lg",min:"0",max:i,step:"0.01",required:!0}),C.jsxs("p",{className:"text-sm text-muted-foreground",children:["Saldo disponible: $",i]})]}),C.jsx(_n,{type:"submit",className:"w-full",children:"Retirar"})]})]})})}const W2=async n=>{const e=Ar(yn,"users",n);(await pb(e)).exists()||await h0(e,{balance:0,monthlyIncome:0,monthlyExpenses:0,savings:0,createdAt:new Date})};function q2(){const[n,e]=Hl(Ea),[t,i]=x.useState(0),[o,a]=x.useState(!1),[c,h]=x.useState(!1),[f,m]=x.useState([]),[_,E]=x.useState(!0),[I,T]=x.useState(null);x.useEffect(()=>{n&&!e&&(async()=>{if(n)try{await W2(n.uid);const j=Ar(yn,"users",n.uid),q=Vl(j,le=>{le.exists()&&i(le.data().balance||0)},le=>{console.error("Error fetching user data:",le),T("Error al cargar los datos del usuario. Por favor, recarga la página.")}),Q=Gs(yn,"users",n.uid,"transactions"),te=pm(Q,o0("date","desc"),a0(10)),ce=Vl(te,le=>{const D=le.docs.map(R=>{var k,L,F;return{id:R.id,...R.data(),date:((F=(L=(k=R.data().date)==null?void 0:k.toDate)==null?void 0:L.call(k))==null?void 0:F.toLocaleDateString())||new Date().toLocaleDateString()}});m(D)},le=>{console.error("Error fetching transactions:",le),T("Error al cargar las transacciones. Por favor, recarga la página.")});return E(!1),()=>{q(),ce()}}catch(j){console.error("Error setting up user data:",j),T("Error al cargar los datos. Por favor, recarga la página."),E(!1)}})()},[n,e]);const O=async A=>{if(n)try{const j=Ar(yn,"users",n.uid),q=t+A;await sd(j,{balance:q});const Q=Gs(yn,"users",n.uid,"transactions");await cp(Q,{name:"Recarga",amount:A,type:"transfer",date:dp()}),mn.success(`Recarga exitosa de $${A.toFixed(2)}`)}catch(j){console.error("Error al recargar:",j),mn.error("Error al procesar la recarga. Por favor, intente de nuevo.")}},b=async A=>{if(n)try{const j=Ar(yn,"users",n.uid),q=t-A;if(q<0){mn.error("Saldo insuficiente para realizar el retiro.");return}await sd(j,{balance:q});const Q=Gs(yn,"users",n.uid,"transactions");await cp(Q,{name:"Retiro",amount:-A,type:"transfer",date:dp()}),mn.success(`Retiro exitoso de $${A.toFixed(2)}`)}catch(j){console.error("Error al retirar:",j),mn.error("Error al procesar el retiro. Por favor, intente de nuevo.")}};return e||_?C.jsx("div",{className:"flex items-center justify-center min-h-screen",children:C.jsx("p",{children:"Cargando..."})}):I?C.jsx("div",{className:"flex items-center justify-center min-h-screen",children:C.jsx("p",{className:"text-red-500",children:I})}):n?C.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[C.jsxs("div",{className:"bg-primary text-primary-foreground rounded-b-3xl -mx-4 -mt-20 p-6 pt-24 mb-6 shadow-xl",children:[C.jsxs("h1",{className:"text-xl font-medium mb-4",children:["Bienvenido de vuelta, ",n.displayName]}),C.jsx(Gi,{className:"bg-white/20 border-none shadow-2xl",children:C.jsx(Ki,{className:"p-3",children:C.jsxs("div",{className:"space-y-1",children:[C.jsx("p",{className:"text-lg text-primary-foreground/100",children:"Saldo Actual"}),C.jsxs("p",{className:"text-4xl font-bold text-white",children:["$",t]})]})})})]}),C.jsxs("div",{className:"grid grid-cols-4 gap-4 px-4",children:[C.jsxs("button",{className:"flex flex-col items-center gap-2",onClick:()=>a(!0),children:[C.jsx("div",{className:"w-14 h-14 rounded-full bg-primary/10 text-primary flex items-center justify-center",children:C.jsx(R0,{className:"h-6 w-6"})}),C.jsx("span",{className:"text-xs",children:"Recargar"})]}),C.jsxs("button",{className:"flex flex-col items-center gap-2",onClick:()=>h(!0),children:[C.jsx("div",{className:"w-14 h-14 rounded-full bg-primary/10 text-primary flex items-center justify-center",children:C.jsx(rN,{className:"h-6 w-6"})}),C.jsx("span",{className:"text-xs",children:"Retirar"})]})]}),C.jsx(B2,{isOpen:o,onClose:()=>a(!1),onRecharge:O}),C.jsx($2,{isOpen:c,onClose:()=>h(!1),onWithdraw:b,maxAmount:t}),C.jsx("div",{className:"bg-transparent text-primary-foreground rounded-t-3xl -mx-4  p-6",style:{boxShadow:"0 -10px 10px 0px rgba(0, 0, 0, 0.1)"},children:C.jsxs(Ki,{className:"p-6",children:[C.jsx("h2",{className:"text-lg font-bold mb-4 text-black",children:"Movimientos Recientes"}),C.jsx("div",{className:"divide-y text-black",children:f.slice(0,5).map(A=>C.jsx(k0,{...A},A.id))})]})}),C.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-background border-t py-2 px-6",children:C.jsxs("div",{className:"flex justify-between items-center max-w-md mx-auto",children:[C.jsxs("button",{className:"flex flex-col items-center gap-1",children:[C.jsx(C0,{className:"h-6 w-6 text-primary"}),C.jsx("span",{className:"text-xs text-primary",children:"Inicio"})]}),C.jsxs("button",{className:"flex flex-col items-center gap-1",children:[C.jsx(A0,{className:"h-6 w-6 text-muted-foreground"}),C.jsx("span",{className:"text-xs text-muted-foreground",children:"Pagos"})]}),C.jsxs("button",{className:"flex flex-col items-center gap-1",children:[C.jsx(x0,{className:"h-6 w-6 text-muted-foreground"}),C.jsx("span",{className:"text-xs text-muted-foreground",children:"Stats"})]}),C.jsxs("button",{className:"flex flex-col items-center gap-1",children:[C.jsx(sN,{className:"h-6 w-6 text-muted-foreground"}),C.jsx("span",{className:"text-xs text-muted-foreground",children:"Ajustes"})]})]})})]}):C.jsx("div",{className:"flex items-center justify-center min-h-screen",children:C.jsx("p",{children:"Por favor, inicia sesión para ver tu cuenta."})})}function H2(){const[n]=Hl(Ea),[e,t]=x.useState(0),[i,o]=x.useState(!0),[a,c]=x.useState(null);return x.useEffect(()=>{if(n){const h=Ar(yn,"users",n.uid),f=Vl(h,m=>{if(m.exists()){const _=m.data();t((_==null?void 0:_.balance)||0),o(!1)}},m=>{console.error("Error al cargar el balance:",m),c("Error al cargar los datos. Por favor, recarga la página."),o(!1)});return()=>f()}},[n]),i?C.jsx("p",{children:"Cargando..."}):a?C.jsx("p",{className:"text-red-500",children:a}):C.jsxs("div",{className:"max-w-xl mx-auto space-y-6",children:[C.jsxs("div",{className:"bg-primary text-primary-foreground rounded-b-3xl -mx-4 -mt-20 p-6 pt-24 mb-6 shadow-xl",children:[C.jsx("h1",{className:"text-xl font-medium mb-4",children:"Ventaja rentable"}),C.jsx(Gi,{className:"bg-white/20 border-none shadow-2xl",children:C.jsx(Ki,{className:"p-3",children:C.jsxs("div",{className:"space-y-1",children:[C.jsx("p",{className:"text-lg text-primary-foreground/100",children:"Saldo Actual"}),C.jsxs("p",{className:"text-4xl font-bold text-white",children:["$",e]})]})})})]}),C.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[C.jsxs(Gi,{children:[C.jsxs(Tl,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[C.jsx(Il,{className:"text-sm font-medium",children:"Ingresos del Mes"}),C.jsx(S0,{className:"h-4 w-4 text-green-500"})]}),C.jsxs(Ki,{children:[C.jsx("div",{className:"text-2xl font-bold text-green-500",children:"$5,000.00"}),C.jsx("p",{className:"text-xs text-muted-foreground",children:"+20.1% del mes anterior"})]})]}),C.jsxs(Gi,{children:[C.jsxs(Tl,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[C.jsx(Il,{className:"text-sm font-medium",children:"Gastos del Mes"}),C.jsx(I0,{className:"h-4 w-4 text-red-500"})]}),C.jsxs(Ki,{children:[C.jsx("div",{className:"text-2xl font-bold text-red-500",children:"$3,000.00"}),C.jsx("p",{className:"text-xs text-muted-foreground",children:"+10.5% del mes anterior"})]})]}),C.jsxs(Gi,{children:[C.jsxs(Tl,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[C.jsx(Il,{className:"text-sm font-medium",children:"Ahorro"}),C.jsx(nN,{className:"h-4 w-4 text-blue-500"})]}),C.jsxs(Ki,{children:[C.jsx("div",{className:"text-2xl font-bold",children:"$2,000.00"}),C.jsx("p",{className:"text-xs text-muted-foreground",children:"40% de los ingresos"})]})]})]})]})}function G2(){const[n]=Hl(Ea),[e,t]=x.useState([]),[i,o]=x.useState(null),[a,c]=x.useState(!0);return x.useEffect(()=>{if(!n)return;const h=Gs(yn,"users",n.uid,"transactions"),f=pm(h,o0("date","desc"),a0(10)),m=Vl(f,_=>{const E=_.docs.map(I=>{var T,O,b;return{id:I.id,...I.data(),date:((b=(O=(T=I.data().date)==null?void 0:T.toDate)==null?void 0:O.call(T))==null?void 0:b.toLocaleDateString())||new Date().toLocaleDateString()}});t(E),c(!1)},_=>{console.error("Error fetching transactions:",_),o("Error al cargar las transacciones."),c(!1)});return()=>m()},[n]),a?C.jsx("p",{children:"Cargando transacciones..."}):i?C.jsx("p",{className:"text-red-500",children:i}):C.jsxs("div",{className:"space-y-6",children:[C.jsx("div",{className:"bg-primary text-primary-foreground rounded-b-3xl -mx-4 -mt-20 p-6 pt-24 shadow-xl",children:C.jsx("h1",{className:"text-xl font-medium mb-4",children:"Transacciones"})}),C.jsx(Gi,{className:"overflow-hidden",children:C.jsxs("div",{className:"p-6",children:[C.jsx("h2",{className:"text-lg font-bold mb-4",children:"Movimientos Recientes"}),C.jsx("ul",{className:"divide-y",children:e.map(h=>C.jsx(k0,{name:"",amount:0,type:"transfer",...h},h.id))})]})})]})}const K2=(n,e)=>{const t=pm(Gs(yn,"users",n,"budgetCategories"));return Vl(t,i=>{const o=i.docs.map(a=>({id:a.id,...a.data()}));e(o)})},Q2=async(n,e)=>{const t=Gs(yn,"users",n,"budgetCategories");await h0(Ar(t),{...e,spent:0})},Y2=async(n,e,t)=>{const i=Ar(yn,"users",n,"budgetCategories",e);await sd(i,t)},X2=async(n,e)=>{const t=Ar(yn,"users",n,"budgetCategories",e);await mb(t)},J2=async(n,e,t)=>{console.log("Adding expense for user:",n,"category:",e,"amount:",t);const i=Ar(yn,"users",n,"budgetCategories",e),o=Gs(i,"expenses");try{const a=await cp(o,{amount:t,date:dp()});console.log("Expense added with ID:",a.id),await sd(i,{spent:gb(t)}),console.log("Category spent amount updated")}catch(a){throw console.error("Error in addExpense:",a),a}};var Sm="Progress",xm=100,[Z2,wD]=b0(Sm),[eD,tD]=Z2(Sm),mT=x.forwardRef((n,e)=>{const{__scopeProgress:t,value:i=null,max:o,getValueLabel:a=nD,...c}=n;(o||o===0)&&!A_(o)&&console.error(rD(`${o}`,"Progress"));const h=A_(o)?o:xm;i!==null&&!k_(i,h)&&console.error(iD(`${i}`,"Progress"));const f=k_(i,h)?i:null,m=ld(f)?a(f,h):void 0;return C.jsx(eD,{scope:t,value:f,max:h,children:C.jsx(Wn.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":ld(f)?f:void 0,"aria-valuetext":m,role:"progressbar","data-state":vT(f,h),"data-value":f??void 0,"data-max":h,...c,ref:e})})});mT.displayName=Sm;var gT="ProgressIndicator",yT=x.forwardRef((n,e)=>{const{__scopeProgress:t,...i}=n,o=tD(gT,t);return C.jsx(Wn.div,{"data-state":vT(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...i,ref:e})});yT.displayName=gT;function nD(n,e){return`${Math.round(n/e*100)}%`}function vT(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function ld(n){return typeof n=="number"}function A_(n){return ld(n)&&!isNaN(n)&&n>0}function k_(n,e){return ld(n)&&!isNaN(n)&&n<=e&&n>=0}function rD(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${xm}\`.`}function iD(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${xm} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var _T=mT,sD=yT;const wT=x.forwardRef(({className:n,value:e,...t},i)=>C.jsx(_T,{ref:i,className:Tt("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",n),...t,children:C.jsx(sD,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));wT.displayName=_T.displayName;function oD({isOpen:n,onClose:e,onSave:t,category:i}){const[o,a]=x.useState(i.name),[c,h]=x.useState(i.budget.toString());x.useEffect(()=>{a(i.name),h(i.budget.toString())},[i]);const f=()=>{t({name:o,budget:Number(c)}),e()};return C.jsx(Zl,{open:n,onOpenChange:e,children:C.jsxs(Ia,{children:[C.jsx(Sa,{children:C.jsx(xa,{children:"Editar Categoría de Presupuesto"})}),C.jsxs("div",{className:"space-y-4",children:[C.jsx(ls,{placeholder:"Nombre de la categoría",value:o,onChange:m=>a(m.target.value)}),C.jsx(ls,{type:"number",placeholder:"Presupuesto",value:c,onChange:m=>h(m.target.value)})]}),C.jsxs(Vd,{children:[C.jsx(_n,{onClick:e,variant:"outline",children:"Cancelar"}),C.jsx(_n,{onClick:f,children:"Guardar"})]})]})})}function aD({isOpen:n,onClose:e,onAdd:t}){const[i,o]=x.useState(""),[a,c]=x.useState(""),h=f=>{f.preventDefault(),t({name:i,budget:Number(a)}),o(""),c(""),e()};return C.jsx(Zl,{open:n,onOpenChange:e,children:C.jsxs(Ia,{className:"sm:max-w-[425px]",children:[C.jsx(Sa,{children:C.jsx(xa,{children:"Agregar Nueva Categoría"})}),C.jsxs("form",{onSubmit:h,className:"space-y-6 pt-4",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(Zs,{htmlFor:"name",children:"Nombre de la categoría"}),C.jsx(ls,{id:"name",placeholder:"Ej: Alimentación",value:i,onChange:f=>o(f.target.value),required:!0})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(Zs,{htmlFor:"budget",children:"Presupuesto"}),C.jsx(ls,{id:"budget",type:"number",placeholder:"Ej: 1000",value:a,onChange:f=>c(f.target.value),required:!0})]}),C.jsxs(Vd,{children:[C.jsx(_n,{type:"button",variant:"outline",onClick:e,children:"Cancelar"}),C.jsx(_n,{type:"submit",children:"Agregar"})]})]})]})})}function lD({isOpen:n,onClose:e,onAdd:t,categories:i}){const[o,a]=x.useState(""),[c,h]=x.useState(""),f=m=>{m.preventDefault(),t({categoryId:o,amount:Number(c)}),a(""),h(""),e()};return C.jsx(Zl,{open:n,onOpenChange:e,children:C.jsxs(Ia,{className:"sm:max-w-[425px]",children:[C.jsx(Sa,{children:C.jsx(xa,{children:"Registrar Gasto"})}),C.jsxs("form",{onSubmit:f,className:"space-y-6 pt-4",children:[C.jsxs("div",{className:"space-y-2",children:[C.jsx(Zs,{htmlFor:"category",children:"Categoría"}),C.jsxs("select",{id:"category",value:o,onChange:m=>a(m.target.value),className:"w-full border border-gray-300 rounded-md shadow-sm px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[C.jsx("option",{value:"",children:"Selecciona una categoría"}),i.map(m=>C.jsx("option",{value:m.id,children:m.name},m.id))]})]}),C.jsxs("div",{className:"space-y-2",children:[C.jsx(Zs,{htmlFor:"amount",children:"Monto"}),C.jsx(ls,{id:"amount",type:"number",placeholder:"Ej: 100",value:c,onChange:m=>h(m.target.value),required:!0})]}),C.jsxs(Vd,{children:[C.jsx(_n,{type:"button",variant:"outline",onClick:e,children:"Cancelar"}),C.jsx(_n,{type:"submit",children:"Registrar"})]})]})]})})}function uD(){const[n,e]=Hl(Ea),[t,i]=x.useState([]),[o,a]=x.useState(!1),[c,h]=x.useState(!1),[f,m]=x.useState(null),[_,E]=x.useState(!0);x.useEffect(()=>{let A;return e||(async()=>{n&&(E(!0),A=K2(n.uid,q=>{i(q),E(!1)}))})(),()=>{A&&A()}},[n,e]);const I=async A=>{if(n)try{await Q2(n.uid,A),mn.success("Categoría añadida con éxito")}catch(j){console.error("Error adding category:",j),mn.error("Error al añadir la categoría")}},T=async({categoryId:A,amount:j})=>{if(!n){console.error("No user logged in"),mn.error("Debes iniciar sesión para registrar un gasto");return}console.log("User UID:",n.uid);try{await J2(n.uid,A,j),mn.success("Gasto registrado con éxito")}catch(q){console.error("Error adding expense:",q),mn.error("Error al registrar el gasto")}},O=async(A,j)=>{if(n)try{await Y2(n.uid,A,j),m(null),mn.success("Categoría actualizada con éxito")}catch(q){console.error("Error updating category:",q),mn.error("Error al actualizar la categoría")}},b=async A=>{if(n)try{await X2(n.uid,A),mn.success("Categoría eliminada con éxito")}catch(j){console.error("Error deleting category:",j),mn.error("Error al eliminar la categoría")}};return e||_?C.jsx("div",{className:"flex justify-center items-center h-screen",children:"Cargando..."}):n?C.jsxs("div",{className:"relative min-h-screen pb-20",children:[C.jsxs("div",{className:"space-y-6 p-4",children:[C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsx("h1",{className:"text-3xl font-bold",children:"Presupuesto"}),C.jsxs(_n,{variant:"outline",size:"sm",onClick:()=>h(!0),children:[C.jsx(tN,{className:"h-4 w-4 mr-2"}),"Registrar Gasto"]})]}),t.length===0?C.jsxs("div",{className:"text-center py-12",children:[C.jsx("p",{className:"text-muted-foreground",children:"No hay categorías de presupuesto."}),C.jsx("p",{className:"text-muted-foreground",children:"Haz clic en el botón + para comenzar."})]}):C.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:t.map(A=>{const j=A.spent/A.budget*100,q=j>100;return C.jsxs(Gi,{children:[C.jsx(Tl,{className:"pb-2",children:C.jsx(Il,{className:"text-lg",children:A.name})}),C.jsxs(Ki,{className:"space-y-2",children:[C.jsxs("div",{className:"flex justify-between text-sm",children:[C.jsxs("span",{className:"font-medium",children:["$",A.spent.toFixed(2)," / $",A.budget.toFixed(2)]}),C.jsxs("span",{className:q?"text-red-500":"text-muted-foreground",children:[j.toFixed(1),"%"]})]}),C.jsx(wT,{value:j>100?100:j,className:q?"text-red-500":""}),C.jsxs("div",{className:"flex justify-between mt-2",children:[C.jsx(_n,{variant:"outline",size:"sm",onClick:()=>m(A),children:"Editar"}),C.jsx(_n,{variant:"destructive",size:"sm",onClick:()=>b(A.id),children:"Eliminar"})]})]})]},A.id)})})]}),C.jsxs(_n,{size:"lg",className:"fixed bottom-20 right-4 h-14 w-14 rounded-full shadow-lg",onClick:()=>a(!0),children:[C.jsx(R0,{className:"h-6 w-6"}),C.jsx("span",{className:"sr-only",children:"Agregar categoría"})]}),C.jsx(aD,{isOpen:o,onClose:()=>a(!1),onAdd:I}),C.jsx(lD,{isOpen:c,onClose:()=>h(!1),onAdd:T,categories:t}),f&&C.jsx(oD,{isOpen:!!f,onClose:()=>m(null),onSave:A=>O(f.id,A),category:f})]}):C.jsx("div",{className:"flex justify-center items-center h-screen",children:"Por favor, inicia sesión para ver tu presupuesto."})}function cD(){const n=us(),e=[{name:"Inicio",href:"/",icon:C0},{name:"Dashboard",href:"/dashboard",icon:x0},{name:"Transacciones",href:"/transactions",icon:iN},{name:"Presupuesto",href:"/budget",icon:A0}],t=i=>n.pathname===i;return C.jsx("div",{className:"fixed bottom-0 left-0 right-0 z-50 bg-background border-t py-2",children:C.jsx("div",{className:"container mx-auto px-4",children:C.jsx("nav",{className:"flex justify-between items-center",children:e.map(i=>C.jsxs(Tp,{to:i.href,className:"flex flex-col items-center gap-1",children:[C.jsx(i.icon,{className:Tt("h-6 w-6",t(i.href)?"text-primary":"text-muted-foreground")}),C.jsx("span",{className:Tt("text-xs",t(i.href)?"text-primary":"text-muted-foreground"),children:i.name})]},i.name))})})})}function dD(){const[n,e]=x.useState(!1),t=async()=>{e(!0);try{const i=new Jr;await fR(Ea,i)}catch(i){console.error("Error signing in with Google",i)}finally{e(!1)}};return C.jsx("div",{className:"flex justify-center items-center h-screen",children:C.jsx(_n,{onClick:t,disabled:n,children:n?"Signing In...":"Sign In with Google"})})}const hD=()=>C.jsxs("div",{children:[C.jsx("h1",{children:"404 - Page Not Found"}),C.jsx("p",{children:"The page you are looking for does not exist."})]});function fD(){const[n,e]=Hl(Ea);return e?C.jsx("div",{children:"Loading..."}):C.jsx(GS,{basename:"/Finance",children:C.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[C.jsx(Cx,{}),n?C.jsxs(C.Fragment,{children:[C.jsx("main",{className:"container mx-auto px-4 pt-4 pb-20 flex-grow",children:C.jsxs(IS,{children:[C.jsx(qo,{path:"/",element:C.jsx(q2,{})}),C.jsx(qo,{path:"/dashboard",element:C.jsx(H2,{})}),C.jsx(qo,{path:"/transactions",element:C.jsx(G2,{})}),C.jsx(qo,{path:"/budget",element:C.jsx(uD,{})}),C.jsx(qo,{path:"*",element:C.jsx(hD,{})})]})}),C.jsx(cD,{})]}):C.jsx(dD,{})]})})}NI.createRoot(document.getElementById("root")).render(C.jsx(x.StrictMode,{children:C.jsx(fD,{})}));
